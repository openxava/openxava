<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>View - OpenXava</title>
    <link rel="stylesheet" href="static/style.css" type="text/css">
    <link rel="stylesheet" href="highlight/highlight.css">
    
    <link rel="stylesheet" href="highlight/highlightjs-copy.css"><script src="highlight/highlight.js"></script>
    
    <script src="highlight/highlightjs-copy.js"></script><script>window.addEventListener('DOMContentLoaded',function(){hljs.addPlugin(new CopyButtonPlugin({ autohide: false }));hljs.highlightAll();});</script>
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
      <h1 id="toc0"><a name="View"></a> <span id="breadcrumbs"> <span id="openxava">
            <a href="https://www.openxava.org/"> <span>o</span>pen<span>x</span>ava
              </a> </span> / <a href="index_en.html">documentation</a> / </span>
        View </h1>
      <strong>Reference guide</strong>: <a class="wiki_link" href="model_en.html">Model</a>
      | <strong>View</strong> | <a class="wiki_link" href="tab_en.html">Tabular
        data</a> | <a class="wiki_link" href="mapping_en.html">Object/relational
        mapping</a> | <a class="wiki_link" href="controllers_en.html">Controllers</a>
      | <a class="wiki_link" href="application_en.html">Application</a> | <a class="wiki_link"

        href="customizing_en.html">Customizing</a>
      <hr>
      <div id="toc">
        <h1 class="nopad">Table of contents</h1>
        <div style="margin-left: 1em;"><a href="#View">View</a></div>
        <div style="margin-left: 2em;"><a href="#View-Layout">Layout</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-Aligned+by+columns">Aligned by columns</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-Groups">Groups</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-Sections">Sections</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-Frames+side+by+side">Frames side by side</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-View%20inheritance%20%28new%20in%20v3.1.2%29">View
            inheritance (new in v3.1.2)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-Responsive%20layout%20%28new%20in%20v5.7%29">Responsive
            layout (new in v5.7)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Layout-Layout%20philosophy">Layout
            philosophy</a></div>
        <div style="margin-left: 2em;"><a href="#View-Rules%20for%20view%20annotations">Rules
            for view annotations</a></div>
        <div style="margin-left: 2em;"><a href="#View-Property%20customization">Property
            customization</a></div>
        <div style="margin-left: 3em;"><a href="#View-Property%20customization-Label%20format">Label
            format</a></div>
        <div style="margin-left: 3em;"><a href="#View-Property%20customization-Property%20value%20change%20event">Property
            value change event</a></div>
        <div style="margin-left: 3em;"><a href="#View-Property%20customization-Actions%20of%20property">Actions
            of property</a></div>
        <div style="margin-left: 3em;"><a href="#View-Property%20customization-Choosing%20an%20editor%20%28property%29">Choosing
            an editor (property)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Property%20customization-Dynamic%20combos%20%28new%20in%20v5.8%29">Dynamic
            combos (new in v5.8)</a></div>
        <div style="margin-left: 3em;"><a href="#large-display-format">Large
            display format (new in v7.4)</a></div>
        <div style="margin-left: 2em;"><a href="#View-Reference%20customization">Reference
            customization</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Choose%20view">Choose
            view</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Customizing%20frame">Customizing
            frame</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Custom%20search%20action">Custom
            search action</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Condition%20for%20search%20list%20%28reference,%20new%20in%20v4m4%29">Condition
            for search list (reference, new in v4m4)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Custom%20creation%20action">Custom
            creation action</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Custom%20modification%20action">Custom
            modification action</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Descriptions%20list%20%28combos%29">Descriptions
            list (combos)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Reference%20value%20change%20event">Reference
            value change event</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Reference%20search%20on%20change%20event">Reference
            search on change event</a></div>
        <div style="margin-left: 3em;"><a href="#View-Reference%20customization-Choosing%20an%20editor%20%28reference,%20new%20in%20v3.1.3%29">Choosing
            an editor (reference, new in v3.1.3)</a><br>
          <a href="#choose-tab-for-search-action-reference">Choose tab for
            search action (reference, new in v7.4)</a></div>
        <div style="margin-left: 3em;"><a href="#view-for-editing-reference">View
            for editing (reference, new in v7.7)</a></div>
        <div style="margin-left: 2em;"><a href="#View-Collection%20customization">Collection
            customization</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Properties%20in%20list">Properties
            in list</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-View%20for%20editing">View
            for editing</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Element%20collection%20%28new%20in%20v5.0%29">Element
            collection (new in v5.0)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Custom%20edit/view%20action">Custom
            edit/view action</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Custom%20list%20and%20row%20actions">Custom
            list and row actions</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Default%20list%20and%20row%20actions">Default
            list and row actions</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Custom%20detail%20actions">Custom
            detail actions</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">Refining
            collection view default behavior</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Action%20when%20a%20collection%20element%20is%20selected%20%28new%20in%20v3.1.2%29">Action
            when a collection element is selected (new in v3.1.2)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Choosing%20an%20editor%20%28collection,%20new%20in%20v3.1.3%29">Choosing
            an editor (collection, new in v3.1.3)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Condition%20for%20search%20list%20%28collection,%20new%20in%20v4m4%29">Condition
            for search list (collection, new in v4m4)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Displaying%20collections%20as%20a%20tree%20%28new%20in%20v4m4%29">Displaying
            collections as a tree (new in v4m4)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Total%20properties%20%28new%20in%20v4.3%29">Total
            properties (new in v4.3)</a></div>
        <div style="margin-left: 3em;"><a href="#View-Collection%20customization-Subcontroller%20in%20a%20collection%20%28new%20in%20v5.7%29">Subcontroller
            in a collection (new in v5.7)</a></div>
        <div style="margin-left: 3em;"><a href="#chart-from-collection">Chart
            from a collection (new in v7.4)</a></div>
        <div style="margin-left: 3em;"><a href="#simple-list">Simple list (new
            in v7.4)</a><br>
          <a href="#choose-tab-for-search-action-collection">Choose tab for
            search action (collection, new in v7.4)</a></div>
        <div style="margin-left: 3em;"><a href="#no-default-actions">Hide
            default list and row actions (new in v7.4)</a></div>
        <div style="margin-left: 2em;"><a href="#transient-properties-ui-controls">Transient
            properties for UI controls</a></div>
        <div style="margin-left: 2em;"><a href="#View-View%20actions">View
            actions</a></div>
        <div style="margin-left: 2em;"><a href="#View-Transient%20class:%20Only%20for%20creating%20views">Transient
            class: Only for creating views</a></div>
      </div>
      OpenXava generates a default user interface from the model. In many simple
      cases this is enough, but sometimes it is necessary to model with
      precision the format of the user interface or view. In this chapter you
      will learn how to do this.<br>
      <h2 id="toc1"><a name="View-Layout"></a>Layout</h2>
      The <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/View.html"

          rel="nofollow">@View</a></em> annotation can be used in an entity or
      embeddable class in order to define the layout of its members in the user
      interface.<br>
      The syntax for <em>@View</em> is:<br>
      <pre><code class="language-java">@View(
 name="name", // 1
 members="members", // 2
 extendsView="view" // 3 New in v3.1.2
)
public class MyEntity {</code></pre>
      <ol>
        <li><strong>name</strong> (optional): This name identifies the view, and
          can be used in other OpenXava places (for example in <em>application.xml</em>)
          or from another entity. If the view has no name then the view is
          assumed as the default one, that is the natural form to display an
          object of this type. If the name is <em>Simple</em> or <em>Search</em>
          this view will be used by default to create the search dialog <em>(since
            v4m4)</em>.</li>
        <li><strong>members</strong> (optional): Indicates the members to
          display and its layout in the user interface. By default it displays
          all members (excluding hidden ones) in the order in which are declared
          in the model. Inside members you can use section and group elements
          for layout purposes; or action element for showing a link associated
          to a custom action inside your view.</li>
        <li><strong>extendsView</strong> (optional): <em>(New in v3.1.2)</em>
          All the members in the <em>extendsView</em> view are automatically
          included in the current one. See <a class="wiki_link" href="#View-Layout-View%20inheritance%20%28new%20in%20v3.1.2%29">view
            inheritance</a>.</li>
      </ol>
      You can define several views for an entity using the <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Views.html"

          rel="nofollow">@Views</a></em> annotation.<br>
      By default (if you do not use <em>@View</em>) all members are displayed
      in the order of the model, and one for each line.<br>
      For example, a model like this:<br>
      <pre><code class="language-java">@Entity
@IdClass(ClerkKey.class)
public class Clerk {

 @Id @Required
 @Column(length=3, name="ZONE")
 private int zoneNumber;

 @Id @Required
 @Column(length=3, name="OFFICE")
 private int officeNumber;

 @Id @Required
 @Column(length=3, name="NUMBER")
 private int number;

 @Required @Column(length=40)
 private String name;

 // Getters and setters
 ...

 }</code></pre>
      Generates a view that looks like this:<br>
      <img src="files/view_en010.jpg" alt="view_en010.jpg" title="view_en010.jpg"><br>
      You can choose the members to display and its order, with the <em>members</em>
      attribute:<br>
      <pre><code class="language-java">@Entity
@IdClass(ClerkKey.class)
@View(members="zoneNumber; officeNumber; number")
public class Clerk {</code></pre>
      In this case <em>name</em> is not shown.<br>
      Also you can use <em>members</em> for tunning the layout:<br>
      <pre><code class="language-java">@View(members=
 "zoneNumber, officeNumber, number;" +
 "name"
)</code></pre>
      You can observe that the member names are separated by commas or by
      semicolon, this is used to indicate layout. With comma the member is
      placed just the following (at right), and with semicolon the next member
      is put below (in the next line). Hence the previous view is displayed in
      this way:<br>
      <img src="files/view_en020.jpg" alt="view_en020.jpg" title="view_en020.jpg"><br>
      <h3 id="toc1.5"><a name="View-Layout-Aligned+by+columns"></a>Aligned by columns</h3>
      Sometimes it's useful to layout members aligned by columns, like in a
      table. For example, the next view:<br>
      <pre><code class="language-java">@View( members=
    "number, type, name;" +
    "telephone, email, website")
</code></pre>
      ...will be displayed as following:<br>
      <img src="files/view_en024.png" alt="view_en024.png" title="view_en024.png"><br>
      This is ugly. It would be better to have all data aligned by columns. You
      can define the view in this way:<br>
      <pre><code class="language-java">@View( members=
    "#number, type, name;" +
    "telephone, email, website")
</code></pre>
      Note that now you use <em>#</em> at the beginning of <em>members</em>. Now you obtain
      this result:<br>
      <img src="files/view_en026.png" alt="view_en026.png" title="view_en026.png"><br>
      Now, thanks to the <em>#,</em> the members are aligned by columns.<br>
      This feature is also available for the groups and sections (see below). Moreover, if you put
      <em>alignedByColumns=true</em> in <em>xava.properties</em>
      all elements are aligned by column even if you do not specify <em>#</em>
      in the view.<br>
      <h3 id="toc2"><a name="View-Layout-Groups"></a>Groups</h3>
      With groups you can lump a set of related properties and it has visual
      effect. For defining a group you only need to put the name of the group
      and after it its members within square brackets. Just in this way:<br>
      <pre><code class="language-java">@View(members=
 "id [ zoneNumber, officeNumber, number ];" +
 "name"
)</code></pre>
      In this case the result is:<br>
      <img src="files/view_en030.jpg" alt="view_en030.jpg" title="view_en030.jpg"><br>
      You can see the three properties within the group are displayed inside a
      frame, and <em>name</em> is displayed outside this frame. The semicolon
      before <em>name</em> causes it to appear below, if not it appears at
      right.<br>
      You can put several groups in a view:<br>
      <pre><code class="language-java">@View(members=
 "general [" +
 " number;" +
 " type;" +
 " name;" +
 "]" +
 "contact [" +
 " telephone;" +
 " email;" +
 " website;" +
 "]"
)</code></pre>
      In this case the groups are shown one next to the other:<br>
      <img src="files/view_en035.jpg" alt="view_en035.jpg" title="view_en035.jpg"><br>
      If you want one below the other then you must use a semicolon after the
      group, like this:<br>
      <pre><code class="language-java">@View(members=
 "general [" +
 " number;" +
 " type;" +
 " name;" +
 "];" +
 "contact [" +
 " telephone;" +
 " email;" +
 " website;" +
 "]"
)</code></pre>
      In this case the view is shown this way:<br>
      <img src="files/view_en040.jpg" alt="view_en040.jpg" title="view_en040.jpg"><br>
      Nested groups are allowed. This is a pretty feature that allows you to
      layout the elements of the user interface in a flexible and simple way.
      For example, you can define a view as this:<br>
      <pre><code class="language-java">@View(members=
 "invoice;" +
 "deliveryData [" +
 " type, number;" +
 " date;" +
 " description;" +
 " shipment;" +
 " transportData [" +
 " distance; vehicle; transportMode; driverType;" +
 " ]" +
 " deliveryByData [" +
 " deliveredBy;" +
 " carrier;" +
 " employee;" +
 " ]" +
 "]"
)</code></pre>
      And the result will be:<br>
      <img src="files/view_en050.jpg" alt="view_en050.jpg" title="view_en050.jpg"><br>
      Sometimes it's useful to layout members aligned by columns, like in a
      table. For example, the next view:<br>
      <pre><code class="language-java">@View(name="Amounts", members=
 "year, number;" +
 "amounts [" +
 "customerDiscount, customerTypeDiscount, yearDiscount;" +
 "amountsSum, vatPercentage, vat;" +
 "]"
)</code></pre>
      ...will be displayed as following:<br>
      <img src="files/view_en060.jpg" alt="view_en060.jpg" title="view_en060.jpg"><br>
      This is ugly. It would be better to have all data aligned by columns. You
      can define the group in this way:<br>
      <pre><code class="language-java">@View(name="Amounts", members=
 "year, number;" +
 "amounts [#" +
 "customerDiscount, customerTypeDiscount, yearDiscount;" +
 "amountsSum, vatPercentage, vat;" +
 "]"
)</code></pre>
      Note that now you use <em>[#</em> instead of <em>[</em>. Now you obtain
      this result:<br>
      <img src="files/view_en070.jpg" alt="view_en070.jpg" title="view_en070.jpg"><br>
      Now, thanks to the <em>#,</em> the members are aligned by columns.<br>
      This feature is also available for the sections (see below) and for <em>members</em>,
      that is for the root view <em>(new in v4.7.1)</em>. Moreover, if you put
      <em>alignedByColumns=true (new in v4.7.1)</em> in <em>xava.properties</em>
      all elements are aligned by column even if you do not specify <em>#</em>
      in the view.<br>
      <h3 id="toc3"><a name="View-Layout-Sections"></a>Sections</h3>
      Furthermore the members can be organized in sections. For defining a
      section you only need to put the name of the section and after it its
      members within braces. Let's see an example from the <em>Invoice</em>
      entity:<br>
      <pre><code class="language-java">@View(members=
 "year, number, date, paid;" +
 "comment;" +
 "customer { customer }" +
 "details { details }" +
 "amounts { amountsSum; vatPercentage; vat }" +
 "deliveries { deliveries }"
)</code></pre>
      The visual result is:<br>
      <img src="files/view_en080.jpg" alt="view_en080.jpg" title="view_en080.jpg"><br>
      The sections are rendered as tabs that the user can click to see the data
      contained in that section. You can observe how in the view you put members
      of all types (not only properties); thus, <em>customer</em> is a
      reference, <em>details</em> and <em>deliveries</em> are collections.<br>
      Nested sections are allowed. For example, you can define a view as this:<br>
      <pre><code class="language-java">@View(name="NestedSections", members=
 "year, number, date;" +
 "customer { customer }" +
 "data {" +
 " details { details }" +
 " amounts {" +
 " vat { vatPercentage; vat }" +
 " amountsSum { amountsSum }" +
 " }" +
 "}" +
 "deliveries { deliveries }"
)</code></pre>
      In this case you will obtain a user interface like this:<br>
      <img src="files/view_en090.jpg" alt="view_en090.jpg" title="view_en090.jpg"><br>
      As in the groups case, the sections allow using <em>#</em> for aligning
      by columns, like this:<br>
      <pre><code class="language-java">@View(name="AlignedAmountsInSection", members=
 "year, number;" +
 "customer { customer }" +
 "details { details }" +
 "amounts {#" +
 "customerDiscount, customerTypeDiscount, yearDiscount;" +
 "amountsSum, vatPercentage, vat;" +
 "}"
)</code></pre>
      With the same effect as in the <a class="wiki_link" href="#View-Layout-Groups">group</a>
      case.<br>

<h3 id="toc3.5"><a name="View-Layout-Frames+side+by+side"></a>Frames side by side</h3>

<p>Members that are displayed within a frame, such as references, groups or collections, can be displayed side by side
  instead of one below the other, if you wish. That is, it is possible to arrange
  two frames in the same row. To do this you only have to separate them with a comma
   instead of a semicolon, as you can see in this example:</p>
  <pre><code class="language-java">@View( members= 
    "name;" +  
    "seller, alternateSeller"
)</code></pre>
<p>In this case <i>name</i> is a plain property, but <i>seller</i> and <i>alternateSeller</i>
  are references. The visual result would be:</p>
<img src="files/view_en091.png"/>  
<p>Where you can see that <i>seller</i> and <i>alternateSeller</i> are displayed on the same line. 
  This also works for collections and groups. Additionally, you can combine them, you can put a reference 
  and a group (for example) on the same line.</p>
<p>What is not allowed is to place members that are displayed with a simple field,
  such as properties or references with <i>@DescriptionsList</i>, and members that use frames like reference,
  groups and collections on the same line. If you declare it this way in <i>@View</i>, OpenXava will show the frames on their own line.</p>  
<p>For example, if you have this code:</p>  
<pre><code class="language-java">@View( members="name, seller" )</code></pre>
<p>Where you indicate that <i>name</i>, which is a plain property, and <i>seller</i>, which is a reference, 
  should be displayed side by side, since you separate them by comma. When displayed, 
  OpenXava ends up doing it like this:</p>
<img src="files/view_en091bis.png"/>
<p>That is, one below the other. OpenXava has put the <i>seller</i> reference on its own line.
  We see how we cannot display simple fields and frames side by side.</p>
      
      <h3 id="toc4"><a name="View-Layout-View inheritance (new in v3.1.2)"></a>View
        inheritance <em>(new in v3.1.2)</em></h3>
      On defining a new view you can inherit the members and layout of an
      already existing view. In this way, you can avoid copy &amp; paste, and at
      the same time you keep your code shorter and easier to update.<br>
      This is done using <em>extendsView</em>. For example if you have a view
      like the next one:<br>
      <pre><code class="language-java">@View(name="VerySimple", members="name, sex"),</code></pre>
      That produces the next UI:<br>
      <img src="files/view_en92.jpg" alt="view_en92.jpg" title="view_en92.jpg"><br>
      If you want a new view that extends this one just write the next code:<br>
      <pre><code class="language-java">@View(name="Simple", extendsView="VerySimple", members="mainLanguage")</code></pre>
      and you will have the next view:<br>
      <img src="files/view_en094.jpg" alt="view_en094.jpg" title="view_en094.jpg"><br>
      As you see the members of <em>VerySimple</em> view are included
      automatically in <em>Simple</em> view, and the own members of view are
      added at the end.<br>
      In this case you extend a view of the same entity, but you can also extend
      a view of the parent entity, if you are using JPA inheritance. That is, if
      you have an entity called <em>Programmer</em>:<br>
      <pre><code class="language-java">@Entity
@View(name="WithSections",
 members =
 "name, sex;" +
 "mainLanguage;" +
 "experiences { experiences }"
)
public class Programmer {</code></pre>
      You can reuse the <em>WithSections</em> view in a child class of <em>Programmer</em>:<br>
      <pre><code class="language-java">@Entity
@View(name="WithSections", extendsView="super.WithSections",
 members =
 "favouriteFramework;" +
 "frameworks { frameworks }"
)
public class JavaProgrammer extends Programmer {</code></pre>
      As you can see, the way to extends a view of the superclass is using the <em>super</em>
      prefix for <em>extendsView</em>. In this case the <em>WithSections</em>
      view of the <em>JavaProgrammer</em> entity will have all the members of
      the <em>WithSections</em> view of <em>Programmer</em> entity plus its
      own ones.<br>
      Look the aspect of <em>WithSections</em> view of <em>JavaProgrammer</em>:<br>
      <img src="files/view_en096.jpg" alt="view_en096.jpg" title="view_en096.jpg"><br>
      If you want to extend the default view (the default view is the view with
      no name) just use the word DEFAULT as name for <em>extendsView</em>. As
      in the next example:<br>
      <pre><code class="language-java">@View(members="name, sex; mainLanguage, favouriteFramework; experiences")
@View(name="Complete", extendsView="DEFAULT", members = "frameworks")
</code></pre>
      The <em>Complete</em> view will have all the members of default view (<em>name,
        sex, mainLanguage, favouriteFramework, experiences</em>) plus <em>frameworks</em>.<br>
      View inheritance only applies to members and their layout. Actions, events
      and other refinements done at member level are not inherited.<br>
      <h3 id="toc5"><a name="View-Layout-Responsive layout (new in v5.7)"></a>Responsive
        layout <em>(new in v5.7)</em></h3>
      Responsive layout means that the layout of the UI is adapted to the page
      size, so your application works fine in a 7" tablet, a 15" laptop or a 22"
      desktop, with the same code. To activate responsive layout in OpenXava add
      the next entry to <em>xava.properties</em> of your project:<br>
      <pre><code class="language-properties">flowLayout=true</code></pre>
      After it, OpenXava adjusts the fields layout to the page size. For
      example, from the next <em>@View</em>:<br>
      <pre><code class="language-java">@View( members=
    "#number, description;" +
    "color, photos;" +
    "family, subfamily;" +
    "warehouse, zoneOne;" +
    "unitPrice, unitPriceInPesetas;" +
    "unitPriceWithTax"
)</code></pre>
      With a small screen you get:<br>
      <img src="files/view_en097.jpg" alt="view_en097.jpg" title="view_en097.jpg"><br>
      <br>
      With a not so small screen you get:<br>
      <img src="files/view_en098.jpg" alt="view_en098.jpg" title="view_en098.jpg"><br>
      <br>
      With a larger screen:<br>
      <img src="files/view_en099.jpg" alt="view_en099.jpg" title="view_en099.jpg"

        style="height: 168px; width: 800px;"><br>
      <br>
      And so on. Note as # , and ; from <em>@View</em> are ignored.<br>
      <h3 id="toc6"><a name="View-Layout-Layout philosophy"></a>Layout
        philosophy</h3>
      It's worth to notice that you have groups instead of frames and sections
      instead of tabs. Because OpenXava tries to maintain a high level of
      abstraction, that is, a group is a set of members semantically related,
      and the sections allow to split the data into parts. This is useful, if
      there is a big amount of data that cannot be displayed simultaneous. The
      fact that the group is displayed as frames or sections in a tabbed pane is
      only an implementation issue. For example, OpenXava (maybe in future) can
      choose to display sections (for example) with trees or so.<br>
      <h2 id="toc7"><a name="View-Rules for view annotations"></a>Rules for view
        annotations</h2>
      You can annotate a member (property, reference or collection) with several
      annotations that refine its display style and behaviour. Moreover you can
      define that effect of these annotations only applies to some views.</div>
    <div class="wiki" style="display: block;"> For example if you can have an
      entity with several views:<br>
      <pre><code class="language-java">@Entity
@View( members= "number; type; name; address" )
@View( name="A", members= "number; type; name; address; seller" )
@View( name="B", members= "number; type; name; seller; alternateSeller" )
@View( name="C", members="number; type; name; address; deliveryPlaces" )
public class Customer {
</code></pre>
      If you're using an OpenXava version older than 6.1 you have to use <i>@Views</i>
      to wrap the views:<br>
      <div class="wiki">
        <pre><code class="language-java">@Entity
@Views({ // Only needed until v6.0.2
  @View( members= "number; type; name; address" ),
  @View( name="A", members= "number; type; name; address; seller" ),
  @View( name="B", members= "number; type; name; seller; alternateSeller" ),
  @View( name="C", members="number; type; name; address; deliveryPlaces" )
})
public class Customer {
</code></pre>If now you want the <em>name</em> property will be read only. You can
        annotate it in this way:</div>
      <pre><code class="language-java">@ReadOnly
private String name;</code></pre>
      In this way <em>name</em> is read only in all views. However, you may
      want that <em>name</em> will be read only only on views <em>B</em> and <em>C</em>,
      then you can define the member as following:<br>
      <pre><code class="language-java">@ReadOnly(forViews="B, C")
private String name;</code></pre>
      Another way for defining this same case is:<br>
      <pre><code class="language-java">@ReadOnly(notForViews="DEFAULT, A")
private String name;</code></pre>
      Using <em>notForViews</em> you indicate the views where <em>name</em>
      property is not read only. DEFAULT is used for referencing to the default
      view, the view with no name.<br>
      Some annotations have one or more values, for example for indicating which
      view of the referenced type will be used for displaying a reference you
      use the <em>@ReferenceView</em> annotation:<br>
      <pre><code class="language-java">@ReferenceView("Simple")
private Seller seller;</code></pre>
      In this case when the seller is displayed the view <em>Simple</em>,
      defined in <em>Seller</em> class, is used.<br>
      What if you want to use <em>Simple</em> view of <em>Seller</em> only in
      <em>B</em> view of <em>Customer</em>? It's easy:<br>
      <pre><code class="language-java">@ReferenceView(forViews="B", value="Simple")
private Seller seller;</code></pre>
      What if you want to use <em>Simple</em> view of <em>Seller</em> only in
      <em>B</em> view of <em>Customer</em> and the <em>VerySimple</em> view of
      <em>Seller</em> for <em>A</em> view of <em>Customer</em>? In this case
      you have to use several <em>@ReferenceView</em>:<br>
      <pre><code class="language-java">@ReferenceView(forViews="B", value="Simple"),
@ReferenceView(forViews="A", value="VerySimple")</code></pre>
      If you're using a version previous to v6.1 in order to have several <i>@ReferenceView</i>
      you must use <em>@ReferenceViews</em>, just in this way:<br>
      <div class="wiki">
        <pre><code class="language-java">@ReferenceViews({ // Only needed until v6.0.2
  @ReferenceView(forViews="B", value="Simple"),
  @ReferenceView(forViews="A", value="VerySimple")
})
</code></pre> These rules apply to all the annotations in this chapter, except <em>@View</em>
        and <em>@Views</em>.<br>
      </div>
      <h2 id="toc8"><a name="View-Property customization"></a>Property
        customization</h2>
      You can refine the visual aspect and behavior of a property in a view
      using the next annotations:<br>
      <pre><code class="language-java">@ReadOnly // 1
@LabelFormat // 2
@DisplaySize // 3
@OnChange // 4
@Action // 5
@Editor // 6
@LabelStyle // 7 New in v4m4
@LargeDisplay // 8 New in v7.4
private type propertyName;
</code></pre> All these annotations follow the <a class="wiki_link" href="#View-Rules%20for%20view%20annotations">rules
        for view annotations</a> and all they are optionals. OpenXava always
      assumes a correct default values if they are omitted.<br>
      <ol>
        <li><strong>@ReadOnly</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

            rel="nofollow">OX</a>): If you mark a property with this annotation
          it never will be editable by the final user in this view. An
          alternative to this is to make the property editable or not editable
          programmatically using <a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html"

            rel="nofollow">org.openxava.view.View</a>. Since v6.2 you can
          specify <i>@ReadOnly(onCreate=false)</i> in order the property will
          be editable on creating a new entity, but read only in all other
          cases.</li>
        <li><strong><a class="wiki_link" href="#View-Property%20customization-Label%20format">@LabelFormat</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormat.html"

            rel="nofollow">OX</a>): Format to display the label of this
          property. Its value can be <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormatType.html"

              rel="nofollow">LabelFormatType</a>.NORMAL</em>, <em><a class="wiki_link_ext"

              href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormatType.html"

              rel="nofollow">LabelFormatType</a>.SMALL</em> or <em><a class="wiki_link_ext"

              href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormatType.html"

              rel="nofollow">LabelFormatType</a>.NO_LABEL</em>.</li>
        <li><strong>@DisplaySize</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DisplaySize.html"

            rel="nofollow">OX</a>): The size in characters of the editor in the
          User Interface used to display this property. The editor display only
          the characters indicated by <em>@DisplaySize</em> but it allows to
          the user to entry until the total size of the property. If <em>@DisplaySize</em>
          is not specified, the value of the size of the property is assumed.</li>
        <li><strong><a class="wiki_link" href="#View-Property%20customization-Property%20value%20change%20event">@OnChange</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html"

            rel="nofollow">OX</a>): Action to execute when the value of this
          property changes. Only one <em>@OnChange</em> action per view is
          allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Property%20customization-Actions%20of%20property">@Action</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Action.html"

            rel="nofollow">OX</a>): Actions (showed as links, buttons or images
          to the user) associated (visually) to this property and that the final
          user can execute. It's possible to define several <em>@Action</em>
          for each view.</li>
        <li><strong><a class="wiki_link" href="#View-Property%20customization-Choosing%20an%20editor%20%28property%29">@Editor</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

            rel="nofollow">OX</a>): Name of the editor to use for displaying the
          property in this view. The editor must be declared in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-editors.xml"><i>openxava/src/main/resources/xava/default-editors.xml</i></a>
          or <i>src/main/resources/xava/editors.xml</i> of your project. Before
          v7 they were <em>OpenXava/xava/default-editors.xml</em> and <em>xava/editors.xml</em>
          of your project.</li>
        <li><strong>@LabelStyle</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelStyle.html"

            rel="nofollow">OX</a>): (<em>New in v4m4</em>): Style to display the
          label of this property. It has the predefined styles 'bold-label',
          'italic-label' and 'reverse-label'; <span class="short_text">though
            you can use your own custom style if you define it in a CSS file.</span></li>
        <li><strong><a class="wiki_link" href="#large-display-format">@LargeDisplay</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LargeDisplay.html"

            rel="nofollow">OX</a>): (<em>New in v7.4</em>): To display the value
          of the property in large format t<span class="short_text">o make the
            value clearly visible</span><span class="short_text">. Generally
            with a large font, inside a small frame with spacing, etc. Also it
            allows to show an icon, a prefix and a suffix optionally.</span></li>
      </ol>
      <p>Apart of the above view related annotations you can annotate properties
        with <a href="model_en.html#Model-Properties-Stereotype">stereotype
          like annotations</a>.</p>
      <ol>
      </ol>
      <h3 id="toc9"><a name="View-Property customization-Label format"></a>Label
        format</h3>
      A simple example of using <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormat.html"

          rel="nofollow">@LabelFormat</a></em>:<br>
      <pre><code class="language-java">@LabelFormat(LabelFormatType.SMALL)
private int zipCode;
</code></pre>
      In this case the zip code is displayed as:<br>
      <img src="files/view_en100.jpg" alt="view_en100.jpg" title="view_en100.jpg"><br>
      The <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormatType.html"

          rel="nofollow">LabelFormatType</a>.NORMAL</em> format is the default
      style (with a normal label at the left) and the <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormatType.html"

          rel="nofollow">LabelFormatType</a>.NO_LABEL</em> simply does not
      display the label. Since v4m4 you can use <em>defaultLabelFormat</em> in
      <em>xava.properties</em> to specify the label format to be used when <em>@LabelFormat</em>
      is omitted.<br>
      <h3 id="toc10"><a name="View-Property customization-Property value change event"></a>Property
        value change event</h3>
      If you wish to react to the event of a value change of a property you can
      use <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html"

          rel="nofollow">@OnChange</a></em> as following:<br>
      <pre><code class="language-java">@OnChange(OnChangeCustomerNameAction.class)
private String name;
</code></pre>
      The code to execute is:<br>
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;
import org.openxava.test.model.*;

/**
 * @author Javier Paniza
 */
public class OnChangeCustomerNameAction extends OnChangePropertyBaseAction { // 1

 public void execute() throws Exception {
 String value = (String) getNewValue(); // 2
 if (value == null) return;
 if (value.startsWith("Javi")) {
 getView().setValue("type", Customer.Type.STEADY); // 3
 }
 }

}</code></pre>
      The action has to implement <em>IOnChangePropertyAction</em> although it
      is more convenient to extend it from <em>OnChangePropertyBaseAction</em>
      (1). Within the action you can use <em>getNewValue()</em> (2) that
      provides the new value entered by user, and <em>getView()</em> (3) that
      allows you to access programmatically the <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html"

          rel="nofollow">View</a></em> (change values, hide members, make them
      editable and so on).<br>
      <h3 id="toc11"><a name="View-Property customization-Actions of property"></a>Actions
        of property</h3>
      You can also specify actions (<em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Action.html"

          rel="nofollow">@Action</a></em>) that the user can click directly:<br>
      <pre><code class="language-java">@Action("Delivery.generateNumber")
private int number;
</code></pre>
      In this case instead of an action class you have to write the action
      identifier that is the controller name and the action name. This action
      must be registered in <em>controllers.xml</em> in this way:<br>
      <pre><code class="language-xml">&lt;controller name="Delivery"&gt;
 ...
 &lt;action name="generateNumber" hidden="true"
 class="org.openxava.test.actions.GenerateDeliveryNumberAction"&gt;
 &lt;use-object name="xava_view"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;
</code></pre>
      The actions are displayed as a link or an image beside the property. Like
      this:<br>
      <img src="files/view_en110.jpg" alt="view_en110.jpg" title="view_en110.jpg"><br>
      By default the action link is present only when the property is editable,
      but if the property is read only (<em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

          rel="nofollow">@ReadOnly</a></em>) or <a class="wiki_link" href="model_en.html#Model-Properties-Calculated%20properties">calculated</a>
      then it is always present. You can use the attribute <em>alwaysEnabled</em>
      to <em>true</em> so that the link is always present, even if the property
      is not editable. As following:<br>
      <pre><code class="language-java">@Action(value="Delivery.generateNumber", alwaysEnabled=true)
</code></pre>
      The attribute <em>alwaysEnabled</em> is optional and its default value is
      <em>false</em>.<br>
      The code of previous action is:<br>
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

/**
 * @author Javier Paniza
 */
public class GenerateDeliveryNumberAction extends ViewBaseAction {

 public void execute() throws Exception {
 getView().setValue("number", new Integer(77));
 }

}</code></pre>
      A simple but illustrative implementation. You can use any action defined
      in <em>controllers.xml</em> and its behavior is the normal for an
      OpenXava action. In the <a class="wiki_link" href="controllers_en.html">chapter
        7</a> you will learn more details about actions.<br>
      Optionally you can make your action an <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IPropertyAction.html"

          rel="nofollow">IPropertyAction</a></em> (this is only available for
      actions associated to properties with <em>@Action</em> annotation), thus
      the container view and the property name are injected in the action by
      OpenXava. The above action class could be rewritten in this way:<br>
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;
import org.openxava.view.*;

/**
 * @author Javier Paniza
 */
public class GenerateDeliveryNumberAction
 extends BaseAction
 implements IPropertyAction { // 1
 private View view;
 private String property;

 public void execute() throws Exception {
 view.setValue(property, new Integer(77)); // 2
 }

 public void setProperty(String property) { // 3
 this.property = property;
 }
 public void setView(View view) { // 4
 this.view = view;
 }

}</code></pre>
      This action implements <em>IPropertyAction</em> (1), this required that
      the class implements <em>setProperty()</em> (3) and <em>setView()</em>
      (4), these values are injected in the action object before call to <em>execute()</em>
      method, where they can be used (2). In this case you does not need to
      inject <em>xava_view</em> object when defining the action in <em>controllers.xml</em>.
      The view injected by <em>setView()</em> (4) is the inner view that
      contains the property, for example, if the property is inside an aggregate
      the view is the view of that aggregate not the main view of the module.
      Thus, you can write more reusable actions.<br>
      <h3 id="toc12"><a name="View-Property customization-Choosing an editor (property)"></a>Choosing
        an editor (property)</h3>
      An editor display the property to the user and allows him to edit its
      value. OpenXava uses by default the editor associated to the stereotype or
      type of the property, but you can specify a concrete editor to display a
      property using <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

          rel="nofollow">@Editor</a></em>.<br>
      For example, OpenXava uses a combo for editing the properties of type <em>enum</em>,
      but if you want to display a property of this type in some particular view
      using a radio button you can define that view in this way:<br>
      <pre><code class="language-java">@Editor(forViews="TypeWithRadioButton", value="ValidValuesRadioButton")
private Type type;
public enum Type { NORMAL, STEADY, SPECIAL };
</code></pre>
      In this case for displaying/editing the editor <em>ValidValuesRadioButton</em>
      will be used, instead of default one. <em>ValidValuesRadioButton</em> is
      defined in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-editors.xml"><i>openxava/src/main/resources/xava/default-editors.xml</i></a>
      (in <em>OpenXava/xava/default-editors.xml</em> for v6 or older) as
      following:<br>
      <pre><code class="language-xml">&lt;editor name="ValidValuesRadioButton" url="radioButtonEditor.jsp"/&gt;</code></pre>
      This editor is included with OpenXava, but you can create your own editors
      with your custom JSP code and declare them in the file <em>editors.xml</em>
      in <i>src/main/resources/xava</i> (just <i>xava</i> in v6 or older) of
      your project.<br>
      This feature is for changing the editor only in one view. If you want to
      change the editor for a type, steroetype or a property of a model at
      application level then it's better to configure it using <em>editors.xml</em>
      file.<br>
      <h3 id="toc13"><a name="View-Property customization-Dynamic combos (new in v5.8)"></a>Dynamic
        combos <em>(new in v5.8)</em></h3>
      For a combo with a static list of elements you can use a property of type
      <em>enum</em>. For a combo that get data from database you can use a
      reference with <em>@DescriptionsList</em>. If you need something else
      since v5.8 you have some methods in <em>org.openxava.view.View</em> class
      that allows you to create a drop-down list using your own logic for any
      property. For example, for a simple property like this:<br>
      <pre><code class="language-java">private String color;</code></pre>
      You can add a combo programmatically in this way:<br>
      <pre><code class="language-java">getView().addValidValue("color", "wht", "White");
getView().addValidValue("color", "blk", "Black");</code></pre>
      This creates a combo for <em>color</em> property with two values <em>wht</em>
      with label <em>White</em> and <em>blk</em> with label <em>Black</em>.
      In addition to <em><a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#addValidValue%28java.lang.String,%20java.lang.Object,%20java.lang.String%29">addValidValue()</a></em>,
      you have <em><a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#removeValidValue%28java.lang.String,%20java.lang.Object%29"

          rel="nofollow">removeValidValue()</a></em> , <em><a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#getValidValues%28java.lang.String%29">getValidValues()</a></em>
      and <a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#hasValidValues%28java.lang.String%29"><i>hasValidValues()</i></a>
      available. Since v6.3 you also have <a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#clearValidValues%28java.lang.String%29"><i>clearValidValues()</i></a>,
      <a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#disableValidValues%28java.lang.String%29"><i>disableValidValues()</i></a>,
      <a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#removeBlankValidValue%28java.lang.String%29"><i>removeBlankValidValue()</i></a>
      and <a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html#hasBlankValidValue%28java.lang.String%29"><i>hasBlankValidValue()</i></a>.<br>
      Since v7.1 you can select and edit the selected option or enter a new
      value directly using <i>EditableValidValues</i> editor, for example:
      <pre><code class="language-java">@Editor("EditableValidValues")
@Column(length = 15)
private String color;</code></pre>
      In this example selecting <i>White</i>, you can edit it by <i>White
        beige</i> or enter a new value as <i>Yellow</i>. These new values will
      not be added to the original list of options for use in other records.<br>
      <img src="files/view_en115.png" alt="view_en115.png" title="view_en115.png"></div>
    <div class="wiki" style="display: block;"><br>
      <h3><a name="large-display-format"></a>Large display format <em>(new in
          v7.4)</em></h3>
      It is possible to display the value of a property in a large size. This
      way, we can highlight the property in the view or create a dashboard-style
      view where all the data is in a large format.
      <div class="wiki" style="display: block;">You just have to annotate your
        properties with <a href="https://openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LargeDisplay.html"><i>@LargeDisplay</i></a>,
        like this:</div>
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">@LargeDisplay 
int year;

@Money @LargeDisplay 
BigDecimal discount;
</code></pre> </div>
      <div class="wiki" style="display: block;">It will be displayed like this:</div>
      <img src="files/view_en117.png" alt="view_en117.png" title="view_en117.png">
      <div class="wiki" style="display: block;">Notice how, in the case of the <i>discount</i>
        property, the value appears in red. This is because negative values are
        displayed in red (this color can be changed via CSS). Also, note how it
        has the euro symbol as a suffix. This is because the property is
        annotated with <i>@Money</i>, in which case the currency symbol is
        displayed as a <i>prefix</i> or <i>suffix</i> according to the
        server's locale.</div>
      <div class="wiki" style="display: block;">We also have the option to
        specify which prefix or suffix we want, using the <i>prefix</i> and <i>suffix</i>
        attributes:</div>
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">@LargeDisplay(prefix="") 
BigDecimal amountsSum;

@LargeDisplay(suffix="%", icon="label-percent-outline") 
BigDecimal vatPercentage;
</code></pre> </div>
      <div class="wiki" style="display: block;">It would be displayed as:</div>
      <img src="files/view_en118.png" alt="view_en118.png" title="view_en118.png">
      <div class="wiki" style="display: block;">Now the euro symbol appears as a
        fixed prefix, regardless of whether the property is annotated with <i>@Money</i>
        or not. And one more detail, an icon is displayed on the <i>vatPercentage</i>
        property. We achieved this with <i>icon="label-percent-outline"</i>.
        The icons are identifiers from <a href="https://pictogrammers.com/library/mdi/">Material
          Design Icons</a>.</div>
      <div class="wiki" style="display: block;">As with all visual elements in
        OpenXava, you can change the style of the large display format (<i>@LargeDisplay</i>),
        such as font size, spacing, etc., using CSS. The available CSS classes
        are <i>.ox-large-display, .ox-large-display-suffix,
          .ox-large-display-negative, .ox-large-display-value,</i> or <i>.ox-large-display
          i</i> for the icon. For colors, you can adjust the values of the
        variables <i>--large-display-color, --large-display-negative-color,</i>
        and <i>--large-display-icon-color</i>. You can include the CSS code in
        <i>custom.css</i> or in your own style as explained in the <a href="custom-style_en.html">documentation
          on custom visual styling</a>.</div>
      <h2 id="toc14"><a name="View-Reference customization"></a>Reference
        customization</h2>
      You can refine the visual aspect and behavior of a reference in a view
      using the next annotations:<br>
      <pre><code class="language-java">@ReferenceView       // 1
@ReadOnly            // 2
@NoFrame             // 3
@NoCreate            // 4
@NoModify            // 5
@NoSearch            // 6
@AsEmbedded          // 7
@SearchAction        // 8
@SearchListCondition // 9 New in v4m4
@DescriptionsList    // 10
@LabelFormat         // 11
@Action              // 12
@OnChange            // 13
@OnChangeSearch      // 14
@Editor              // 15 New in v3.1.3
@LabelStyle          // 16 New in v4m4
@Collapsed           // 17 New in v5.0
@SearchListTab       // 18 New in v7.4
@NewView             // 19 New in v7.7
@EditView            // 20 New in v7.7
@ManyToOne
private type referenceName;</code></pre>
      All these annotations follow the <a class="wiki_link" href="#View-Rules%20for%20view%20annotations">rules
        for view annotations</a> and all they are optionals. OpenXava always
      assumes a correct default values if they are omitted.<br>
      <ol>
        <li><strong><a class="wiki_link" href="view_en.html#reference-view">@ReferenceView</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReferenceView.html"

            rel="nofollow">OX</a>): If you omit this annotation, then the
          default view of the referenced object is used. With this annotation
          you can indicate that it uses another view.</li>
        <li><strong>@ReadOnly</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

            rel="nofollow">OX</a>): If you use this annotation the reference
          never will be editable by final user in this view. An alternative is
          to make the property editable/uneditable programmatically using <em><a

              class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html"

              rel="nofollow">org.openxava.view.View</a></em>. Since v6.2 you can
          specify <i>@ReadOnly(onCreate=false)</i> in order the reference will
          be editable on creating a new entity, but read only in all other
          cases.</li>
        <li><strong><a class="wiki_link" href="view_en.html#no-frame">@NoFrame</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoFrame.html"

            rel="nofollow">OX</a>): If the reference is displayed with no frame.
          By default the references are displayed with frame.</li>
        <li><strong><a class="wiki_link" href="view_en.html#no-create">@NoCreate</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoCreate.html"

            rel="nofollow">OX</a>): By default the final user can create new
          objects of the referenced type from here. If you use this annotation
          this will not be possible.</li>
        <li><strong><a class="wiki_link" href="view_en.html#no-modify">@NoModify</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoModify.html"

            rel="nofollow">OX</a>): By default the final user can modify the
          current referenced object from here. If you use this annotation this
          will not be possible.</li>
        <li><strong>@NoSearch</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoSearch.html"

            rel="nofollow">OX</a>): By default the user will have a link to make
          searches with a list, filters, etc. If you use this annotation this
          will not be possible.</li>
        <li><strong>@AsEmbedded</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/AsEmbedded.html"

            rel="nofollow">OX</a>): By default in the case of a reference to an
          <a class="wiki_link" href="model_en.html#Model-References-Embedded%20reference">embeddable</a>
          the user can create and edit its data, while in the case of a
          reference to an entity the user can only to choose an existing entity.
          If you put <em>@AsEmbedded</em> then the user interface for
          references to entities behaves as a in the embedded case, allowing to
          the user to create a new object and editing its data directly. It has
          no effect in case of a reference to embeddables. Warning! If you
          remove an entity its referenced entities are not removed, even if they
          are displayed using <em>@AsEmbedded</em>.</li>
        <li><strong><a class="wiki_link" href="#View-Reference%20customization-Custom%20search%20action">@SearchAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchAction.html"

            rel="nofollow">OX</a>): Allows you to specify your own action for
          searching when the user click in the search link. Only one by view is
          allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Reference%20customization-Condition%20for%20search%20list%20%28reference,%20new%20in%20v4m4%29">@SearchListCondition</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListCondition.html"

            rel="nofollow">OX</a>): <em>(New in v4m4)</em> Condition to be used
          for listing the selectable elements that can be used as a reference.</li>
        <li><strong><a class="wiki_link" href="view_en.html#descriptions-list">@DescriptionsList</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DescriptionsList.html"

            rel="nofollow">OX</a>): Display the data as a list of descriptions,
          typically as a combo. Useful when there are few elements of the
          referenced object.</li>
        <li><strong>@LabelFormat</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelFormat.html"

            rel="nofollow">OX</a>): Format to display the label of the
          reference. It only applies if this reference is annotated with <em>@DescriptionsList</em>.
          Works as in <a class="wiki_link" href="#View-Property%20customization-Label%20format">property
            case</a>.</li>
        <li><strong>@Action</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Action.html"

            rel="nofollow">OX</a>): Actions (showed as links, buttons or images
          to the user) associated (visually) to this reference and that the
          final user can execute. Works as in <a class="wiki_link" href="#View-Property%20customization-Actions%20of%20property">property
            case</a>. You can define several actions for each reference in the
          same view.</li>
        <li><strong><a class="wiki_link" href="view_en.html#on-change">@OnChange</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html"

            rel="nofollow">OX</a>): Action to execute when the value of this
          reference changes. Only one <em>@OnChange</em> action by view is
          allowed.</li>
        <li><strong><a class="wiki_link" href="view_en.html#on-change-search">@OnChangeSearch</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChangeSearch.html"

            rel="nofollow">OX</a>): Allows you to specify your own action for
          searching when the user type a new key. Only one by view is allowed.</li>
        <li><strong><a class="wiki_link" href="view_en.html#editor">@Editor</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

            rel="nofollow">OX</a>): <em>(New in v3.1.3)</em> Name of the editor
          to use for displaying the reference in this view. The editor must be
          declared in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-editors.xml"><i>openxava/src/main/resources/xava/default-editors.xml</i></a>
          or <i>src/main/resources/xava/editors.xml</i> of your project. Before
          v7 they were <em>OpenXava/xava/default-editors.xml</em> and <em>xava/editors.xml</em>
          of your project.</li>
        <li><strong>@LabelStyle</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/LabelStyle.html"

            rel="nofollow">OX</a>): (<em>New in v4m4</em>) Style to display the
          label of the reference. It only applies if this reference is annotated
          with <em>@DescriptionsList</em>. Works as in <a class="wiki_link" href="#View-Property%20customization-Label%20format">property
            case</a>.</li>
        <li><strong>@Collapsed</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Collapsed.html"

            rel="nofollow">OX</a>): <em>(New in v5.0)</em> The reference will
          be shown collapsed for the indicated views. Visually this means that
          the frame surrounding the reference view will be initially closed.
          Later the user will be able to set his preferences by clicking on the
          expansion icon.</li>
        <li><strong><a class="wiki_link" href="#choose-tab-for-search-action-reference">@SearchListTab</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListTab.html"

            rel="nofollow">OX</a>): <em>(New in v7.4) </em>Define the tab to
          display in the list when searching. If you omit this annotation, when
          searching, the default tab will be displayed.</li>
        <li><strong><a class="wiki_link" href="#view-for-editing-reference">@NewView</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NewView.html"

            rel="nofollow">OX</a>): <em>(New in v7.7) </em>View of the referenced 
          object to use when creating a new one from this reference.</li>
        <li><strong><a class="wiki_link" href="#view-for-editing-reference">@EditView</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditView.html"

            rel="nofollow">OX</a>): <em>(New in v7.7) </em>View of the referenced 
          object to use when modifying it from this reference.</li>
      </ol>
      If you do not use any of these annotations OpenXava draws a reference
      using the default view. For example, if you have a reference like this:<br>
      <pre><code class="language-java">@ManyToOne
private Family family;</code></pre>
      The user interface will look like this:<br>
      <img src="files/view_en120.jpg" alt="view_en120.jpg" title="view_en120.jpg"><br>
      <h3 id="toc15"><a name="View-Reference customization-Choose view"></a><a name="reference-view"></a>Choose
        view</h3>
      The most simple customization is to specify the view of the referenced
      object that you want to use. This is done by means of <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReferenceView.html"

          rel="nofollow">@ReferenceView</a></em>:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@ReferenceView("Simple")
private Invoice invoice;
</code></pre>
      In the <em>Invoice</em> entity you must have a view named <em>Simple</em>:<br>
      <pre><code class="language-java">@Entity
@Views({
 ...
 @View(name="Simple", members="year, number, date, yearDiscount;"),
 ...
})
public class Invoice {</code></pre>
      Thus, instead of using the default view of <em>Invoice</em> (that shows
      all invoice data) OpenXava will use the next one:<br>
      <img src="files/view_en130.jpg" alt="view_en130.jpg" title="view_en130.jpg"><br>
      <h3 id="toc16"><a name="View-Reference customization-Customizing frame"></a><a

          name="no-frame"></a>Customizing frame</h3>
      If you combine <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoFrame.html"

          rel="nofollow">@NoFrame</a></em> with groups you can group visually a
      property that is not a part of a reference with that reference, for
      example:<br>
      <pre><code class="language-java">@View( members=
 ...
 "seller [" +
 " seller; " +
 " relationWithSeller;" +
 "]" +
 ...
)
public class Customer {
 ...
 @ManyToOne(fetch=FetchType.LAZY)
 @NoFrame
 private Seller seller;
 ...
}
</code></pre>
      And the result:<br>
      <img src="files/view_en140.jpg" alt="view_en140.jpg" title="view_en140.jpg"><br>
      <h3 id="toc17"><a name="View-Reference customization-Custom search action"></a>Custom
        search action</h3>
      The final user can search a new value for the reference simply by keying
      the new code and leaving the editor the data of reference is obtained; for
      example, if the user keys "1" on the seller number field, then the name
      (and the other data) of the seller "1" will be automatically filled. Also
      the user can click in the lantern, in this case the user will go to a list
      where he can filter, order, etc, and mark the wished object.<br>
      To define your custom search logic you have to use <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchAction.html"

          rel="nofollow">@SearchAction</a></em> in this way:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY) @SearchAction("MyReference.search")
private Seller seller;
</code></pre>
      When the user clicks in the lantern your action is executed, which must be
      defined in <em>controllers.xml</em>.<br>
      <pre><code class="language-xml">&lt;controller name="MyReference"&gt;
 &lt;action name="search" hidden="true"
 class="org.openxava.test.actions.MySearchAction"
 image="images/search.gif"&gt;
 &lt;use-object name="xava_view"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;use-object name="xava_referenceSubview"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;use-object name="xava_tab"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;use-object name="xava_currentReferenceLabel"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;</code></pre>
      The logic of your <em>MySearchAction</em> is up to you. You can, for
      example, refining the standard search action to filter the list for
      searching, as follows:<br>
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

/**
 * @author Javier Paniza
 */

public class MySearchAction extends ReferenceSearchAction {

 public void execute() throws Exception {
 super.execute(); // The standard search behaviour
 getTab().setBaseCondition("${number} &lt; 3"); // Adding a filter to the list
 }

}</code></pre>
      You will learn more about actions in <a class="wiki_link" href="controllers_en.html">chapter
        7</a>.<br>
      <h3 id="toc18"><a name="View-Reference customization-Condition for search list (reference, new in v4m4)"></a><a

          name="search-list-condition-reference"></a>Condition for search list
        (reference, <em>new in v4m4</em>)</h3>
      When the user clicks in the lantern he go to a list where he can filter,
      order, etc, and mark the wished object. You can use <em>@SearchAction</em>
      to overwrite completely this behavior, though if you only want to set a
      custom condition for the list, then using <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListCondition.html"

          rel="nofollow">@SearchListCondition</a></em> is faster. Since <em>v7.4</em>,
      the condition supports the use of <em>${this.}</em> to refer to a
      property of the entity itself. The above example can be rewritten as
      following:<br>
      <pre><code class="language-java">private int code;
        
@ManyToOne(fetch=FetchType.LAZY)
@SearchListCondition("${number} &lt; 3")
@SearchListCondition("${number} &lt; ${this.code}", forViews="SearchListCondition") // ${this.} New in v7.4
private Seller seller;
</code></pre>
      Note as you do not need to create any action.<br>
      <h3 id="toc19"><a name="View-Reference customization-Custom creation action"></a><a

          name="no-create"></a>Custom creation action</h3>
      If you do not use <em><a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoCreate.html">@NoCreate</a></em>
      annotation the user will have a link to create a new object. It's the icon
      with a + that we've marked in red:</div>
    <div class="wiki" style="display: block;"><img src="files/view_en143.png" alt="view_en143.png"

        title="view_en143.png"></div>
    <div class="wiki" style="display: block;">OpenXava will display a
      dialog with the default view of the referenced component and allow the
      user to enter values and click a button to create it. Like this:</div>
    <div class="wiki" style="display: block;"><img src="files/view_en147.png" alt="view_en147.png"

        title="view_en147.png"></div>
    <div class="wiki" style="display: block;">But we can customize how this
      creation dialog works, for all references to <i>Warehouse</i> in our
      application. To do this, we must create a controller named as the entity
      with the suffix <i>Creation</i> (<i>WarehouseCreation, CustomerCreation,
        ProductCreation</i>, etc). If OpenXava sees this controller it uses it
      instead of the default one to allow creating a new object from a
      reference. For example, you can write in your <em>controllers.xml</em>:<br>
      <pre><code class="language-xml">&lt;!--
Because its name is WarehouseCreation (model name + Creation) it is used
by default for creating from reference, instead of NewCreation.
The action 'new' is executed automatically.
--&gt;
&lt;controller name="WarehouseCreation"&gt;
    &lt;extends controller="NewCreation"/&gt;
    &lt;action name="new" hidden="true"
        class="org.openxava.test.actions.CreateNewWarehouseFromReferenceAction"/&gt;
    &lt;action name="saveNew" by-default="almost-always"
        class="org.openxava.test.actions.SaveNewWarehouseFromReferenceAction"/&gt;	
&lt;/controller&gt;
</code></pre> In this case when the user clicks on the create icon, the user is
      directed to the default view of <em>Warehouse</em> and the actions in <em>WarehouseCreation</em>
      will be allowed. If we have a <em>new</em> action, it is executed
      automatically right after opening the dialog, we can use it to initialize
      the view if needed. We define it as hidden, so it's not shown as a button
      to the user. Here's an example implementation:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

public class CreateNewWarehouseFromReferenceAction extends NewAction {

    @Override
    public void execute() throws Exception {		
        super.execute();
        getView().setValue("name", "NEW WAREHOUSE");
    }

}</code></pre>
    </div>
    <div class="wiki" style="display: block;">In this case, it sets a default
      value for the name, but we can do more complex things like hiding fields,
      using a different view for the dialog, etc. Note that it doesn't call <i>showDialog()</i>
      because when the <i>new</i> action is executed, OpenXava has already
      opened the dialog.</div>
    <div class="wiki" style="display: block;">In our example we have also
      overridden the <i>saveNew</i> action, which is executed when the <i>Create</i>
      button in the dialog is clicked. Here's an example implementation:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

public class SaveNewWarehouseFromReferenceAction extends SaveNewAction {
	
    @Override
    public void execute() throws Exception {
        String name = getView().getValueString("name"); // Get name before closing the dialog
        super.execute(); // Saves the warehouse and closes the dialog (if not validation errors)
        if (!getErrors().contains() &amp;&amp; name.equals("NEW WAREHOUSE")) {
            addWarning("warehouse_created_using_default_name"); // Message in i18n messages file  
        }
    }

}</code></pre>
    </div>
    <div class="wiki" style="display: block;">This is also a very simple logic.
      If it detects that we have saved using the default value for the name, it
      displays a warning message.</div>
    <div class="wiki" style="display: block;">It is not necessary to override
      both actions, we can implement only <i>new</i> or only <i>saveNew</i>.
      We can also override the <i>cancel</i> action if needed. Additionally, if
      we add extra actions to our <i>WarehouseCreation</i> controller, these
      actions will appear as additional buttons in the creation dialog.</div>
    <div class="wiki" style="display: block;">Since v7.7 you can use the <b><i>@NewAction</i></b>
      annotation to define custom behavior for the creation action in a specific
      reference. For example:</div>
    <pre><code class="language-java">@NewAction("Carrier.createWarehouse")
@ManyToOne
Warehouse mainWarehouse;
</code></pre>
    <div class="wiki" style="display: block;">In this case, when the user clicks on the create icon for the 
      <i>mainWarehouse</i> reference in <i>Carrier</i>, the action <i>Carrier.createWarehouse</i> 
      will be executed instead of the default one. This only affects this specific reference; 
      other references to <i>Warehouse</i> in the application will use the standard behavior.</div>
    <div class="wiki" style="display: block;">
      <h3 id="toc20"><a name="View-Reference customization-Custom modification action"></a><a

          {{="" ...="" }}="" name="no-modify"></a>Custom modification action</h3>
      </div>
    <div class="wiki" style="display: block;"> If you do not use <em> <a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoModify.html">@NoModify</a></em>
      annotation the user will have a link to modify the current object
      displayed in the reference. It's the icon with a pencil that we've marked
      in red:
      <div class="wiki" style="display: block;"><img src="files/view_en148.png"

          alt="view_en148.png" title="view_en148.png"></div>
      <div class="wiki" style="display: block;">OpenXava will display a
        dialog with the default view of the referenced component and allow the
        user to enter values and click a button to modify current values. Like
        this:</div>
      <div class="wiki" style="display: block;"><img src="files/view_en149.png"

          alt="view_en149.png" title="view_en149.png"></div>
      <div class="wiki" style="display: block;">But we can customize how this
        modification dialog works, for all references to <i>Warehouse</i> in
        our application. To do this, we must create a controller named as the
        entity with the suffix <i>Modification</i> (<i>WarehouseModification,
          Customer</i><i><i>Modification</i>, Product</i><i>Modification</i>,
        etc). If OpenXava sees this controller it uses it instead of the default
        one to allow modifying an existing object from a reference. For example,
        you can write in your <em>controllers.xml</em>:<br>
        <pre><code class="language-xml">&lt;!-- 
Because its name is WarehouseModification (model name + Modification) it is used
by default for modifying from reference, instead of Modification.
The action 'search' is executed automatically.
--&gt;
&lt;controller name="WarehouseModification"&gt;
    &lt;extends controller="Modification"/&gt;
    &lt;action name="search" hidden="true"
        class="org.openxava.test.actions.ModifyWarehouseFromReferenceAction"/&gt;
    &lt;action name="update" by-default="almost-always"
        class="org.openxava.test.actions.UpdateWarehouseFromReferenceAction"/&gt;			
&lt;/controller&gt;
</code></pre> In this case when the user clicks on the modify icon, the user is
        directed to the default view of <em>Warehouse</em> and the actions in <em>WarehouseModification</em>
        will be allowed. If we have a <em>search</em> action, it is executed
        automatically right after opening the dialog, we can use it to
        initialize the view if needed. We define it as hidden, so it's not shown
        as a button to the user. Here's an example implementation:</div>
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

public class ModifyWarehouseFromReferenceAction extends SearchByViewKeyAction {
		
    public void execute() throws Exception {		
        super.execute();		
        getView().setValue("name", "MODIFIED WAREHOUSE");
    }

}</code></pre>
      </div>
      <div class="wiki" style="display: block;">In this
        case, it sets a default value for the name, but we can do more complex
        things like hiding fields, using a different view for the dialog, etc.
        Note that it doesn't call <i>showDialog()</i> because when the <i>search</i>
        action is executed, OpenXava has already opened the dialog.</div>
      <div class="wiki" style="display: block;">In our example we have also
        overridden the <i>update</i> action, which is executed when the <i>Update</i>
        button in the dialog is clicked. Here's an example implementation:</div>
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

public class UpdateWarehouseFromReferenceAction extends UpdateAction {
	
    @Override
    public void execute() throws Exception {
        String name = getView().getValueString("name"); // Get name before closing the dialog
        super.execute(); // Updates the warehouse and closes the dialog (if not validation errors)
        if (!getErrors().contains() && name.equals("MODIFIED WAREHOUSE")) {
            addWarning("warehouse_modified_using_default_name"); // Message in i18n messages file  
        }
    }

}</code></pre>
      </div>
      <div class="wiki" style="display: block;">This is also a very simple
        logic. If it detects that we have saved using the default value for the
        name, it displays a warning message.</div>
      <div class="wiki" style="display: block;">It is not necessary to override
        both actions, we can implement only <i>search</i> or only <i>update</i>.
        We can also override the <i>cancel</i> action if needed. Additionally,
        if we add extra actions to our <i>WarehouseModification</i> controller,
        these actions will appear as additional buttons in the modification dialog.</div>
      <div class="wiki" style="display: block;">Since v7.7 you can use the <b><i>@EditAction</i></b>
        annotation to define custom behavior for the modification action in a
        specific reference. For example:</div>
      <pre><code class="language-java">@EditAction("Carrier.modifyWarehouse")
@ManyToOne
Warehouse mainWarehouse;
</code></pre>
      <div class="wiki" style="display: block;">In this case, when the user clicks on the modify icon for the 
        <i>mainWarehouse</i> reference in <i>Carrier</i>, the action <i>Carrier.modifyWarehouse</i> 
        will be executed instead of the default one. This only affects this specific reference; 
        other references to <i>Warehouse</i> in the application will use the standard behavior.</div>
    </div>
    <div class="wiki" style="display: block;"> 
      <h3 id="toc21"><a name="View-Reference customization-Descriptions list (combos)"></a><a

          name="descriptions-list"></a>Descriptions list (combos)</h3>
      With <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DescriptionsList.html"

          rel="nofollow">@DescriptionsList</a></em> you can instruct OpenXava to
      visualize references as a descriptions list (actually a combo). This can be 
      practical when there is a meaningful name or description. Traditionally, it 
      has worked well with few values; however, starting with version 7.6, its 
      implementation supports very large datasetseven millions of recordswith 
      good performance.<br>
      The syntax is:<br>
      <pre><code class="language-java">@DescriptionsList(
  descriptionProperties="properties",  // 1
  depends="depends",                   // 2
  condition="condition",               // 3
  orderByKey="true|false",             // 4
  order="order",                       // 5
  filter="filter class",               // 6 New in v6.4
  showReferenceView="true|false",      // 7 New in v5.5
  forTabs="tab1,tab2,...",             // 8 New in v4m4
  notForTabs="tab1,tab2,..."           // 9 New in v4m4
)</code></pre>
      <ol>
        <li><strong>descriptionProperties</strong> (optional): The property or
          properties to show in the list, if not specified, the property named <em><em>name,</em>
            <em>nombre, title, titulo, </em>description</em> or <em>descripcion</em>
          <em></em> is assumed (since v7.1 you can specify your own default
          properties adding the <i>defaultDescriptionPropertiesValueForDescriptionsList</i>
          entry in <i>xava.properties</i>) (until v7.3.3 the default values
          were <em>description</em>, <em>descripcion</em>, <em>name</em> or <em>nombre</em>).
          If the referenced object does not have a property called this way then
          it is required to specify a property name here. It allows to set more
          than one property separated by commas. To the final user the values
          are concatenated.</li>
        <li><strong>depends</strong> (optional): It's used in together with <em>condition</em>.
          It can be achieve that the list content depends on other values
          displayed in the main view (if you simply type the names of the
          members) or in the same view (if you type <em>this.</em> before each
          of the member's name). For using several members separate them by
          commas.</li>
        <li><strong>condition</strong> (optional): Allows to specify a condition
          (with SQL style) to filter the values that are shown in the
          description list.</li>
        <li><strong>orderByKey</strong> (optional): By default the data is
          ordered by description, but if you set this property to <em>true</em>
          it will be ordered by key.</li>
        <li><strong>order</strong> (optional): Allows to specify an order (with
          SQL style) for the values that are shown in the description list.</li>
        <li><b>filter</b> (optional): <i>(New in v6.4)</i> Allows to define the
          logic to fill the values of the parameters used in the condition (the
          ?). It must implement <a href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/filters/IFilter.html"><i>IFilter</i></a>
          and you can use here the <a href="tab_en.html#Tabular%20data-Filters%20and%20base%20condition">same
            filters used for <i>@Tab</i></a>.<br>
          <strong></strong></li>
        <li><strong>showReferenceView</strong> (optional): <em>(New in v5.5)</em>
          <span style="line-height: 1.5;"><span style="line-height: 1.5;">Shows
              a combo and a detail view of the reference at the same time. </span>The
            reference view is read only and its value changed when the combo is
            changed by the user. The used view is the one specified in <em><a class="wiki_link_ext"

                href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReferenceView.html"

                rel="nofollow">@ReferenceView</a></em>. The default value is <em>false</em>.</span></li>
        <li><strong>forTabs</strong> (optional): <em>(New in v4m4)</em> Allows
          to specify multiple tab names separated by commas. If any of the
          properties from <em>descriptionProperties</em> is in any of these
          tabs the filter part will be shown with a description list.
          Starting from <i>v7.6</i>, only up to 200 items are loaded in the combos
          for the <i>@DescriptionsList</i> used in list filters
          to avoid crashes with large data sets.</li>
        <li><strong>notForTabs</strong> (optional): <em>(New in v4m4)</em>
          Allows to specify multiple tab names separated by commas. If any of
          the properties from <em>descriptionProperties</em> is in any of these
          tabs the filter part will<span class="short_text"><span style="background-color: #ffffff;">
              continue to be displayed</span></span> like a plain property.</li>
      </ol>
      The simplest usage is:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@DescriptionsList
private Warehouse warehouse;
</code></pre>
      That displays a reference to warehouse in this way:<br>
      <img src="files/view_en150.jpg" alt="view_en150.jpg" title="view_en150.jpg"><br>
      In this case it shows all warehouses, although in reality it uses the <em>baseCondition</em>
      and the <em>filter</em> specified in the default <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Tab.html"

          rel="nofollow">@Tab</a></em> of <em>Warehouse</em>. You will see more
      about <a class="wiki_link" href="tab_en.html">tabs</a>.<br>
      If you want, for example, to display a combo with the product families and
      when the user chooses a family, then another combo will be filled with the
      subfamilies of the chosen family. An implementation can look like this:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@DescriptionsList(orderByKey=true) // 1
private Family family;

@ManyToOne(fetch=FetchType.LAZY) @NoCreate // 2
@DescriptionsList(
 descriptionProperties="description", // 3
 depends="family", // 4
 condition="${family.number} = ?" // 5
 order="${description} desc" // 6
 )
private Subfamily subfamily;
</code></pre>
      Two combos are displayed one with all families loaded and the other one
      empty. When the user chooses a family, then the second combo is filled
      with all its subfamilies.<br>
      In the case of <em>Family</em> the property <em>description</em> of <em>Family</em>
      is shown, since the default property to show is <em>'description'</em> or
      <em>'name'</em>. The data is ordered by key and not by <em>description</em>
      (1). In the case of <em>Subfamily</em> (2) the link to create a new
      subfamily is not shown and the property to display is <em>'description'</em>
      (in this case this maybe omitted).<br>
      With <em>depends</em> (4) you make that this combo depends on the
      reference <em>family</em>, when change <em>family</em> in the user
      interface, this descriptions list is filled applying the <em>condition</em>
      condition (5) and sending as argument (to set value to ?) the new <em>family</em>
      value. And the entries are ordered descending by <em>description</em>
      (6).</div>
    <div class="wiki" style="display: block;"> In <em>condition</em> and <em>order</em>
      you put the property name inside a <em>${}</em> and the arguments as <em>?</em>.
      The comparator operators are the SQL operators.</div>
    <div class="wiki" style="display: block;">In references where <i>@DescriptionsList</i>
      depends on other <i>@DescriptionsList</i> with composite key, you can put
      a ? for each key value. That is, if you have an <i>Warehouse</i> entity
      like this:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@Entity @Getter @Setter
@IdClass(WarehouseKey.class)
public class Warehouse {

    @Id 
    int zoneNumber;

    @Id 
    int number;

    @Column(length=40) @Required
    String name;

}
</code></pre> </div>
    <div class="wiki" style="display: block;">With composite key that includes <i>zoneNumber</i>
      and <i>number</i>. Then in other entity you can have two <i>@DescriptionsLists</i>
      like these:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@ManyToOne
@DescriptionsList
Warehouse mainWarehouse;
	
@ManyToOne
@DescriptionsList(
    depends="mainWarehouse", 
    condition="${warehouse.zoneNumber} = ? and ${warehouse.number} = ?") <br>    // condition="${warehouse} = ?" // Since v6.6.3
Carrier defaultCarrier;
</code></pre> </div>
    <div class="wiki" style="display: block;">Where <i>defaultCarrier</i>
      depends on <i> mainWarehouse</i> (with its composite key). The trick is
      to use two ? and compare the two values of the key, <i>zoneNumber</i> and
      <i>number</i> in <i>condition</i>.</div>
    <div class="wiki" style="display: block;"><i>New in v6.6.3:</i> Also it's
      possible to indicate only the reference name in the condition, instead of
      the qualified properties of that reference. That is you can use just <i>${warehouse}
        = ?</i> instead of <i>${warehouse.zoneNumber} = ? and
        ${warehouse.number} = ?</i> in <i>condition</i>. This is not just for
      composite keys, but for single key references too, see:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@DescriptionsList(
    depends="family", 
    // condition="${family.number} = ?" // Classic way
    condition="${family} = ?" // Since v6.6.3
)
</code></pre> </div>
    <div class="wiki" style="display: block;">Note <i>${family}</i> instead of
      <i>${family.number}</i>, although the later is still supported.</div>
    <div class="wiki" style="display: block;"><em>New in v3.0.3:</em> Qualified
      properties are allowed for <em>condition</em> and <em>order</em> even if
      they are not in <em>descriptionProperties</em>. That is, you can write a
      condition like this:<br>
      <pre><code class="language-java">@DescriptionsList( descriptionProperties="name",
 condition="${family.level.description} = 'TOP'"
)
private Subfamily subfamily;</code></pre>
      You can define complex conditions using <a class="wiki_link_ext" href="http://en.wikipedia.org/wiki/Java_Persistence_Query_Language"

        rel="nofollow">JPQL</a> (<em>new in v4.5</em>, before v4.5 SQL was
      used):<br>
      <pre><code class="language-java">@DescriptionsList(
 condition="e.thing.number = (SELECT t.number FROM Thing t WHERE t.name = 'CAR')"
)
private Subfamily subfamily;</code></pre>
      As you can see in the example above, with JPQL <em>(new in v4.5)</em> you
      can use <em>e.propertyName</em> as alternative to <em>${propertyName}</em>.<br>
      You can specify several properties to be shown as description:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@ReadOnly
@DescriptionsList(descriptionProperties="level.description, name")
private Seller alternateSeller;
</code></pre>
      In this case the concatenation of the <em>description</em> of <em>level</em>
      and the <em>name</em> is shown in the combo. Also you can see how it is
      possible to use qualified properties (<em>level.description</em>).<br>
      If you use <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

          rel="nofollow">@ReadOnly</a></em> in a reference annotated as <em><a

          class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DescriptionsList.html"

          rel="nofollow">@DescriptionsList</a></em>, then the description (in
      this case <em>level.description + name</em>) is displayed as a simple
      text property instead of using a combo.<br>
      Since v5.5 it's possible to show the combo and the regular view at the
      same time using the <em>showReferenceView</em> attribute. If you write
      this code:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@DescriptionsList(showReferenceView=true) // Combo and view at the same time
@ReferenceView("Simple") // This is the used view
private Seller seller;</code></pre>
      You get:<br>
      <img src="files/view_en155.png" alt="view_en155.png" title="view_en155.png"><br>
      The used view is the specified in <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReferenceView.html"

          rel="nofollow">@ReferenceView</a></em> or the default one if not
      specified.<br>
      Since v5.8 we can modify the combo condition at runtime. If we want to
      change the values of a combo depending on a value that specifies the
      client, we can write this code in our <em>@OnChange</em> action:<br>
      <pre><code class="language-java">public class OnChangeStateConditionInCity extends OnChangePropertyBaseAction {
    public void execute() throws Exception{
        String value = (String)getNewValue();
        String condition = "";
        if ( Is.empty(value)) condition = "1=1";
        else condition = "upper(name) like '%" + value + "%'";
        getView().setDescriptionsListCondition("state", condition);    // we modify the condition of the combo 'state'
    }
}</code></pre>
      Depending on the value that the client types, with the method <em>setDescriptionsListCondition()</em>,
      we modify the condition of the combo 'state' and that change the values
      displayed in the combo.<br>
      <h3 id="toc22"><a name="View-Reference customization-Reference value change event"></a><a

          name="on-change"></a>Reference value change event</h3>
      If you wish to react to the event of a value change of a reference you can
      write:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@OnChange(OnChangeCarrierInDeliveryAction.class)
private Carrier carrier;
</code></pre>
      In this case your action listens to the change of carrier number.<br>
      The code to execute is:<br>
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

/**
 * @author Javier Paniza
 */
public class OnChangeCarrierInDeliveryAction
 extends OnChangePropertyBaseAction { // 1

 public void execute() throws Exception {
 if (getNewValue() == null) return;
 getView().setValue("remarks", "The carrier is " + getNewValue());
 addMessage("carrier_changed");
 }

}</code></pre>
      The action implements <em>IOnChangePropertyAction</em>, by means of <em>OnChangePropertyBaseAction</em>
      (1), although it's a reference. We receive the change of the key property
      of the reference; in this case <em>carrier.number</em>. The rest is as in
      <a class="wiki_link" href="#View-Property%20customization-Property%20value%20change%20event">the
        property case</a>.<br>
      <h3 id="toc23"><a name="View-Reference customization-Reference search on change event"></a><a

          name="on-change-search"></a>Reference search on change event</h3>
      The user can search the value of a reference simply typing its key. For
      example, if there is a reference to <em>Subfamily</em>, the user can type
      the subfamily number and automatically the subfamily data is loaded in the
      view. This is done using a default on change action that does the search.
      You can specify your own action for search when key change using <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Actions.html"

          rel="nofollow">@OnChangeSearch</a></em> annotation, just in this way:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@OnChangeSearch(OnChangeSubfamilySearchAction.class)
private Subfamily subfamily;</code></pre>
      This action is executed for doing the search, instead of the standard
      action, when the user changes the subfamily number.<br>
      The code to execute is:<br>
      <pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

/**
 *
 * @author Javier Paniza
 */

public class OnChangeSubfamilySearchAction
 extends OnChangeSearchAction { // 1

 public void execute() throws Exception {
 if (getView().getValueInt("number") == 0) {
 getView().setValue("number", new Integer("1"));
 }
 super.execute();
 }

}
</code></pre>
      The action implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IOnChangePropertyAction.html"

          rel="nofollow">IOnChangePropertyAction</a></em>, by means of <em>OnChangeSearchAction</em>
      (1), although it's a reference. It receives the change of the key property
      of the reference; in this case <em>subfamily.number</em>.<br>
      This case is an example of refining the behaviour of on change search,
      because it extends from <em>OnChangeSearchAction</em>, that is the
      default action for searching, and calls to <em>super.execute()</em>. Also
      it's possible to do a regular on change action (extending from <em>OnChangePropertyBaseAction</em>
      for example) overriding completely the search logic.<br>
      <h3 id="toc24"><a name="View-Reference customization-Choosing an editor (reference, new in v3.1.3)"></a><a

          name="editor"></a>Choosing an editor (reference, <em>new in v3.1.3</em>)</h3>
      An editor display the reference to the user and allows him to edit its
      value. By default, the editor OpenXava uses for references is a detailed
      view inside a frame (the standard way) or a combo (if you use <em>@DescriptionsList)</em>,
      but you can specify your own editor to display a concrete reference using
      <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

          rel="nofollow">@Editor</a></em>.<br>
      For example, if you have a reference to a <em>Color</em> entity and you
      want to display it in some particular entity or view using a custom user
      interface, such as a radio buttons group with available colors, you can do
      it in this way:<br>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@Editor("ColorRadioButtons")
private Color color;</code></pre>
      In this case the <em>ColorRadioButtons</em> editor will be used for
      displaying/editing, instead of the default one. You must define your <em>Color</em><em>RadioButton</em>
      editor in the <em>editors.xml</em> file in <i>src/main/resources/xava</i>
      (just <i>xava</i> for v6 or older) of your project:<br>
      <pre><code class="language-xml">&lt;editor name="ColorRadioButtons" url="colorRadioButtonsEditor.jsp"/&gt;</code></pre>
      Also you have to write the JSP code for your editor in <em>colorRadioButonsEditor.jsp</em>.<br>
      This feature is for changing the editor for a concrete reference in a
      concrete entity only, or even only in one view of that entity (using <em>@Editor(forViews=)</em>).
      If you want to change the editor for all references to certain entity type
      at application level then it's better to configure it using <em>editors.xml</em>
      file.<br>
      Learn more on <a class="wiki_link" href="customizing_en.html#Customizing-Editors-Editors%20for%20references%20%28new%20in%20v3.1.3%29">Editors
        for references</a>.<br>
      <h3 id="toc25"><a name="choose-tab-for-search-action-reference"></a>
        Choose tab for search action (reference, <em>new in v7.4</em>) </h3>
      <p>With <a href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListTab.html"><em>@SearchListTab</em></a>,
        you can specify which tab to display in the dialog when use a search
        action.</p>
      <pre><code class="language-java">@ManyToOne(fetch=FetchType.LAZY)
@SearchListTab("ZoneA")
private Warehouse warehouse;</code></pre>
      For this in the <em>Warehouse </em>we must have a tab called <em>ZoneA</em>:<br>
      <div class="wiki">
        <pre><code class="language-java">@Entity
@Tab(name="ZoneA", properties="number, name, zone", defaultOrder="${number} desc", baseCondition="${zone} = 'A'")
public class Warehouse {</code></pre>
        In addition, the <i>forViews</i> and <i>notForViews</i> attributes are
        available in <i>@SearchListTab</i>. </div>
      <h3><a name="view-for-editing-reference"></a>View for editing (reference, <em>new in v7.7</em>)</h3>
      By default, when the user creates a new object from a reference or modifies 
      an existing one, the default view of the referenced object is used. With 
      <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NewView.html"
        rel="nofollow">@NewView</a></em> and 
      <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditView.html"
        rel="nofollow">@EditView</a></em> you can specify different views for 
      creation and modification respectively:<br>
      <pre><code class="language-java">@ManyToOne
@NewView("SimpleCreation")
@EditView("SimpleEdition")
private Customer customer;</code></pre>
      When the user clicks on the button to create a new customer, the <em>SimpleCreation</em> 
      view of <em>Customer</em> will be used. When the user clicks on the button to 
      modify the current customer, the <em>SimpleEdition</em> view will be used instead.<br>
      <br>
      You can use just one of these annotations if you only need to customize 
      creation or modification. For example, if you only use <em>@NewView</em>, 
      the default view will still be used for modification.<br>
      <h2 id="toc25"><a name="View-Collection customization"></a>Collection
        customization</h2>
      You can refine the visual aspect and behavior of an <em>@OneToMany</em>/<em>@ManyToMany</em>
      collection or <a href="model_en.html#calculated-collections">calculated
        collection</a> in a view using the next annotations:<br>
      <pre><code class="language-java">@CollectionView         //  1
@ReadOnly               //  2
@EditOnly               //  3
@NoCreate               //  4
@NoModify               //  5
@AsEmbedded             //  6
@ListProperties         //  7
@RowStyle               //  8
@EditAction             //  9
@ViewAction             // 10
@NewAction              // 11
@AddAction              // 12 New in v5.7
@SaveAction             // 13
@HideDetailAction       // 14
@RemoveAction           // 15
@RemoveSelectedAction   // 16
@DeleteSelectedAction   // 17 New in v7.4
@ListAction             // 18
@RowAction              // 19 New in v4.6
@DetailAction           // 20
@OnSelectElementAction  // 21 New in v3.1.2
@Editor                 // 22 New in v3.1.3
@SearchListCondition    // 23 New in v4m4
@Tree                   // 24 New in v4m4
@Collapsed              // 25 New in v5.0
@ListSubcontroller      // 26 New in v5.7
@Chart                  // 27 New in v7.4
@SimpleList             // 28 New in v7.4
@SearchListTab          // 29 New in v7.4
@NoDefaultActions       // 30 New in v7.4
@NewView                // 31 New in v7.7
@EditView               // 32 New in v7.7
@OneToMany/@ManyToMany  // Not for calculated collections
private Collection collectionName; // Or a getter for calculated collections</code></pre>
      And the next annotations for a <em>@ElementCollection (new in v5.0)</em>:<br>
      <pre><code class="language-java">@ReadOnly               //  2 New in v5.1
@EditOnly               //  3 New in v5.1
@ListProperties         //  7
@RemoveSelectedAction   // 15 New in v5.3
@Editor                 // 20
@Collapsed              // 23
@Chart                  // 27 New in v7.4
@SimpleList             // 28 New in v7.4
@ElementCollection
private Collection collectionName;</code></pre>
      All these annotations follow the <a class="wiki_link" href="#View-Rules%20for%20view%20annotations">rules
        for view annotations</a> and all they are optionals. OpenXava always
      assumes a correct default values if they are omitted.<br>
      <ol>
        <li><strong>@CollectionView</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/CollectionView.html"

            rel="nofollow">OX</a>): The view of the referenced object (each
          collection element) which is used to display the detail. By default
          the default view is used.</li>
        <li><strong>@ReadOnly</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

            rel="nofollow">OX</a>): If you set it then the final user only can
          view collection elements, he cannot add, delete or modify elements.</li>
        <li><strong>@EditOnly</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditOnly.html"

            rel="nofollow">OX</a>): If you set it then the final user can modify
          existing elements, but not add or remove collection elements.</li>
        <li><strong>@NoCreate</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoCreate.html"

            rel="nofollow">OX</a>): If you set it then the final user doesn't
          get the link to create or add new objects of the referenced object
          type.</li>
        <li><strong>@NoModify</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoModify.html"

            rel="nofollow">OX</a>): If you set it then the final user doesn't
          get the link to modify the objects of the referenced object type. It
          only applies to <a class="wiki_link" href="model_en.html#Model-Collections-Embedded%20collections">embedded
            collections</a>.</li>
        <li><strong>@AsEmbedded</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/AsEmbedded.html"

            rel="nofollow">OX</a>): By default the <a class="wiki_link" href="model_en.html#Model-Collections-Embedded%20collections">embedded
            collections</a> (with cascade type REMOVE or ALL) allow the users to
          create and to edit elements, while the regular collections allow only
          to choose existing entities to add to (or remove from) the collection.
          If you put <em>@AsEmbedded</em> then the collection behaves as a
          embedded collection even though it hasn't cascade type REMOVE or ALL,
          allowing to the user to add objects and editing them directly. It has
          no effect in case of embedded collections.</li>
        <li><strong>@ListProperties</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ListProperties.html"

            rel="nofollow">OX</a>): Properties to show in the list for
          visualization of the collection. You can qualify the properties. By
          default it shows all persistent properties of the referenced object
          (excluding references and calculated properties). The suffix + <em>(new
            in v4.1)</em> can be added to a property name to show the <a class="wiki_link"

            href="tab_en.html#Tabular%20data-Column%20summation%20%28new%20in%20v4.1%29">sum
            of the column at bottom, like in the tabs</a>. Before v5.9 the
          column summation was not allowed in calculated collections, element
          collections and <em>@OrderColumn</em> lists. The summation (+) is not
          allowed for calculated properties in regular collections (<em>@OneToMany</em>
          with not <em>@OrderColumn</em>). In the case of the element
          collections you can put the name of a reference <em>(new in v5.1)</em>
          if it is annotated with <em>@DescriptionsList</em> in the embeddable
          class.</li>
        <li><strong>@RowStyle</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RowStyle.html"

            rel="nofollow">OX</a>): To give a special style to some rows.
          Behaves equals that in <a class="wiki_link" href="tab_en.html#Tabular%20data-Initial%20properties%20and%20emphasize%20rows">the
            Tab case</a>. It does not works for calculated collections. It's
          possible to define several <em>@RowStyle</em> for each view.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Custom%20edit/view%20action">@EditAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          begin the editing of a collection element. This is the action showed
          in each row of the collection, if the collection is editable. Only one
          <em>@EditAction</em> per view is allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Custom%20edit/view%20action">@ViewAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ViewAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          view a collection element. This is the action showed in each row, if
          the collection is read only. Only one <em>@ViewAction</em> per view
          is allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@NewAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NewAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          start creating a new element and insert it into the collection. This
          is the action executed on click in 'New' link. Only one <em>@NewAction</em>
          per view is allowed. Before v5.7 this annotation was also used to
          define the 'Add' action because then 'New' and 'Add' did not coexist.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@AddAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/AddAction.html"

            rel="nofollow">OX</a>): <em>(New in v5.7)</em> Allows you to define
          your custom action to start adding a new element to the collection
          choosing from an existing one. This is the action executed on click in
          'Add' link. Only one <em>@AddAction</em> per view is allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@SaveAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SaveAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          save the collection element. This is the action executed on click in
          'Save detail' link. Only one <em>@SaveAction</em> per view is
          allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@HideDetailAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/HideDetailAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          hide the detail view. This is the action executed on click on 'Close'
          button or closing de dialog. Only one <em>@HideDetailAction</em> per
          view is allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@RemoveAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RemoveAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          remove the element from the collection. This is the action executed on
          click in 'Remove' button in the detail view of the element. Only one <em>@RemoveAction</em>
          per view is allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@RemoveSelectedAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RemoveSelectedAction.html"

            rel="nofollow">OX</a>): Allows you to define your custom action to
          remove the selected elements from the collection. This is the action
          executed when a user selects some rows and then click in 'Remove
          selected' button, or clicks directly on the remove icon in a row. Only
          one <em>@RemoveSelectedAction</em> per view is allowed.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Refining%20collection%20view%20default%20behavior">@DeleteSelectedAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DeleteSelectedAction.html"

            rel="nofollow">OX</a>): <em>(New in v7.4) </em>Allows you to
          define your custom action to delete the selected elements from the
          collection and data base. This is the action executed when a user
          selects some rows and then click in 'Delete selected' button, or
          clicks directly on the remove icon in a row. Only one <em>@DeleteSelectedAction</em>
          per view is allowed.</li>
        <li><strong><a class="wiki_link" href="view_en.html#Chapter%204:%20View-Collection%20customization-Custom%20list%20and%20row%20actions">@ListAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ListAction.html"

            rel="nofollow">OX</a>): To add actions in list mode; usually actions
          which scope is the entire collection. It's possible to define several
          <em>@ListAction</em> for each view.</li>
        <li><strong><a class="wiki_link" href="view_en.html#Chapter%204:%20View-Collection%20customization-Custom%20list%20and%20row%20actions">@RowAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RowAction.html"

            rel="nofollow">OX</a>): <em>(New in v4.6)</em> To add actions in
          list mode associated to each row; these actions are not present in the
          button bar of the collection, but only in the rows. It's possible to
          define several <em>@RowAction</em> for each view.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Custom%20detail%20actions">@DetailAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DetailAction.html"

            rel="nofollow">OX</a>): To add actions in detail mode, usually
          actions which scope is the detail that is being edited. It's possible
          to define several <em>@DetailAction</em> for each view.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Action%20when%20a%20collection%20element%20is%20selected%20%28new%20in%20v3.1.2%29">@OnSelectElementAction</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnSelectElementAction.html"

            rel="nofollow">OX</a>): <em>(New in v3.1.2)</em> To define an
          action to be executed when an element of the collection is selected or
          unselected. It's possible to define several <em>@OnSelectElementAction</em>
          for each view.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Choosing%20an%20editor%20%28collection,%20new%20in%20v3.1.3%29">@Editor</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

            rel="nofollow">OX</a>): <em>(New in v3.1.3)</em> Name of the editor
          to use for displaying the collection in this view. The editor must be
          declared in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-editors.xml"><i>openxava/src/main/resources/xava/default-editors.xml</i></a>
          or <i>src/main/resources/xava/editors.xml</i> of your project. Before
          v7 they were <em>OpenXava/xava/default-editors.xml</em> and <em>xava/editors.xml</em>
          of your project.</li>
        <li><strong><span class="wiki_link_ext"><a class="wiki_link" href="#View-Collection%20customization-Condition%20for%20search%20list%20%28collection,%20new%20in%20v4m4%29">@SearchListCondition</a>
            </span></strong>(<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListCondition.html"

            rel="nofollow">OX</a>): <em>(New in v4m4)</em> Condition to be used
          for listing the selectable elements that can be added to the
          collection. It does not apply to embedded collections.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-Displaying%20collections%20as%20a%20tree%20%28new%20in%20v4m4%29">@Tree</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Tree.html"

            rel="nofollow">OX</a>): <em>(New in v4m4)</em> To indicate that
          this collection will be displayed using a tree instead of a list.</li>
        <li><strong>@Collapsed</strong> (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Collapsed.html"

            rel="nofollow">OX</a>): <em>(New in v5.0)</em> The collection will
          be shown collapsed for the indicated views. Visually this means that
          the frame surrounding the collection view will be initially closed.
          Later the user will be able to set his preferences by clicking on the
          expansion icon.</li>
        <li><strong><a class="wiki_link" href="view_en.html#subcontroller-collection">@ListSubcontroller</a></strong>
          (<a class="wiki_link_ext" href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ListSubcontroller.html"

            rel="nofollow">OX</a>): <em>(New in v5.7)</em> To group several
          actions and to show them in a drop-down button.</li>
        <li><strong><a class="wiki_link" href="view_en.html#chart-from-collection">@Chart</a></strong>
          (<a class="wiki_link_ext" href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Chart.html"

            rel="nofollow">OX</a>): <em>(New in v7.4)</em> To display the
          values from the collection as a chart.</li>
        <li><strong><a class="wiki_link" href="view_en.html#simple-list">@SimpleList</a></strong><strong></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SimpleList.html"

            rel="nofollow">OX</a>): <em>(New in v7.4)</em> The collection will
          be displayed as a simple read-only list, without actions, filters,
          pagination, sorting, etc.</li>
        <li><strong><span class="wiki_link_ext"><a class="wiki_link" href="#choose-tab-for-search-action-collection">@SearchListTab</a>
            </span></strong>(<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListTab.html"

            rel="nofollow">OX</a>): <em>(New in v7.4)</em> Define the tab to
          display in the list when searching. If you omit this annotation, when
          searching, the default tab will be displayed.</li>
        <li><strong><span class="wiki_link_ext"><a class="wiki_link" href="#no-default-actions">@NoDefaultActions</a>
            </span></strong>(<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoDefaultActions.html"

            rel="nofollow">OX</a>): <em>(New in v7.4)</em> Using this
          annotation will hide the actions from the <i>DefaultListActionsForCollections</i>
          and <i>DefaultRowActionsForCollections</i> controllers.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-View%20for%20editing">@NewView</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NewView.html"

            rel="nofollow">OX</a>): <em>(New in v7.7)</em> View of the collection 
          element to use when creating a new one. Overrides <em>@CollectionView</em> 
          for creation.</li>
        <li><strong><a class="wiki_link" href="#View-Collection%20customization-View%20for%20editing">@EditView</a></strong>
          (<a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditView.html"

            rel="nofollow">OX</a>): <em>(New in v7.7)</em> View of the collection 
          element to use when editing an existing one. Overrides <em>@CollectionView</em> 
          for editing.</li>
      </ol>
      <h3 id="toc26"><a name="View-Collection customization-Properties in list"></a>Properties
        in list</h3>
      <em>Applies to @OneToMany/@ManyToMany, @ElementCollection and calculated
        collections</em><br>
      If you do not use any of these annotations then the collection is
      displayed using the persistent properties in list mode; although in
      typical scenarios the properties of the list are specified:<br>
      <pre><code class="language-java">@ListProperties("number, name, remarks, relationWithSeller, seller.level.description, type")
@OneToMany(mappedBy="seller")
private Collection&lt;Customer&gt; customers;</code></pre>
      And the collection is displayed:<br>
      <img src="files/view_en160.jpg" alt="view_en160.jpg" title="view_en160.jpg"><br>
      You see how you can put qualified properties into the properties list (as
      <em>seller.level.description</em>).<br>
      <h3 id="toc27"><a name="View-Collection customization-View for editing"></a>View
        for editing</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      If you do not use any annotation then the default view is used to edit the
      entity in each row; although in typical scenarios the view for detail is
      specified:<br>
      <pre><code class="language-java">@CollectionView("Simple"),
@OneToMany(mappedBy="seller")
private Collection&lt;Customer&gt; customers;</code></pre>
      When the user clicks on <img src="files/edit.gif" alt="edit.gif" title="edit.gif">
      ('Edit'), then the view <em>Simple</em> of <em>Customer</em> will be
      rendered; for this you must have defined a view called <em>Simple</em> in
      the <em>Customer</em> entity (the model of the collection elements).<br>
      This view is also used if the user click on <img src="files/create_new.gif"

        alt="create_new.gif" title="create_new.gif"> ('Add') in an <a class="wiki_link"

        href="model_en.html#Model-Collections-Embedded%20collections">embedded
        collection</a>, otherwise OpenXava does not show this view, instead it
      shown a list of entities to add.<br>
      If the view <em>Simple</em> of <em>Customer</em> is like this:<br>
      <pre><code class="language-java">@View(name="Simple", members="number; type; name; address")</code></pre>
      On clicking in a detail the following dialog will be shown:<br>
      <img src="files/view_en171.jpg" alt="view_en171.jpg" title="view_en171.jpg"><br>
      <br>
      <em>(New in v7.7)</em> You can use 
      <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NewView.html"
        rel="nofollow">@NewView</a></em> and 
      <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditView.html"
        rel="nofollow">@EditView</a></em> to specify different views for 
      creating and editing collection elements respectively. These annotations 
      override <em>@CollectionView</em> for their specific operation:<br>
      <pre><code class="language-java">@CollectionView("Simple")
@NewView("SimpleCreation")  // Overrides @CollectionView for creation
@EditView("SimpleEdition")  // Overrides @CollectionView for editing
@OneToMany(mappedBy="invoice")
private Collection&lt;InvoiceDetail&gt; details;</code></pre>
      Using <em>@CollectionView("Simple")</em> alone is equivalent to using both 
      <em>@NewView("Simple")</em> and <em>@EditView("Simple")</em>. You can use 
      <em>@NewView</em> and <em>@EditView</em> to override <em>@CollectionView</em> 
      for creation or editing, or use them without <em>@CollectionView</em> to 
      specify views only for creation or editing while keeping the default view 
      for the other operation.<br>
      <h3 id="toc28"><a name="View-Collection customization-Element collection (new in v5.0)"></a>Element
        collection <em>(new in v5.0)</em></h3>
      Element collections do not use <em>@CollectionView</em> because the data
      is editable in the collection directly, like an spreadsheet. However, most
      of the behavior of the detail mode is also available in element
      collections, including the support of the next annotations in the
      embeddable class members: <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

          rel="nofollow">@ReadOnly</a>, <a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

          rel="nofollow">@Editor</a>, <a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListCondition.html"

          rel="nofollow">@SearchListCondition</a> (new in v5.1), <a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchAction.html"

          rel="nofollow">@SearchAction</a> (new in v5.1), <a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DefaultValueCalculator.html"

          rel="nofollow">@DefaultValueCalculator</a> (new in v5.1), <a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html"

          rel="nofollow">@OnChange</a> (new in v5.1), <a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChangeSearch.html"

          rel="nofollow">@OnChangeSearch</a> (new in v5.1), <a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoSearch.html"

          rel="nofollow">@NoSearch</a> (new in v5.1)</em> and <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DescriptionsList.html"

          rel="nofollow">@DescriptionsList</a> (new in v5.1)</em>.<br>
      You can use <em>@ListProperties</em> in an element collection, in this
      way:<br>
      <pre><code class="language-java">@ElementCollection
@ListProperties("product.number, product.description, unitPrice, quantity, amount")
private Collection&lt;QuoteDetail&gt; details;</code></pre>
      You get the next user interface:<br>
      <img src="files/view_en175.jpg" alt="view_en175.jpg" title="view_en175.jpg"

        style="height: 194px; width: 800px;"><br>
      In the case of the element collections you can put the name of a reference
      <em>(new in v5.1)</em> in <em>@ListProperties</em> if it is annotated
      with <em>@DescriptionsList</em> in the embeddable class. That is, you can
      write this:<br>
      <pre><code class="language-java">@ElementCollection
@ListProperties("invoice.year, invoice.number, invoice.amount, status, receptionist") // receptionist is a reference
private Collection&lt;ServiceExpense&gt; expenses;</code></pre>
      Where <em>receptionist</em> is not a property but a reference, a
      reference annotated with <em>@DescriptionsList</em>, in this way:<br>
      <pre><code class="language-java">@Embeddable
public class ServiceExpense {

    @ManyToOne(fetch=FetchType.LAZY)
    @DescriptionsList
    private Receptionist receptionist;

    ...

}</code></pre>
      From the above code you get:<br>
      <img src="files/view_en177.jpg" alt="view_en177.jpg" title="view_en177.jpg"><br>
      <em>@DescriptionsList</em> with <em>showReferenceView=true</em> is not
      supported in element collections.<br>
      <h3 id="toc29"><a name="View-Collection customization-Custom edit/view action"></a>Custom
        edit/view action</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      You can refine easily the behavior when the <img src="files/edit.gif" alt="edit.gif"

        title="edit.gif"> ('Edit') link is clicked using <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditAction.html"

          rel="nofollow">@EditAction</a></em>:<br>
      <pre><code class="language-java">@EditAction("Invoice.editDetail")
@OneToMany (mappedBy="invoice", cascade=CascadeType.REMOVE)
private Collection&lt;InvoiceDetail&gt; details;</code></pre>
      You have to define <em>Invoices.editDetail</em> in <em>controllers.xml</em>:<br>
      <pre><code class="language-xml">&lt;controller name="Invoice"&gt;
 ...
 &lt;action name="editDetail" hidden="true"
 image="images/edit.gif"
 class="org.openxava.test.actions.EditInvoiceDetailAction"&gt;
 &lt;use-object name="xava_view"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;</code></pre>
      And finally write your action:<br>
      <pre><code class="language-java">package org.openxava.test.actions;
import java.text.*;
import org.openxava.actions.*;
/**
 * @author Javier Paniza
 */
public class EditInvoiceDetailAction extends EditElementInCollectionAction { // 1
 public void execute() throws Exception {
 super.execute();
 DateFormat df = new SimpleDateFormat("dd/MM/yyyy");
 getCollectionElementView().setValue( // 2
 "remarks", "Edit at " + df.format(new java.util.Date()));
 }
}</code></pre>
      In this case you only refine hence your action extends (1) <em>EditElementInCollectionAction</em>.
      In this case you only specify a default value for the <em>remarks</em>
      property. Note that to access the view that displays the detail you can
      use the method <em>getCollectionElementView()</em> (2).<br>
      Also it's possible to remove the edit action from the User Interface, in
      this way:<br>
      <pre><code class="language-java">@EditAction("")
@OneToMany (mappedBy="invoice", cascade=CascadeType.REMOVE)
private Collection&lt;InvoiceDetail&gt; details;</code></pre>
      You only need to put an empty string as value for the action. Although in
      most case it's enough to define the collection as <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ReadOnly.html"

          rel="nofollow">@ReadOnly</a></em>.<br>
      The technique to refine the view action (the action for each row, if the
      collection is read only) is the same but using <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ViewAction.html"

          rel="nofollow">@ViewAction</a></em> instead of <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/EditAction.html"

          rel="nofollow">@EditAction</a></em>.<br>
      <h3 id="toc30"><a name="View-Collection customization-Custom list and row actions"></a>Custom
        list and row actions</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      Use <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ListAction.html"

          rel="nofollow">@ListAction</a></em> to define actions that applies to
      entire collection and <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RowAction.html"

          rel="nofollow">@RowAction</a></em> <em>(new in v4.6)</em> to define
      actions for each row. <em>@ListAction</em> and <em>@RowAction</em> are
      very alike, indeed they are coded in the same way, the difference is that
      the <em>@ListActions</em> are shown in the button bar while the <em>@RowActions</em>
      are shown in each row. <em>@ListActions</em> can be also shown in each
      row if they are defined as <em>in-each-row="true"</em> in <em>controllers.xml</em>.<br>
      This is an example:<br>
      <pre><code class="language-java">@ListAction("Carrier.translateName")
private Collection&lt;Carrier&gt; fellowCarriers;</code></pre>
      Now a new link is shown to the user:<br>
      <img src="files/view_en180.jpg" alt="view_en180.jpg" title="view_en180.jpg"><br>
      Also you need to define the action in <em>controllers.xml</em>:<br>
      <pre><code class="language-xml">&lt;controller name="Carrier"&gt;
 ...
 &lt;action name="translateName" hidden="true"
 class="org.openxava.test.actions.TranslateCarrierNameAction"&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;</code></pre>
      And the action code:<br>
      <pre><code class="language-java">package org.openxava.test.actions;
import java.util.*;
import org.openxava.actions.*;
import org.openxava.test.model.*;
/**
 * @author Javier Paniza
 */
public class TranslateCarrierNameAction extends CollectionBaseAction { // 1
 public void execute() throws Exception {
 Iterator it = getSelectedObjects().iterator(); // 2
 while (it.hasNext()) {
 Carrier carrier = (Carrier) it.next();
 carrier.translate();
 }
 }
}</code></pre>
      The action extends <em>CollectionBaseAction</em> (1), this way you can
      use methods as <em>getSelectedObjects()</em> (2) that returns a
      collection with the objects selected by the user. There are others useful
      methods, as <em>getObjects()</em> (all elements collection), <em>getMapValues()</em>
      (the collection values in map format) and <em>getMapsSelectedValues()</em>
      (the selected elements in map format). In the case of <em>@RowAction,</em>
      <em>getSelectedObjects()</em> and <em>getMapsSelectedValues()</em> return
      an unique element, the one of the row of the action, even if the row is
      not checked.<br>
      As in the case of detail actions (see next section) you can use <em>getCollectionElementView()</em>.<br>
      Also it's possible to use <a class="wiki_link" href="controllers_en.html#Controllers-List%20mode%20actions">actions
        for list mode</a> as list actions for <i>@OneToMany</i> and <i>@Condition</i>
      collections, but not for calculated collections, <i>@ManyToMany</i> or <i>@OrderColumn</i>
      lists..<br>
      Starting from v5.9, row actions can appear selectively in each row <a href="controllers_en.html#Controllers-Optional%20actions">using
        <i>IAvailableAction</i>, just like with list mode actions</a>.
      <h3 id="toc31"><a name="View-Collection customization-Default list and row actions"></a>Default
        list and row actions</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      If you want to add some custom list actions to all the collection of your
      application you can do it creating a controller called <em>DefaultListActionsForCollections</em>
      in your own <em>controllers.xml</em> file in <i>src/main/resources/xava</i>
      (just <i>xava</i> for v6 or older) as following:<br>
      <pre><code class="language-xml">&lt;controller name="DefaultListActionsForCollections"&gt;
    &lt;extends controller="CollectionCopyPaste"/&gt; &lt;!-- New in v5.9 --&gt;
    &lt;extends controller="Print"/&gt;
    &lt;action name="exportAsXML"
        class="org.openxava.test.actions.ExportAsXMLAction"&gt;
    &lt;/action&gt;
&lt;/controller&gt;</code></pre>
      In this way all the collections will have the actions of <em>CollectionCopyPaste
        (new in v5.9)</em> and of <em>Print</em> controller (for export to
      Excel and generate PDF report) and your own <em>ExportAsXMLAction</em>.
      This has the same effect of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/ListAction.html"

          rel="nofollow">@ListAction</a></em> (look at <em><a class="wiki_link"

          href="view_en#toc23">custom list actions</a></em> section) but it
      applies to all collections at once.<br>
      If you want to add some custom actions to all rows of the collections of
      your application you can do it creating a controller called <em>DefaultRowActionsForCollections</em>
      <i>(new in v4.6)</i> in your own <em>controllers.xml</em> file in <i>src/main/resources/xava</i>
      (just <i>xava</i> for v6 or older) as following:<br>
      <div class="wiki">
        <pre><code class="language-xml">&lt;controller name="DefaultRowActionsForCollections"&gt;
    &lt;extends controller="CollectionOpenInNewTab"/&gt; &lt;!-- New in v7.4 --&gt;
    &lt;action name="openAsPDF"
        class="org.openxava.test.actions.OpenAsPDFAction"&gt;
    &lt;/action&gt;
&lt;/controller&gt;</code></pre>
        In this way, the actions from the controller <em>CollectionOpenInNewTab
          (new in v7.4)</em> and your own <em>OpenAsPDFAction</em> will be
        present in each row of the collections. This has the same effect of <em><a

            class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RowAction.html"

            rel="nofollow">@RowAction</a></em> (look at <em><a class="wiki_link"

            href="view_en.html#toc30">custom list and row actions</a></em>
        section) but it applies to all collections at once.</div>
      Since v5.9 this feature applies to both persistent and calculated
      collections, before calculated collections were not supported for default
      list and row actions.</div>
    <div class="wiki" style="display: block;">Since v7.4, you can use <em><a href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoDefaultActions.html">@NoDefaultActions</a></em>
      to not display the default list and row actions for a specific collection.<br>
      <h3 id="toc32"><a name="View-Collection customization-Custom detail actions"></a>Custom
        detail actions</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      Also you can add your custom actions to the detail view used for editing
      each element. This is accomplish by means of <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DetailAction.html"

          rel="nofollow">@DetailAction</a></em> annotation. These actions are
      applicable only to one element of collection. For example:<br>
      <pre><code class="language-java">@DetailAction("Invoice.viewProduct")
@OneToMany (mappedBy="invoice", cascade=CascadeType.REMOVE)
private Collection&lt;InvoiceDetail&gt; details;</code></pre>
      In this way the user has another link to click in the detail of the
      collection element:<br>
      <img src="files/view_en190.jpg" alt="view_en190.jpg" title="view_en190.jpg"><br>
      You need to define the action in <em>controllers.xml</em>:<br>
      <pre><code class="language-xml">&lt;controller name="Invoice"&gt;
 ...
 &lt;action name="viewProduct" hidden="true"
 class="org.openxava.test.actions.ViewProductFromInvoiceDetailAction"&gt;
 &lt;use-object name="xava_view"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;use-object name="xavatest_invoiceValues"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;</code></pre>
      And the code of your action:<br>
      <pre><code class="language-java">package org.openxava.test.actions;
import java.util.*;
import javax.ejb.*;
import org.openxava.actions.*;
/**
 * @author Javier Paniza
 */
public class ViewProductFromInvoiceDetailAction
 extends CollectionElementViewBaseAction // 1
 implements INavigationAction {
 @Inject // Since v4m2
 private Map invoiceValues;
 public void execute() throws Exception {
 try {
 setInvoiceValues(getView().getValues());
 Object number =
 getCollectionElementView().getValue("product.number"); // 2
 Map key = new HashMap();
 key.put("number", number);
 getView().setModelName("Product"); // 3
 getView().setValues(key); // Since v4m5 you can
 getView().findObject(); // use getParentView() instead
 getView().setKeyEditable(false);
 getView().setEditable(false);
 }
 catch (ObjectNotFoundException ex) {
 getView().clear();
 addError("object_not_found");
 }
 catch (Exception ex) {
 ex.printStackTrace();
 addError("system_error");
 }
 }
 public String[] getNextControllers() {
 return new String [] { "ProductFromInvoice" };
 }
 public String getCustomView() {
 return SAME_VIEW;
 }
 public Map getInvoiceValues() {
 return invoiceValues;
 }
 public void setInvoiceValues(Map map) {
 invoiceValues = map;
 }
}</code></pre>
      You can see that it extends <em>CollectionElementViewBaseAction</em> (1)
      thus it has available the view that displays the current element using <em>getCollectionElementView()</em>
      (2). Also you can get access to the main view using <em>getView()</em>
      (3) or to the parent view using <em>getParentView()</em> <em>(since
        v4m5)</em>, usually <em>getView()</em> and <em>getParentView()</em>
      matches. In <a class="wiki_link" href="controllers_en.html">chapter 7</a>
      you will see more details about writing actions.<br>
      Also, using the view returned by <em>getCollectionElementView()</em> you
      can add and remove programmatically detail and list actions with <em>addDetailAction()</em>,
      <em>removeDetailAction()</em>, <em>addListAction()</em> and <em>removeListAction()</em>,
      see API doc for <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html"

          rel="nofollow">org.openxava.view.View</a></em>.<br>
      <h3 id="toc33"><a name="View-Collection customization-Refining collection view default behavior"></a>Refining
        collection view default behavior</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em><em> and calculated
          collections</em> (since v5.3 @RemoveSelectedAction applies to
        @ElementCollection too)</em><br>
      Using <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NewAction.html"

          rel="nofollow">@NewAction</a></em>, <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/AddAction.html"

          rel="nofollow">@AddAction</a> (new in v5.7)</em>, <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SaveAction.html"

          rel="nofollow">@SaveAction</a></em>, <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/HideDetailAction.html"

          rel="nofollow">@HideDetailAction</a></em>, <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RemoveAction.html"

          rel="nofollow">@RemoveAction</a></em>, <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/RemoveSelectedAction.html"

          rel="nofollow">@RemoveSelectedAction</a></em> and <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DeleteSelectedAction.html"

          rel="nofollow">@DeleteSelectedAction</a></em><em>(new in v7.4)</em>
      you can refine the default behavior of collection view. For example if you
      want to refine the behavior of save a detail action you can define your
      view in this way:<br>
      <pre><code class="language-java">@SaveAction("DeliveryDetail.save")
@OneToMany (mappedBy="delivery", cascade=CascadeType.REMOVE)
private Collection&lt;DeliveryDetail&gt; details;</code></pre>
      You must have an action <em>DeliveryDetails.save</em> in your <em>controllers.xml</em>:<br>
      <pre><code class="language-xml">&lt;controller name="DeliveryDetail"&gt;
 ...
 &lt;action name="save"
 class="org.openxava.test.actions.SaveDeliveryDetailAction"&gt;
 &lt;use-object name="xava_view"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;</code></pre>
      And define your action class for saving:<br>
      <pre><code class="language-java">package org.openxava.test.actions;
import org.openxava.actions.*;
/**
 * @author Javier Paniza
 */
public class SaveDeliveryDetailAction extends SaveElementInCollectionAction { // 1
 public void execute() throws Exception {
 super.execute();
 // Here your own code // 2
 }
}</code></pre>
      The more common case is extending the default behavior, for that you have
      to extend the original class for saving a collection detail (1), that is <em>SaveElementInCollection</em>
      action, then call to <em>super</em> from <em>execute()</em> method (2),
      and after it, writing your own code.<br>
      Also it's possible to remove any of these actions from User Interface, for
      example, you can define a collection in this way:<br>
      <pre><code class="language-java">@RemoveSelectedAction("")
@OneToMany (mappedBy="delivery", cascade=CascadeType.REMOVE)
private Collection&lt;DeliveryDetail&gt; details;</code></pre>
      In this case the action for removing the selected elements in the
      collection will be missing in the User Interface. As you see, only it's
      needed to declare an empty string as the name of the action.<br>
      <em>New in v5.3: @RemoveSelectedAction</em> can be used for <em>@ElementCollection</em>.
      By default, no Java action is used to remove a row in an element
      collection, it's done using JavaScript in the browser. However, you can
      use <em>@RemoveSelectedAction</em> to use a Java action, so you can
      refine the behavior. Extend the <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/RemoveSelectedInElementCollectionAction.html"

          rel="nofollow">RemoveSelectedInElementCollectionAction</a> (new in
        v5.3.2)</em> to do it.<br>
      <em>New in v7.4</em>: <em>@DeleteSelectedAction</em>. Extend the <em><a

          class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/DeleteSelectedInCollectionAction.html"

          rel="nofollow">DeleteSelectedInCollectionAction</a></em>to refine the
      behavior.
      <h3 id="toc34"><a name="View-Collection customization-Action when a collection element is selected (new in v3.1.2)"></a>Action
        when a collection element is selected <em>(new in v3.1.2)</em></h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      You can define an action to be executed when a collection element is
      selected or unselected. This is accomplished using the <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnSelectElementAction.html"

          rel="nofollow">@OnSelectElementAction</a></em> annotation. For
      example, imagine that you have a collection just like this one:<br>
      <img src="files/view_en195.jpg" alt="view_en195.jpg" title="view_en195.jpg"><br>
      And you want that when a row is selected the value of the <em>selectedIngredientSize</em>
      field in the user interface will be updated. Let's code it.<br>
      First you have to annotate your collection:<br>
      <pre><code class="language-java">@OnSelectElementAction("Formula.onSelectIngredient") // 1
@OneToMany(mappedBy="formula", cascade=CascadeType.REMOVE)
private Collection&lt;FormulaIngredient&gt; ingredients;</code></pre>
      In this simple way (1), and thanks to the <em>@OnSelectElementAction</em>
      annotation, you say that when the user clicks on the checkbox of the
      collection row the <em>Formula.onSelectIngredient</em> action will be
      executed. This action is declared in <em>controllers.xml</em>, in this
      way:<br>
      <pre><code class="language-xml">&lt;controller name="Formula"&gt;
 ...
 &lt;action name="onSelectIngredient" hidden="true"
 class="org.openxava.test.actions.OnSelectIngredientAction"&gt;
 &lt;use-object name="xava_view"/&gt; &lt;!-- Not needed since v4m2 --&gt;
 &lt;/action&gt;
 ...
&lt;/controller&gt;</code></pre>
      Now, only remains the code of the <em>OnSelectIngredientAction</em>
      class:<br>
      <pre><code class="language-java">public class OnSelectIngredientAction extends OnSelectElementBaseAction { // 1
 public void execute() throws Exception {
 int size = getView().getValueInt("selectedIngredientSize");
 size = isSelected() ? size + 1 : size - 1; // 2
 getView().setValue("selectedIngredientSize", new Integer(size));
 }
}</code></pre>
      The easiest way to implement the action is extending from <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/OnSelectElementBaseAction.html"

          rel="nofollow">OnSelectElementBaseAction</a></em>, this allows you to
      access to the property <em>selected</em> (by means of <em>isSelected()</em>,
      2) that indicates wheter the user has selected or unselected the row; and
      <em>row</em> (using <em>getRow()</em>) that indicates the row number of
      the affected collection element.<br>
      <h3 id="toc35"><a name="View-Collection customization-Choosing an editor (collection, new in v3.1.3)"></a>Choosing
        an editor (collection, <em>new in v3.1.3</em>)</h3>
      <em>Applies to @OneToMany/@ManyToMany, @ElementCollection</em><em> and
        calculated collections</em><br>
      An editor display the collection to the user and allows him to edit its
      values. By default, the editor OpenXava uses for collections is a list
      that shows the data in a tabular fashion, allowing to order, filter and
      paging, but you can specify your own editor to display a concrete
      collection using <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Editor.html"

          rel="nofollow">@Editor</a></em>.<br>
      For example, if you have a collection of <em>Customer</em> entities and
      you want to display it in some particular entity or view using a custom
      user interface, such as a simple list of names, you can do it in this way:<br>
      <pre><code class="language-java">@OneToMany(mappedBy="seller")
@Editor("CustomersNames")
private Collection&lt;Customer&gt; customers;</code></pre>
      In this case the <em>CustomersNames</em> editor will be used for
      displaying/editing, instead of the default one. You must define your <em>CustomersNames</em>
      editor in the <em>editors.xml</em> file in <i>src/main/resources/xava</i>
      (just <i>xava</i> for v6 or older) of your project:<br>
      <pre><code class="language-xml">&lt;editor name="CustomersNames" url="customersNamesEditor.jsp"/&gt;</code></pre>
      Also you have to write the JSP code for your editor in <em>customersNamesEditor.jsp</em>.<br>
      This feature is for changing the editor for a concrete collection in a
      concrete entity only, or even only in one view of that entity (using <em>@Editor(forViews=)</em>).
      If you want to change the editor for all collections to certain entity
      type at application level then it's better to configure it using <em>editors.xml</em>
      file.<br>
      Learn more on <a class="wiki_link" href="customizing_en.html#Customizing-Editors-Editors%20for%20collections%20%28new%20in%20v3.1.3%29">Editors
        for collections</a> section.<br>
      <h3 id="toc36"><a name="View-Collection customization-Condition for search list (collection, new in v4m4)"></a><a

          name="search-list-condition-collection"></a>Condition for search list
        (collection, <em>new in v4m4</em>)</h3>
      <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated collections</em><br>
      You can specify a condition to be applied to the list of items available
      for selection. In the case of non-embedded collections. By using <em>@SearchListCondition</em>
      you can define a condition only applicable to the search list,
      furthermore, you can use it along with the <em>forViews</em> and <em>notForViews</em>
      property to define different criteria for different views (1). Since <em>v7.4</em>,
      the condition supports the use of <em>${this.}</em> to refer to a
      property of the entity itself (2). As shown in the following code snippet.<br>
      <pre><code class="language-java">private int code;
        
@OneToMany(mappedBy="seller")
@SearchListCondition(value="${number} &lt; 5", forViews="SearchListCondition, SearchListConditionBlank") // 1
@SearchListCondition(value="${number} &lt; ${this.code}", forViews="SearchListConditionCode") // 2
private Collection&lt;Customer&gt; customers;</code></pre>
      <h3 id="toc37"><a name="View-Collection customization-Displaying collections as a tree (new in v4m4)"></a><a

          name="tree"></a>Displaying collections as a tree <em>(new in v4m4)</em></h3>
      <em>Applies to @OneToMany/@ManyToMany collections</em><br>
      It is possible to render a collection as a tree:<br>
      <pre><code class="language-java">@OneToMany(mappedBy="parentContainer", cascade = CascadeType.REMOVE)
@Tree                          // 1
@ListProperties("description") // 2
@OrderBy("folder, itemOrder")  // 3
// @Editor(value="TreeView")   // 4  Not needed since v7.5
private Collection&lt;TreeItem&gt; treeItems;</code></pre>
      Annotating your collection with <i>@Tree</i> (1) indicates that you want
      to visualize the collection as a tree. With the <em>@ListProperties</em>
      (2) annotation, you can define the properties to display at each branch.
      The items are displayed in the natural order of the collection defined by
      <em>@OrderBy</em> (3). You must have a String property named <i>path</i>
      to be used as the branch's path; you can also name it differently by using
      the <em>@Tree</em> annotation (1) and indicating <i>pathProperty</i>. In
      version previous to v7.5 you have to annotate your collection with <i>@Editor("TreeView")</i>
      (4) to show the tree editor.<br>
      <img src="files/tree_view_en000.jpg" alt="tree_view_en000.jpg" title="tree_view_en000.jpg"><br>
      As you can see in the table, the tree is made by concatenating the id
      separated by "/". Sibling items must have the same path. The editor takes
      care of the creation and modification of the path property. This will look
      like this:<br>
      <img src="files/tree_view_en010.jpg" alt="tree_view_en010.jpg" title="tree_view_en010.jpg"></div>
    <div class="wiki" style="display: block;">The user can drag and drop to move
      items from one branch to another (since v7.2, previously done using
      buttons).<br>
    </div>
    <div class="wiki" style="display: block;">The full syntax for <em>@Tree</em>
      is:<br>
      <pre><code class="language-java">@Tree(
  forViews="",                // 1
  notForViews="",             // 2
  pathProperty="path",        // 3
  idProperties="",            // 4
  initialExpandedState=true,  // 5
  orderIncrement=2,           // 6  Deprecated since version 7.2
  pathSeparator="/"           // 7<br>  allowMoveNodes=true         // 8  New in v7.5<br>)</code></pre>
      <ol>
        <li><strong>forViews</strong>: Indicates in which views the tree
          behavior is going to be applied.</li>
        <li><strong>notForViews</strong>: Views which are excluded from the tree
          renderization.</li>
        <li><strong>pathProperty</strong>: Name of the property to be used as
          the path for the tree, by default, it uses the "path" property (which
          must be present in the class). You can also specify another name.</li>
        <li><strong>idProperties</strong>: The tree implementation needs a
          unique identification for each of the elements displayed. By default
          the tree implementation use the properties annotated with <em>@Id</em>,
          but you can define which properties the tree must use as the unique
          identifier. The defined properties are comma separated.</li>
        <li><strong>initialExpandedState</strong>: If true the tree is rendered
          with all nodes expanded.</li>
        <li><strong>orderIncrement</strong>: If you define a <em>@OrderBy</em>
          and it represents an integer property type, the Tree implementation
          uses this field to allow reordering of the tree elements, by default
          the increment value is 2 and is the minimum allowed. This value allow
          easy reordering of elements. (deprecated since version 7.2).</li>
        <li><strong>pathSeparator</strong>: If you use a separator for your path
          different than the default "/". Then you can set this property to the
          value that you are using.</li>
        <li><strong>allowMoveNodes</strong>:<span>&nbsp;</span><em>(New in v7.5)</em><span>&nbsp;</span>Indicates
          whether the user can move nodes in the tree. If set to <i>false</i>,
          users cannot move nodes using drag-and-drop. Default value is <i>true</i>.</li>
      </ol>
      <h3 id="toc38"><a name="View-Collection customization-Total properties (new in v4.3)"></a>Total
        properties <em>(new in v4.3)</em></h3>
      <em>Applies to @OneToMany/@ManyToMany, @ElementCollection</em><em> and
        calculated collections</em><br>
      Inside <em>@ListProperties</em> you can define, between square brakets, a
      set of properties of the parent entity of the collection to be shown in
      the footer of the collection as total values. That is, if you define a
      collection in this way:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@ListProperties("deliveryDate[invoice.deliveryDate], quantity, amount[invoice.amountsSum, invoice.vat, invoice.total]")
</code></pre> </div>
    <div class="wiki" style="display: block;">That including the total
      properties code would be:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">public class Invoice {

    ...
	
    @OneToMany (mappedBy="invoice", cascade=CascadeType.REMOVE)
    @ListProperties("deliveryDate[invoice.deliveryDate], quantity, amount[invoice.amountsSum, invoice.vat, invoice.total]")
    private Collection&lt;InvoiceDetail&gt; details;	

    public Date getDeliveryDate() { 
        Date result = null;		
        for (InvoiceDetail detail: getDetails()) {
            result = (Date) ObjectUtils.min(result, detail.getDeliveryDate());
        }		
        return result;
    }

    @Money
    public BigDecimal getAmountsSum() {		
        BigDecimal result = BigDecimal.ZERO;		
        for (InvoiceDetail detail: getDetails()) { 			
            result = result.add(detail.getAmount());
        }		
        return result;		
    }
	
    @Money @Depends("vatPercentage, amountsSum")
    public BigDecimal getVat() {		
        return getAmountsSum().multiply(getVatPercentage()).divide(HUNDRED, 2, BigDecimal.ROUND_HALF_UP);
    }
	
    @Money @Depends("vat") 
    public BigDecimal getTotal() {
        return getVat().add(getAmountsSum());
    }
    
}    
</code></pre> </div>
    <div class="wiki" style="display: block;">You get:<br>
      <img src="files/view_en220.jpg" alt="view_en220.jpg" title="view_en220.jpg"><br>
      Total properties can be used for all type of collections, that is for <i>@OneToMany,
        @ManyToMany, @ElementCollection</i> or calculated collections (just a
      getter that returns a collection). You can add total properties to any
      property of <em>@ListProperties</em> and they can be of any type, not
      just numbers. These total properties are from the container entity so you
      have to use the reference to the container entity as prefix, that is, the
      prefix of the total properties must match with the <em>mappedBy</em>
      reference in the case of persistent collections.<br>
      Since v5.9 total properties can be persistent, so editable, not just
      calculated ones (with just a getter). Also since 5.9 a total property can
      be annotated with <em>@Calculation</em>. Moreover since v5.9 it's
      possible to combine column summation (the + in the property) with total
      properties. Therefore, you can write this <em>@ListProperties</em>:<br>
      <pre><code class="language-java">@ListProperties("vatPercentage, total+[workCost.profitPercentage, workCost.profit, workCost.total]")</code></pre>
      Note the + after <em>total</em> and then the total properties inside [].
      In this case <i>profitPercentage</i> is a persistent property, so it is
      editable. The <i>profit</i> and <i>total</i> are also persistent but
      with <i>@Calculation</i> and <i>@ReadOnly</i> (so not editable). This is
      the complete code:</div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">public class WorkCost  {

    ...
    
    @OneToMany (mappedBy="workCost")
    @ListProperties("number, vatPercentage, total+[workCost.profitPercentage, workCost.profit, workCost.total]")
    private Collection&lt;WorkInvoice&gt; invoices;	    

    @DefaultValueCalculator(value=IntegerCalculator.class,
        properties=@PropertyValue(name="value", value="13") 
    )
    private int profitPercentage; // Persistent with getter and setters, editable
	
    @Calculation("sum(invoices.total) * profitPercentage / 100")
    @ReadOnly
    private BigDecimal profit; // Persistent with getter and setters, not editable because of @ReadOnly
	
    @Calculation("sum(invoices.total) + profit")
    @ReadOnly
    private BigDecimal total; // Persistent with getter and setters, not editable because of @ReadOnly
	
}
</code></pre> </div>
    <div class="wiki" style="display: block;">The above code produces the next
      effect:<br>
      <img src="files/view_en240.png" alt="view_en240.png" title="view_en240.png"><br>
      Here the 131.08 is the sum of the column, because of <em>total+.</em>
      Below you have <em>profitPercentage</em>, <em>profit</em> and <em>total</em>,
      the regular total properties. You can reference the column summation (that
      is the <em>total+</em>, the 131.08) from a <em>@Calculation</em>
      property using <em>sum(columnName)</em>. For example, in this case you
      could define <em>profit</em> property in this way:<br>
      <pre><code class="language-java">@Calculation("sum(invoices.total) * profitPercentage / 100")
@ReadOnly
private BigDecimal profit;</code></pre>
      In this case the <em>sum(invoices.total)</em> inside <em>@Calculation</em>
      is the summation of the <em>total</em> property of all the elements of <em>invoices</em>
      collection, that is the same of <em>total+</em> in <em>@ListProperties</em>,
      that is the 131.08 you see in the image.<br>
      <h3 id="toc39"><a name="View-Collection customization-Subcontroller in a collection (new in v5.7)"></a><a

          name="subcontroller-collection"></a><strong><span style="font-size: 17px;">Subcontroller
            in a collection (new in v5.7)</span></strong></h3>
      <em><span style="line-height: 25px;">Applies to @OneToMany/@ManyToMany</span></em><em>
        and calculated collections</em><br>
      With <em>@ListSubcontroller</em> we can grouping several actions and show
      them in a drop-down button. If you put a collection as:<br>
      <pre><code class="language-java">@OneToMany(mappedBy="team", cascade=CascadeType.ALL)
@ListSubcontroller("Stuff")
private Collection&lt;TeamMember&gt; members;</code></pre>
      You obtain this:<br>
      <img src="files/subcontrolador-coleccion-2-en.png" alt="subcontrolador-coleccion-2-en.png"

        title="subcontrolador-coleccion-2-en.png"><br>
      In <em>@ListSubcontroller</em> you define the controller name, also you
      have <em>forViews</em> and <em>notForViews</em> attributes. If you want
      that the subcontroller has an image you can define it in the controller:<br>
      <pre><code class="language-java">&lt;controller name="Stuff" icon="exclamation"&gt;
     &lt;action name="viewNames" class="org.openxava.test.actions.ViewNamesOrRolesNamesFromTeamMember" icon="message-outline"/&gt;
     &lt;action name="viewRoles" class="org.openxava.test.actions.ViewNamesOrRolesNamesFromTeamMember" icon="message"&gt;
          &lt;set value="true" property="roles"/&gt;
     &lt;/action&gt;
&lt;/controller&gt;</code></pre>
      <h3 id="chart-from-collection">Chart from a collection <em>(new in v7.4)
        </em></h3>
      <em>Applies to @OneToMany/@ManyToMany, @ElementCollection</em><em> and
        calculated collections</em><br>
      It can be done so that a collection is visualized using a chart, for this
      you have to annotate the collection with <a href="https://openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Chart.html"><i>@Chart</i></a>,
      like this:
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">@OneToMany(mappedBy="company")
@Chart
Collection&lt;Employee&gt; employees;
</code></pre> </div>
      <div class="wiki" style="display: block;">For example, in this case
        instead of the typical list, a chart would be displayed using the data
        from the elements of the collection, like this:</div>
      <img src="files/view_en250.png" alt="view_en250.png" title="view_en250.png">
      <div class="wiki" style="display: block;">There would be a group of bars
        for each element in the collection, in this case, if there are 3
        employees in the collection, 3 groups of bars appear.</div>
      <div class="wiki" style="display: block;">OpenXava determines by default
        which properties to use for the label that appears on each group of bars
        and which properties to use to obtain the values of the bars. Look at
        the <a href="https://openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/Chart.html">JavaDoc
          of <i>@Chart</i></a> to learn more about the default values. However,
        the programmer always has the option to define their own properties
        using the <i>labelProperties</i> and <i>dataProperties</i> attributes
        of <i>@Chart</i>, like this:</div>
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">@OneToMany(mappedBy="company")
@Chart(labelProperties="firstName, lastName", dataProperties="salary")
Collection&lt;Employee&gt; employees;
</code></pre> </div>
      <div class="wiki" style="display: block;">Which would generate a chart
        like this:</div>
      <img src="files/view_en260.png" alt="view_en260.png" title="view_en260.png"></div>
    <div class="wiki" style="display: block;">Given that we have set <i>labelProperties=firstName,
        lastName</i>, the label used in each column of the chart is the
      concatenation of the employees first name and last name, like MIGUEL
      SMITH HERRERO for example. Also note that only one column per employee
      appears, with the salary value, because we have set <i>dataProperties=salary</i>.
      Of course, more properties can be put in <i>dataProperties</i> separated
      by commas. </div>
    <div class="wiki" style="display: block;">Starting from version 7.5, a new
      attribute <i>type</i> is available in <i>@Chart</i>. This attribute
      allows you to specify the type of chart to be displayed. The possible
      values are:
      <ul>
        <li><i>BAR</i>: Displays a bar chart (this is the default)</li>
        <li><i>LINE</i>: Displays a line chart</li>
        <li><i>PIE</i>: Displays a pie chart</li>
      </ul>
      For example: </div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@OneToMany(mappedBy="corporation")
@Chart(type=ChartType.LINE)
private Collection<corporationemployee> employees;</corporationemployee></code></pre>
    </div>
    <div class="wiki" style="display: block;"> In the case of pie charts, as
      well as with other chart types, it's common to display aggregated data.
      Rarely would we want a pie chart showing all (or many) records from a
      table (which would be a collection of entities). Therefore, it's usually
      better to use an auxiliary class to show aggregated or summary data.
      Here's an example: </div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@Chart(type = ChartType.PIE)
public Collection&lt;Ratio&gt; getExternalEmployeesRatio() { 
    EntityManager em = XPersistence.getManager();
    
    // Query to count internal employees (email contains corporation name)
    Query internalQuery = em.createQuery(
        "SELECT COUNT(e) FROM CorporationEmployee e " +
        "WHERE e.corporation.id = :corporationId AND LOWER(e.email) LIKE :pattern");
    internalQuery.setParameter("corporationId", getId());
    internalQuery.setParameter("pattern", "%" + name.toLowerCase() + "%");
    Long internalCount = (Long) internalQuery.getSingleResult();
    
    // Query to count external employees (email does not contain corporation name)
    Query externalQuery = em.createQuery(
        "SELECT COUNT(e) FROM CorporationEmployee e " +
        "WHERE e.corporation.id = :corporationId AND LOWER(e.email) NOT LIKE :pattern");
    externalQuery.setParameter("corporationId", getId());
    externalQuery.setParameter("pattern", "%" + name.toLowerCase() + "%");
    Long externalCount = (Long) externalQuery.getSingleResult();
    
    // Create and return the collection of ratios
    Collection&lt;Ratio&gt; ratios = new ArrayList&lt;&gt;();
    ratios.add(new Ratio("Internal", internalCount.intValue()));
    ratios.add(new Ratio("External", externalCount.intValue()));

    return ratios;
}</code></pre>
    </div>
    <div class="wiki" style="display: block;"> Where <i>Ratio</i> is a simple
      class that represents a ratio with a description and a value: </div>
    <div class="wiki" style="display: block;">
      <pre><code class="language-java">@Data
@NoArgsConstructor
@AllArgsConstructor
public class Ratio {
    
    String description;
    int value;
}</code></pre>
    </div>
    <div class="wiki" style="display: block;"> This would generate a pie chart
      like this: </div>
    <img src="files/view_en265.png" alt="view_en265.png" title="view_en265.png">
    <div class="wiki" style="display: block;">In addition, the <i>forViews</i>
      and <i>notForViews</i> attributes are available in <i>@Chart</i>.</div>
    <div class="wiki" style="display: block;">
      <h3 id="simple-list">Simple list <em>(new in v7.4)</em></h3>
      <em>Applies to @OneToMany/@ManyToMany, @ElementCollection</em><em> and
        calculated collections</em><br>
      With the <a href="https://openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SimpleList.html"><i>@SimpleList</i></a>
      annotation, the list is displayed as read-only, without actions, filters,
      pagination, sorting, etc. That is, if we annotate our collection with <i>@SimpleList</i>,
      in this way:<br>
      <div class="wiki" style="display: block;">
        <pre><code class="language-java">@OneToMany(mappedBy="parent")
@SimpleList
Collection&lt;StaffTurnover&gt; turnoverByYear;
</code></pre> </div>
      <div class="wiki" style="display: block;">It would be displayed like this:</div>
      <img src="files/view_en270.png" alt="view_en270.png" title="view_en270.png">
      <div class="wiki" style="display: block;">Useful when the user needs to
        see the data in a simple and clear way, without having to interact with
        it, such as in a dashboard, for example.</div>
      <div class="wiki" style="display: block;">In addition, the <i>forViews</i>
        and <i>notForViews</i> attributes are available in <i>@SimpleList.</i></div>
      <div class="wiki" style="display: block;">As with all visual elements in
        OpenXava, you can change the style of the simple list (<i>@SimpleList</i>)
        using CSS. The available CSS class is <i>.ox-simple-list</i>. You can
        include the CSS code in <i>custom.css</i> or in your own style as
        explained in the <a href="custom-style_en.html">documentation on custom
          visual styling</a>.<br>
        </i>
        <h3 id="choose-tab-for-search-action-collection">Choose tab for search
          action (collection, <em>new in v7.4</em>) </h3>
        <p> <em>Applies to @OneToMany/@ManyToMany</em><em> and calculated
            collections</em></p>
        <p>With <a href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/SearchListTab.html"><em>@SearchListTab</em></a>,
          you can specify which tab to display in the dialog when use an add
          action.</p>
        <pre><code class="language-java">@OneToMany(mappedBy="seller")
@SearchListTab("Demo")
private Collection&lt;Customer&gt; customers;</code></pre>
        For this in the <em>Customer </em>we must have a tab called <em>Demo</em>:<br>
        <div class="wiki">
          <pre><code class="language-java">@Entity
@Tab(name="Demo", properties="name, type, seller.name", defaultOrder="${name} desc", baseCondition="${type} = 'R'")
public class Customer {</code></pre>
          In addition, the <i>forViews</i> and <i>notForViews</i> attributes
          are available in <i>@SearchListTab</i>.</div>
        <div class="wiki">
          <h3 id="no-default-actions">Hide default list and row actions <i>(new
              in v7.4)</i></h3>
          <p><em>Applies to @OneToMany/@ManyToMany</em><em> and calculated
              collections</em></p>
          <p>With <a href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/NoDefaultActions.html"><em>@NoDefaultActions</em></a>
            you can hide actions from the <em>DefaultListActionsForCollections
            </em>and <em>DefaultRowActionsForCollections </em>controllers.<em></em></p>
          <pre><code class="language-java">@OneToMany(mappedBy="vendedor")
@NoDefaultActions
private Collection&lt;Carrier&gt; carriers;</code></pre>
          <div class="wiki"><img src="files/view_es280.png" alt="view_es270.png"

              title="view_es270.png"></div>
          <div class="wiki">In addition, the <i>forViews</i> and <i>notForViews</i>
            attributes are available in <i>@NoDefaultActions</i>.</div>
        </div>
      </div>
      <div class="wiki" style="display: block;">
        <h2 id="toc40"><a name="Vista-Propiedades+transitorias+para+controles+graficos"></a></h2>
      </div>
      <h2 id="transient-properties-ui-controls"></h2>
      <h2>Transient properties for UI controls</h2>
      With <em><a class="wiki_link_ext" href="http://java.sun.com/javaee/5/docs/api/javax/persistence/Transient.html"

          rel="nofollow">@Transient (JPA)</a></em> you define a property that is
      not stored in database but you want to show to the user. You can use it to
      provide UI controls to allow the user to manage his user interface.<br>
      An example:<br>
      <pre><code class="language-java">@Transient
@DefaultValueCalculator(value=EnumCalculator.class,
 properties={
 @PropertyValue(name="enumType", value="org.openxava.test.model.Delivery$DeliveredBy")
 @PropertyValue(name="value", value="CARRIER")
 }
)
@OnChange(OnChangeDeliveryByAction.class)
private DeliveredBy deliveredBy;
public enum DeliveredBy { EMPLOYEE, CARRIER }</code></pre>
      You can see that the syntax is exactly the same as in the case of a
      regular property of an entity; you can even use <em>enum</em> and <em><a

          class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/DefaultValueCalculator.html"

          rel="nofollow">@DefaultValueCalculator</a></em>. After defining the
      property you can use it in the view as usual, for example with <em><a class="wiki_link_ext"

          href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html"

          rel="nofollow">@OnChange</a></em> or putting it as member of a view.<br>
      <h2 id="toc40"><a name="View-View actions"></a>View actions</h2>
      In addition of associating actions to a property, reference or collection,
      you also can define arbitrary actions inside your view, in any place. In
      order to do this we use the qualified name of action using brackets () as
      suffix, in this way:<br>
      <pre><code class="language-java">@View( members=
 "number;" +
 "type;" +
 "name, Customer.changeNameLabel();" +
 ...</code></pre>
      The visual effect will be:<br>
      <img src="files/view_en200.jpg" alt="view_en200.jpg" title="view_en200.jpg"><br>
      You can see the link 'Change name label' that will execute the action <em>Customer.changeNameLabel</em>
      on click on it.<br>
      If the container view of the action is not editable, the action is not
      present. If you want that the action is always enabled, even if the view
      is not editable, you have to use put the word ALWAYS between the brackets,
      as following:<br>
      <pre><code class="language-java">@View( name="Simple", members=
 "number;" +
 "type;" +
 "name, Customer.changeNameLabel(ALWAYS);" +
 ...</code></pre>
      The standard way to expose actions to the user is using the controllers
      (actions in a bar), the controllers are reusable between views, but
      sometimes you will need an action specific to a view, and you want display
      it inside the view (not in the button bar), for these cases the view
      actions may be useful.<br>
      See more about actions in <a class="wiki_link" href="controllers_en.html">chapter
        7</a>.<br>
      <h2 id="toc41"><a name="View-Transient class: Only for creating views"></a>Transient
        class: Only for creating views</h2>
      In OpenXava it is not possible to have a view without model. Thus if you
      want to draw an arbitrary user interface, you need to create a class, not
      to declare it as entity and define your view in it.<br>
      An transient class is not associated to any table of the database,
      typically it's used only for display User Interfaces not related to any
      data in database.<br>
      An example can be:<br>
      <pre><code class="language-java">package org.openxava.test.model;
import javax.persistence.*;
import org.openxava.annotations.*;
/**
 * Example of an transient OpenXava model class (not persistent). &lt;p&gt;
 *
 * This can be used, for example, to display a dialog,
 * or any other graphical interface.&lt;p&gt;
 *
 * Note that is not marked as @Entity &lt;br&gt;
 *
 * @author Javier Paniza
 */
@Views({
 @View(name="Family1", members="subfamily"),
 @View(name="Family2", members="subfamily"),
 @View(name="WithSubfamilyForm", members="subfamily"),
 @View(name="Range", members="subfamily; subfamilyTo")
})
public class FilterBySubfamily {
 @ManyToOne(fetch=FetchType.LAZY) @Required
 @NoCreate(forViews="Family1, Family2")
 @NoModify(forViews="Family2, WithSubfamilyForm")
 @NoSearch(forViews="WithSubfamilyForm")
 @DescriptionsLists({
 @DescriptionsList(forViews="Family1",
 condition="${family.number} = 1", order="${number} desc"
 ),
 @DescriptionsList(forViews="Family2",
 condition="${family.number} = 2"
 )
 })
 private Subfamily subfamily;
 @ManyToOne(fetch=FetchType.LAZY)
 private Subfamily subfamilyTo;
 public Subfamily getSubfamily() {
 return subfamily;
 }
 public void setSubfamily(Subfamily subfamily) {
 this.subfamily = subfamily;
 }
 public Subfamily getSubfamilyTo() {
 return subfamilyTo;
 }
 public void setSubfamilyTo(Subfamily subfamilyTo) {
 this.subfamilyTo = subfamilyTo;
 }
}</code></pre>
      For defining a model class as transient you only need to define a regular
      Java class without <em><a class="wiki_link_ext" href="http://java.sun.com/javaee/5/docs/api/javax/persistence/Entity.html"

          rel="nofollow">@Entity</a></em> annotation. You mustn't put the
      mapping annotations nor declare properties as key.<br>
      This way you can design a dialog that can be useful, for example, to print
      a report of families or products filtered by subfamily.<br>
      Transient classes are used with <a class="wiki_link" href="application_en.html#Application-Only%20detail%20module">only
        detail modules</a>. Since v5.0 you must <a class="wiki_link" href="application_en.html">define
        explicitly a module in application.xml</a> for each transient class,
      until v4.9.1 you could use a transient class without defining a module, it
      was only needed to generate the portlet.<br>
      Until v7.3.3 the package for transient model classes must be the same of
      the persistent classes. However, since v7.4 transient classes can be also
      in sibling packages of model package, that is if your model package is <i>com.yourcompany.yourapp.model</i>
      you can put transient classes in <i>com.yourcompany.yourapp.dashboards</i>
      or <i>com.yourcompany.yourapp.dialogs</i>, for example, even if these
      packages does not contain any persistent class.<br>
      With this simple trick you can use OpenXava as a simple and flexible
      generator for user interfaces although the displayed data won't be stored.<br>
      <span style="display: block; height: 1px; left: -40px; overflow: hidden; position: absolute; top: -25px; width: 1px;">deliveryDate[invoice.deliveryDate]</span><span

        style="display: block; height: 1px; left: 0px; overflow: hidden; position: absolute; top: 18914.5px; width: 1px;"><span

          style="display: block; height: 1px; left: 0px; overflow: hidden; position: absolute; top: 18914.5px; width: 1px;">&lt;controller
          name="TeamMemberSub" icon="exclamation"&gt; &lt;action
          name="viewNames"
          class="org.openxava.test.actions.ViewNamesOrRolesNamesFromTeamMember"
          icon="message-outline"/&gt; &lt;action name="viewRoles"
          class="org.openxava.test.actions.ViewNamesOrRolesNamesFromTeamMember"
          icon="message"&gt; &lt;set value="true" property="roles"/&gt;
          &lt;/action&gt; &lt;/controller</span></span> </div>
  </body>
</html>
