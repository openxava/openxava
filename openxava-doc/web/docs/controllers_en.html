<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Controllers - OpenXava</title>
<link href="static/style.css" rel="stylesheet" type="text/css"/>
<link href="highlight/highlight.css" rel="stylesheet"/>
<link href="highlight/highlightjs-copy.css" rel="stylesheet"/><script src="highlight/highlight.js"></script>
<script src="highlight/highlightjs-copy.js"></script><script>window.addEventListener('DOMContentLoaded',function(){hljs.addPlugin(new CopyButtonPlugin({ autohide: false }));hljs.highlightAll();});</script>
</head>
<body>
<div class="wiki" id="content_view" style="display: block;">
<h1 id="toc0"><a name="Controllers"></a> <span id="breadcrumbs"> <span id="openxava">
<a href="https://www.openxava.org/"> <span>o</span>pen<span>x</span>ava
              </a> </span> / <a href="index_en.html">documentation</a> / </span>
        Controllers </h1>
<strong>Reference guide</strong>: <a class="wiki_link" href="model_en.html">Model</a>
      | <a class="wiki_link" href="view_en.html">View</a> | <a class="wiki_link" href="tab_en.html">Tabular data</a> | <a class="wiki_link" href="mapping_en.html">Object/relational
        mapping</a> | <strong>Controllers</strong> | <a class="wiki_link" href="application_en.html">Application</a>
      | <a class="wiki_link" href="customizing_en.html">Customizing</a>
<hr/>
<div id="toc">
<h1 class="nopad">Table of contents</h1>
<div style="margin-left: 1em;"><a href="#Controllers">Controllers</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Environment%20variables">Environment
            variables</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Session%20objects">Session
            objects</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-The%20controller%20and%20its%20actions">The
            controller and its actions</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Subcontroller%20%28new%20in%20v4.8%29">Subcontroller
            (new in v4.8)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Dependency%20injection">Dependency
            injection</a></div>
<div style="margin-left: 3em;"><a href="#Controllers-Dependency%20injection-@Inject%20%28JSR-330%29%20%28new%20in%20v4m2%29">@Inject
            (JSR-330) (new in v4m2)</a></div>
<div style="margin-left: 3em;"><a href="#Controllers-Dependency%20injection-Using%20%20for%20dependency%20injection">Using
            &lt;use-object /&gt; for dependency injection</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Controllers%20inheritance">Controllers
            inheritance</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-List%20mode%20actions">List
            mode actions</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Optional%20actions">Optional actions (new in v5.9)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Overwriting%20default%20search">Overwriting
            default search</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Initialize%20a%20module%20with%20an%20action">Initialize
            a module with an action</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Calling%20another%20module">Calling
            another module</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Showing%20a%20new%20view%20%28new%20in%20v4m2%29">Showing
            a new view (new in v4m2)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Changing%20the%20model%20of%20current%20view">Changing
            the model of current view</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Go%20to%20a%20JSP%20page">Go
            to a JSP page</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Generating%20a%20custom%20report%20with%20JasperReports">Generating
            a custom report with JasperReports</a></div>
<div style="margin-left: 2em;"><a href="#uploading-file-ajax">Uploading
            and processing a file from client (AJAX) (new in v6.2)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Uploading%20and%20processing%20a%20file%20from%20client%20%28multipart%20form%29">Uploading
            and processing a file from client (multipart form)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Override%20the%20default%20controllers%20%28new%20in%20v2.0.3%29">Override
            the default controllers (new in v2.0.3)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Showing%20a%20modal%20dialog%20%28new%20in%20v4m2%29">Showing
            a modal dialog (new in v4m2)</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-Showing%20a%20modal%20dialog%20%28only%20in%20v4m1%29">Showing
            a modal dialog (only in v4m1)</a></div>
<div style="margin-left: 2em;"><a href="#overwriting-go-list-action">Overwriting
            go list action</a></div>
<div style="margin-left: 2em;"><a href="#Controllers-All%20action%20types">All
            action types</a></div>
</div>
      Controllers are used to define actions (buttons, links, images) that the
      final user can click. The controllers are defined in the <em>controllers.xml</em>
      file that is in the <em>src/main/resources/xava</em> directory of your
      project (in <i>xava</i> directory in v6 or older).<br/>
      The actions are not defined in entities because there are a lot of generic
      actions that can be applied to any entity.<br/>
      In <i>openxava/src/main/resources/xava</i> (in <em>OpenXava/xava</em>
      for v6 or older) you have a <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-controllers.xml"><em>default-controllers.xml</em></a>
      that contains a group of generic controllers that can be used in your
      applications. Moreover, you have a lot of examples in the test
      application, in <a href="https://github.com/openxava/openxava/blob/master/openxavatest/src/main/resources/xava/controllers.xml"><i>openxavatest/src/main/resources/xava/controllers.xml</i></a>
      (in <i>OpenXavaTest/xava</i> for v6 or older).<br/>
      The <em>controllers.xml</em> file contains an element of type <em>&lt;controllers/&gt;</em>
      with the syntax:<br/>
<pre><code class="language-xml">&lt;controllers&gt;
    &lt;env-var ... /&gt; ...       &lt;!-- 1 --&gt;
    &lt;object ... /&gt; ...        &lt;!-- 2 --&gt;
    &lt;controller ... /&gt; ...    &lt;!-- 3 --&gt;
&lt;/controllers&gt;</code></pre>
<ol>
<li><strong>env-var</strong> (several, optional): Variable that contains
          configuration information. This variable can be accessed from the
          actions and filters, and its value can be overwritten in each module.</li>
<li><strong>object</strong> (several, optional): Defines Java object
          with session scope; that is objects that are created for a user and
          exist during his session.</li>
<li><strong>controller</strong> (several, optional): A controller is a
          group of actions <i>(controller is optional since v6.4.2, before it
            was required)</i>.</li>
</ol>
<h2 id="toc1"><a name="Controllers-Environment variables"></a>Environment
        variables</h2>
      The environment variables contain configuration information. These
      variables can be accessed from the actions and filters, and their value
      can be overwritten in each module. Their syntax is:<br/>
<pre><code class="language-xml">&lt;env-var
    name="name"              &lt;!-- 1 --&gt;
    value="value"            &lt;!-- 2 --&gt;
/&gt;</code></pre>
<ol>
<li><strong>name</strong> (required): Name of the environment variable
          in uppercase and using underscore to separate words.</li>
<li><strong>value</strong> (required): Value for the environment
          variable.</li>
</ol>
      These are some example:<br/>
<pre><code class="language-xml">&lt;env-var name="MYAPPLICATION_DEFAULT_YEAR" value="2007"/&gt;
&lt;env-var name="MYAPPLICATION_COLOR" value="RED"/&gt;</code></pre>
      To access to an environment variable value from an action use <i>getEnvironment()</i>:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-java">String color = getEnvironment().getValue("MYAPPLICATION_COLOR");</code></pre>
</div>
<div class="wiki" style="display: block;"><br/>
<h2 id="toc2"><a name="Controllers-Session objects"></a>Session objects</h2>
      The Java objects declared in <em>controllers.xml</em> have session scope;
      that is, they are objects that are created for a user and exist during his
      session. It's syntax is:<br/>
<pre><code class="language-xml">&lt;object
    name="objectName"         &lt;!-- 1 --&gt;
    class="objectType"        &lt;!-- 2 --&gt;
    value="initialValue"      &lt;!-- 3 --&gt;
    scope="module|global"     &lt;!-- 4  New in v2.1 --&gt;
/&gt;</code></pre>
<ol>
<li><strong>name</strong> (required): Name of the object, usually you
          use the application name as prefix to avoid name collision in large
          projects.</li>
<li><strong>class</strong> (required): Full qualified Java class for
          this object.</li>
<li><strong>value</strong> (optional): Initial value for the object.</li>
<li><strong>scope</strong> (optional): <em>(New in v2.1)</em> The
          default value is module. If you use module scope each module will have
          its own copy of this object. If you use global scope the same object
          will be shared by all modules of all OpenXava applications (running in
          the same .war).</li>
</ol>
      Defining session objects is very easy, you can see the defined ones in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-controllers.xml"><em>openxava/src/main/resources/xava/default-controllers.xml</em></a>
      (<em>OpenXava/xava/default-controllers.xml</em> in v6 or older):<br/>
<pre><code class="language-xml">&lt;object name="xava_view" class="org.openxava.view.View"/&gt;
&lt;object name="xava_referenceSubview" class="org.openxava.view.View"/&gt;
&lt;object name="xava_tab" class="org.openxava.tab.Tab"/&gt;
&lt;object name="xava_mainTab" class="org.openxava.tab.Tab"/&gt;
&lt;object name="xava_row" class="java.lang.Integer" value="0"/&gt;
&lt;object name="xava_language" class="org.openxava.session.Language"/&gt;
&lt;object name="xava_newImageProperty" class="java.lang.String"/&gt;
&lt;object name="xava_currentReferenceLabel" class="java.lang.String"/&gt;
&lt;object name="xava_activeSection" class="java.lang.Integer" value="0"/&gt;
&lt;object name="xava_previousControllers" class="java.util.Stack"/&gt;
&lt;object name="xava_previousViews" class="java.util.Stack"/&gt;</code></pre>
      These objects are used by OpenXava in order to work, although it is quite
      normal that you use some of these from your actions. If you want to create
      your own objects you can do it in your <em>controllers.xml</em> in the <i>src/main/resources/xava</i>
      directory (just <i>xava</i> before v7) of your project or if you are
      developing a library or framework in <i>default-controllers-ext.xml</i> <i>(since
        v7.5)</i>.<br/>
<h2 id="toc3"><a name="Controllers-The controller and its actions"></a>The
        controller and its actions</h2>
      The syntax of controller is:<br/>
<pre><code class="language-xml">&lt;controller
    name="name"                &lt;!-- 1 --&gt;
&gt;
    &lt;extends ... /&gt; ...        &lt;!-- 2 --&gt;
    &lt;action ... /&gt; ...         &lt;!-- 3 --&gt;
    &lt;subcontroller .../&gt; ...   &lt;!-- 4 New in v4.8 --&gt;
&lt;/controller&gt;</code></pre>
<ol>
<li><strong>name</strong> (required): Name of the controller.</li>
<li><strong>extends</strong> (several, optional): Allows to use multiple
          inheritance, to do this the controller inherits all actions from other
          controller(s). Add the <em>excluded-actions</em> <em>(new in v5.8)</em>
          attribute to prevent certain actions to be inherited.</li>
<li><strong>action</strong> (several, required): Implements the logic to
          execute when the final user clicks a button or link.</li>
<li><strong>subcontroller</strong> (several, optional): <em>(New in
            v4.8)</em> Allows grouping several actions that are shown in a
          drop-down button.</li>
</ol>
<span style="background-color: #ffffff;">Since </span><em><span style="background-color: #ffffff;">version
          5.6</span></em><span style="background-color: #ffffff;"> actions and
        subcontrollers can be intercalated.</span><br/>
      The controllers consist of actions, and actions are the main things. Here
      is the syntax:<br/>
<pre><code class="language-xml">&lt;action
    name="name"                                          &lt;!--  1 --&gt;
    label="label"                                        &lt;!--  2 --&gt;
    description="description"                            &lt;!--  3 --&gt;
    mode="detail|list|ALL"                               &lt;!--  4 --&gt;
    icon="icon"                                          &lt;!--  5  New in v5.4 --&gt;
    image="image"                                        &lt;!--  6 --&gt;
    class="class"                                        &lt;!--  7 --&gt;
    hidden="true|false"                                  &lt;!--  8 --&gt;
    on-init="true|false"                                 &lt;!--  9 --&gt;
    on-each-request="true|false"                         &lt;!-- 10  New in v2.1.2 --&gt;
    before-each-request="true|false"                     &lt;!-- 11  New in v2.2.5 --&gt;
    after-each-request="true|false"                      &lt;!-- 12  New in v4.0.1 --&gt;
    by-default="never|almost-never (new in v4m6)|
        if-possible|almost-always|always"                &lt;!-- 13 --&gt;
    takes-long="true|false"                              &lt;!-- 14 --&gt;
    confirm="true|false"                                 &lt;!-- 15 --&gt;
    keystroke="keystroke"                                &lt;!-- 16  New in v2.0.1 --&gt;
    show-dialog="true|false"                             &lt;!-- 17  Only in v4m1 --&gt;
    hide-dialog="true|false|default"                     &lt;!-- 18  Only in v4m1 --&gt;
    in-each-row="true|false"                             &lt;!-- 19  New in v4m4 --&gt;
    process-selected-items="true|false"                  &lt;!-- 20  New in v5.7 --&gt;
    available-on-new="true|false"                        &lt;!-- 21  New in v5.8 --&gt;
    loses-changed-data="true|false"                      &lt;!-- 22  New in v6.3 --&gt;
&gt;
   &lt;set ... /&gt; ...                                       &lt;!-- 23 --&gt;
   &lt;use-object ... /&gt; ...                                &lt;!-- 24 --&gt;
&lt;/action&gt;</code></pre>
<ol>
<li><strong>name</strong> (required): Action name that must be unique
          within its controller, but it can be repeated in other controllers.
          When you reference an action always use the format <em>ControllerName.actionName</em>.</li>
<li><strong>label</strong> (optional): Button label or link text. It's
          much better to use i18n files.</li>
<li><strong>description</strong> (optional): Description text of the
          action. It's much better to use i18n files.</li>
<li><strong>mode</strong> (optional): Indicates in which mode the action
          has to be visible. The default value is ALL, that means that this
          action is always visible.</li>
<li><strong>icon</strong> (optional): <em>(New in v5.4)</em> Icon id
          from <a class="wiki_link_ext" href="https://pictogrammers.com/library/mdi/" rel="nofollow">Material Design Icons</a>. For example, if you write
          <em>icon="bell"</em> a bell will be used as icon for you action and
          you don't need to include any image. Since v5.4 this is the preferred
          way to define an icon instead of <em>image</em>.</li>
<li><strong>image</strong> (optional): URL of the image associated with
          this action. In the current implementation if you specify an image, it
          is shown to user in link format. Until v4.1.x the root for the URL was
          <em>xava</em>, it was needed to use <em>images</em>/ as prefix. Since
          v4.2 the root depend on the style and in the default style it is <em>xava/images</em>,
          so it is not longer needed to use the <em>images</em>/ as prefix,
          though it is still supported for not breaking backward compatibility.
          If you define both <em>image</em> and <em>icon</em>, <em>icon</em>
          has preference over <em>image</em>, though you can change this
          behavior with <em>useIconsInsteadOfImages=false</em> in <em>xava.properties</em>.
          Inside portals <em>image</em> has always preference.</li>
<li><strong>class</strong> (optional): Implements the logic to execute.
          Must implement <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAction.html" rel="nofollow">IAction</a></em> interface.</li>
<li><strong>hidden</strong> (optional): A hidden action is not shown in
          the button bar, although it can be used in all other places, for
          example to associate it to an event, as action of a property, in
          collections, etc. The default is false.</li>
<li><strong>on-init</strong> (optional): If you set this property to <em>true</em>,
          then the action will be executed automatically on initiating the
          module. The default is <em>false</em>.</li>
<li><strong>on-each-request</strong> (optional): <em>(New in v2.1.2)</em>
          If you set this property to <em>true</em>, then the action will be
          executed automatically on each request of the user, that is, on first
          module execution and before each user action execution. In the moment
          of execution all OpenXava session objects are setup and ready to use.
          That is, from this action you can use <em>xava_view</em> and <em>xava_tab</em>.
          The default is <em>false</em>. Using in conjunction with <em>mode</em>
          you can discriminate the execution of this action for a concrete mode
          (list or detail) (<em>new in v3.0.2</em>).</li>
<li><strong>before-each-request</strong> (optional): <em>(New in
            v2.2.5)</em> If you set this property to <em>true</em>, then the
          action will be executed automatically before each request of the user,
          that is, on first module execution and before each user action
          execution, but before the OpenXava session objects are setup and ready
          to use. That is, from this action you cannot use <em>xava_view</em>
          or <em>xava_tab</em>. The default is <em>false</em>. Using in
          conjunction with <em>mode</em> you can discriminate the execution of
          this action for a concrete mode (list or detail) (<em>new in v3.0.2</em>).</li>
<li><strong>after-each-request</strong> (optional): <em>(New in v4.0.1)</em>
          If you set this property to <em>true</em>, then the action will be
          executed automatically after each request of the user, that is, on
          first module execution and before each user action execution. The
          default is <em>false</em>. Using in conjunction with <em>mode</em>
          you can discriminate the execution of this action for a concrete mode
          (list or detail).</li>
<li><strong>by-default</strong> (optional): Indicates the weight of this
          action on choosing the action to execute as the default one. The
          default action is executed when the user presses ENTER. The default is
          <em>almost-never</em> (until <em>v4m5</em> was <em>never</em>).</li>
<li><strong>takes-long</strong> (optional): If you set it to <em>true</em>,
          then you are indicating that this action takes long time in executing
          (minutes or hours). In the current implementation OpenXava shows a
          progress bar. The default is <em>false</em>.</li>
<li><strong>confirm</strong> (optional): If you set it to <em>true</em>,
          then before executing the action a dialog is shown to the user to ask
          if he is sure to execute it. The default is <em>false</em>.</li>
<li><strong>keystroke</strong> (optional): <em>(New in v2.0.1)</em>
          Defines a keystroke that the user can press for executing this action.
          The possible values are the same as for <em><a class="wiki_link_ext" href="http://java.sun.com/j2se/1.5.0/docs/api/javax/swing/KeyStroke.html" rel="nofollow">javax.swing.KeyStroke</a></em>. Examples: "control
          A", "alt x", "F7".</li>
<li><strong>show-dialog</strong> (optional): <em>(Only in v4m1,</em> <em><span style="color: #ff0000;">not available since v4m2</span></em><em>)</em>
          If <em>true</em> after the action execution the current user
          interface will be show inside a modal dialog. The default is <em>false</em>.</li>
<li><strong>hide-dialog</strong> (optional): <em>(Only in v4m1,</em> <em><span style="color: #ff0000;">not available since v4m2</span></em><em>)</em>
          If <em>true</em> then if currently there is a modal dialog shown then
          it will be hidden. The default value is <em>default</em>, it means
          that the dialog will be hidden only when the action name is "cancel"
          or it is the default action.</li>
<li><strong>in-each-row</strong> (optional): <em>(New in v4m4)</em> If
          <em>true</em> and this action is shown in list mode or in a collection
          the action will be shown in each row. The action must have an <em>int
            row</em> property (<em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/TabBaseAction.html" rel="nofollow">TabBaseAction</a></em> and <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/CollectionBaseAction.html" rel="nofollow">CollectionBaseAction</a></em> already have the <em>row</em>
          property). The default is <em>false</em>.</li>
<li><strong>process-selected-items</strong> (optional): <em>(New in
            v5.7)</em> If <em>true</em> this action processes the selected rows
          in the list. In this way OpenXava can hide this action if selecting
          items is not available. The default is <em>false</em>.</li>
<li><strong>available-on-new</strong> (optional): <em>(New in v5.8)</em>
          If <em>false</em> this action is not available when the user is
          creating a new entity (when he clicks on <em>New</em>). The default
          is <em>true</em>.</li>
<li><strong>loses-changed-data </strong>(optional): <em>(New in v6.3)</em>
          If <em>true</em> it means that when executed all the data changed by
          the user in the view since the last saving will be lost. This can be
          used by OpenXava in order to ask for confirmation before executing the
          action The default is <em>false</em>.</li>
<li><strong>set</strong> (several, optional): Sets a value of action
          properties. Thus the same action class can be configured in different
          ways and it can be used in several controllers.</li>
<li><strong>use-object</strong> (several, optional): Assigns a session
          object to an action property just before executing the action. After
          the execution the property value is put back into the context again
          (update the session object, thus you can update even immutable
          objects).</li>
</ol>
      Actions are short life objects, when a user clicks a button, then the
      action object is created, configured (with set, <em><a class="wiki_link" href="controllers_en.html#toc6">use-object</a></em> or <em><a class="wiki_link" href="controllers_en.html#toc5">@Inject</a></em>) and executed. After
      that the session objects are updated, and finally the action object is
      discarded.<br/>
      A plain controller might look like this:<br/>
<pre><code class="language-xml">&lt;controller name="Remarks"&gt;
    &lt;action name="hideRemarks"
        class="org.openxava.test.actions.HideShowPropertyAction"&gt;
        &lt;set property="property" value="remarks" /&gt;
        &lt;set property="hide" value="true" /&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since v4m2 --&gt;
    &lt;/action&gt;
    &lt;action name="showRemarks" mode="detail"
        class="org.openxava.test.actions.HideShowPropertyAction"&gt;
        &lt;set property="property" value="remarks" /&gt;
        &lt;set property="hide" value="false" /&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since v4m2 --&gt;
    &lt;/action&gt;
    &lt;action name="setRemarks" mode="detail"
        class="org.openxava.test.actions.SetPropertyValueAction"&gt;
        &lt;set property="property" value="remarks" /&gt;
        &lt;set property="value" value="Hell in your eyes" /&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since v4m2 --&gt;
    &lt;/action&gt;
&lt;/controller&gt;</code></pre>
      Now you can include this controller in the module that you want; this is
      done by editing in <em>application.xml</em>, in <i>src/main/resources/xava</i>
      folder of your project (in <i>xava</i> folder with v6 or older) , the
      module in which you can use these actions:<br/>
<pre><code class="language-xml">&lt;module name="Deliveries"&gt;
    &lt;model name="Delivery"/&gt;
    &lt;controller name="Typical"/&gt;
    &lt;controller name="Remarks"/&gt;
&lt;/module&gt;</code></pre>
      Thus you have in your module the actions of <em>Typical</em> (CRUD and
      printing) plus those defined by you in the controller named <em>Remarks</em>.
      The top button bar of the module will have this aspect:<br/>
<img alt="controllers_en010.jpg" src="files/controllers_en010.jpg" title="controllers_en010.jpg"/><br/>
      And the bottom button bar:<br/>
<img alt="controllers_en020.jpg" src="files/controllers_en020.jpg" title="controllers_en020.jpg"/><br/>
      Note that actions <strong>with</strong> image/icon are located at the top
      of the page, and actions <strong>without</strong> image/icon are located
      at the bottom of the page.<br/>
      You can write the code for <em>hideRemarks</em> like this:<br/>
<pre><code class="language-java">package org.openxava.test.actions;
 
import org.openxava.actions.*;
 
/**
 * @author Javier Paniza
 */
 
public class HideShowPropertyAction extends ViewBaseAction {    // 1
 
    private boolean hide;
    private String property;
 
    public void execute() throws Exception {                    // 2
        getView().setHidden(property, hide);                    // 3
    }
 
    public boolean isHide() {
        return hide;
    }
 
    public void setHide(boolean b) {
        hide = b;
    }
 
    public String getProperty() {
        return property;
    }
 
    public void setProperty(String string) {
        property = string;
    }
 
}</code></pre>
      An action must implement <em>IAction</em>, but usually it extends from a
      base class that implements this interface. The base action more basic is <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> that implements most of the method
      of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAction.html" rel="nofollow">IAction</a></em> except <em>execute()</em>. In this
      case you use <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ViewBaseAction.html" rel="nofollow">ViewBaseAction</a></em> as the base class. <em>ViewBaseAction</em>
      has the property <em>view</em> of type <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">View</a></em>. This, joined to the next declaration in
      action...<br/>
<pre><code class="language-xml">&lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since v4m2 --&gt;</code></pre>
      ...allows you to manage the view (the user interface) from an action using
      view.<br/>
      The <em>&lt;use-object /&gt;</em> gets the session object <em>xava_view</em>
      and assigns it to the property <em>view</em> (removing the prefix <em>xava_</em>,
      in general removes the prefix <em>myapplication_</em> before assigning
      object to property) of your action just before calling <em>execute()</em>.
      Though since v4m2 is not needed to use <em>&lt;use-object /&gt;</em> to
      inject <em>xava_view</em> because <em>ViewBaseAction</em> already inject
      it using <em><a class="wiki_link" href="controllers_en.html#toc5">@Inject</a></em>.<br/>
      Now inside the <em>execute()</em> method you can use <em>getView()</em>
      as you want (3), in this case for hiding a property. You can see all View
      possibilities in the JavaDoc of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">org.openxava.view.View</a></em>.<br/>
      With...<br/>
<pre><code class="language-xml">&lt;set property="property" value="remarks" /&gt;
&lt;set property="hide" value="true" /&gt;</code></pre>
      you can set constant values to the properties of your action.<br/>
<h2 id="toc4"><a name="Controllers-Subcontroller (new in v4.8)"></a>Subcontroller
        <em>(new in v4.8)</em></h2>
      With the subcontroller we can grouping several actions and show them in a
      drop-down button.<br/>
      Here is its syntax:<br/>
<pre><code class="language-xml">&lt;subcontroller
    controller="controllerName"       &lt;!-- 1 --&gt;
    image="image"                     &lt;!-- 2 --&gt;
    icon="icon"                       &lt;!-- 3  New in v5.4 --&gt;
    mode="detail|list|ALL" /&gt;         &lt;!-- 4 --&gt;</code></pre>
<ol>
<li><span style="background-color: #ffffff; color: #505050; font-size: 16px;"><strong>controller:</strong>
            (required) Controller's name that we reference</span></li>
<li><span style="background-color: #ffffff; color: #505050; font-size: 16px;"><strong>image:</strong>
            (optional) URL of the image associated with this subcontroller</span></li>
<li><span style="background-color: #ffffff; color: #505050; font-size: 16px;"><strong>icon:</strong>
</span>(optional): <em>(New in v5.4)</em> Icon id from <a class="wiki_link_ext" href="https://pictogrammers.com/library/mdi/" rel="nofollow">Material
            Design Icons</a>. For example, if you write <em>icon="bell"</em> a
          bell will be used as icon for you subcontroller and you don't need to
          include any image. Since v5.4 this is the preferred way to define an
          icon instead of <em>image</em>.</li>
<li><span style="background-color: #ffffff; color: #505050; font-size: 16px;"><strong>mode:</strong>
            (optional) The default value is ALL. Indicates in which mode the
            action has to be visible. </span></li>
</ol>
<span style="line-height: 1.5;">In your </span><em><span style="line-height: 1.5;">controllers.xml</span></em><span style="line-height: 1.5;"> you can put:</span><br/>
<pre><code class="language-xml">&lt;controllers&gt;
    &lt;controller name="Color"&gt;
        &lt;action name="seeMessage"
                class="org.openxava.test.actions.SeeMessageAction"/&gt;
        &lt;subcontroller
                controller="ColorSub" &lt;!-- 1 --&gt;
                icon="menu"/&gt;
    &lt;/controller&gt;
&lt;/controllers&gt;</code></pre>
<span style="line-height: 1.5;">You obtain this:</span><br/>
<img alt="subcontroller.GIF" src="files/subcontroller.GIF" title="subcontroller.GIF"/><br/>
<br/>
      You can put the controller name in i18n files.<br/>
<h2 id="toc5"><a name="Controllers-Dependency injection"></a>Dependency
        injection</h2>
      Using <a class="wiki_link_ext" href="http://en.wikipedia.org/wiki/Dependency_injection" rel="nofollow">Dependency injection</a> the value of a field or property
      is set by the framework, not by the developer.<br/>
<h3 id="toc6"><a name="Controllers-Dependency injection-@Inject (JSR-330) (new in v4m2)"></a>@Inject
        (JSR-330) <em>(new in v4m2)</em></h3>
      Since v4m2 OpenXava supports <a class="wiki_link_ext" href="http://jcp.org/en/jsr/detail?id=330" rel="nofollow">JSR-330</a>, the Java standard for dependency injection.
      In order to inject a session object in an action you only have to annotate
      a field with <em><a class="wiki_link_ext" href="http://java.sun.com/javaee/6/docs/api/javax/inject/Inject.html" rel="nofollow">@javax.inject.Inject</a></em> . Thas is, if you have a
      session object and an action in your <em>controllers.xml</em> as
      following:<br/>
<pre><code class="language-xml">&lt;controllers&gt;
    &lt;object name="xavatest_activeYear" class="java.lang.Integer" value="2010" scope="global"/&gt;
 
    &lt;controller name="ActiveYear"&gt;
        &lt;action name="change"
                   class="org.openxava.test.actions.ChangeActiveYearAction"/&gt;
    &lt;/controller&gt;
&lt;/controllers&gt;
 </code></pre>
      In order to inject the <em>xavatest_activeYear</em> object into <em>ChangeActionYearAction</em>
      you have to use <em>@Inject</em>, in this way:<br/>
<pre><code class="language-java">public class ChangeActiveYearAction extends ViewBaseAction {
 
    @Inject
    private int activeYear; // Getter and setter are not needed
 
    public void execute() throws Exception {
         assert activeYear == 2010; // The value from session object
         activeYear = 2012; // It changes the value of session object
    }
 
}</code></pre>
      Thus the <em>xavatest_activeYear</em> object is injected in the <em>activeYear</em>
      field before call to <em>execute()</em>; and after <em>execute()</em>
      execution the value of the <em>activeYear</em> field is assigned back to
      <em>xavatest_actionYear</em>. So, you can change session objects state
      from inside an action, even with immutable and primitive types.<br/>
      As you see, the default name of the session object to inject is the name
      of the attribute ignoring the prefix (ignoring <em>xavatest_</em> in this
      case). Although you can use <em><a class="wiki_link_ext" href="http://java.sun.com/javaee/6/docs/api/javax/inject/Named.html" rel="nofollow">@Named</a></em> (also JSR-330 standard) to specify a
      different name for session object and field:<br/>
<pre><code class="language-java">public class ChangeActiveYearAction extends ViewBaseAction {
 
    @Inject @Named("xavatest_activeYear")
    private int year; // getter and setter are not needed
 
    public void execute() throws Exception {
        assert year == 2010; // The value from xavatest_actionYear session object
        year = 2012; // It changes the value of xavatest_actionYear
    }
 
}</code></pre>
      In this way the <em>xavatest_activeYear</em> session object is injected
      into the <em>year</em> field of the action.<br/>
<h3 id="toc7"><a name="Controllers-Dependency injection-Using  for dependency injection"></a>Using
        &lt;use-object /&gt; for dependency injection</h3>
      Dependency injection has been in OpenXava since its very beginning. The
      traditional way to inject session objects in an action is by means of <em>&lt;use-object
        /&gt;</em> in <em>&lt;action/&gt;</em> declaration. If you are using a
      version previous to v4m2, you must write the above example in using <em>&lt;use-object/&gt;</em>
      in <em>controllers.xml</em>:<br/>
<pre><code class="language-xml">&lt;controllers&gt;
    &lt;object name="xavatest_activeYear" class="java.lang.Integer" value="2010" scope="global"/&gt;
 
    &lt;controller name="ActiveYear"&gt;
        &lt;action name="change"
                   class="org.openxava.test.actions.ChangeActiveYearAction"&gt;
        &lt;use-object name="xavatest_activeYear"/&gt;
        &lt;/action&gt;
    &lt;/controller&gt;
&lt;/controllers&gt;</code></pre>
      And writing your class without <em>@Inject</em>, and using getter and
      setter:<br/>
<pre><code class="language-java">public class ChangeActiveYearAction extends ViewBaseAction {
 
    private int activeYear; // No @Inject, we are using &lt;use-object/&gt;
 
    public void execute() throws Exception {
         assert activeYear == 2010; // The value from session object
         activeYear = 2012; // It changes the value of session object
    }
 
    public void setActiveYear(int activeYear) {  // Setter and...
         this.activeYear = activeYear;
    }
 
    public int getActiveYear() { // getter are needed
         return activeYear;
    }
 
}</code></pre>
      You can use <em>action-property</em> attribute to specify a different
      name for session object and field:<br/>
<pre><code class="language-xml">&lt;action name="change"
   class="org.openxava.test.actions.ChangeActiveYearAction"&gt;
      &lt;use-object name="xavatest_activeYear" action-property="year"/&gt;
&lt;/action&gt;</code></pre>
      And then you have to write the action in this way:<br/>
<pre><code class="language-java">public class ChangeActiveYearAction extends ViewBaseAction {
 
    private int year; // No @Inject, we are using &lt;use-object/&gt;
 
    public void execute() throws Exception {
        assert year == 2010; // The value from xavatest_actionYear session object
        year = 2012; // It changes the value of xavatest_actionYear
    }
 
    public void setYear(int year) {  // Setter and...
         this.year = year;
    }
 
    public int getYear() { // getter are needed
         return year;
    }
 
}</code></pre>
      You see how <em>action-property</em> is the counterpart of <em>@Name</em>
      of JSR-330.<br/>
<br/>
<br/>
      You can use both <em>&lt;use-object/&gt;</em> and <em>@Inject</em> for
      dependency injection, but given that JSR-330 is the Java standard it's the
      favorite one.<br/>
<em>(New in v4.7)</em> If the session object to be injected has a property
      named <em>request</em>, this property is populated with the current <em>HttpServletRequest</em>
      before injecting the object in the action. It works in this way for
      objects injected using <em>&lt;use-object/&gt;</em> or <em>@Inject</em>.<br/>
<h2 id="toc8"><a name="Controllers-Controllers inheritance"></a>Controllers
        inheritance</h2>
      You can create a controller that inherits all actions from one or more
      controllers. An example of this is the generic controller called <i>Typical</i>,
      this controller is in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-controllers.xml"><em>openxava/src/main/resources/xava/default-controllers.xml</em></a> 
      (in <em>OpenXava/xava/default-controllers.xml</em> for v6 or older):<br/>
<pre><code class="language-xml">&lt;controller name="Typical"&gt;
    &lt;extends controller="Print"/&gt;
    &lt;extends controller="CRUD"/&gt;
&lt;/controller&gt;</code></pre>
      When you assign the controller <em>Typical</em> to a module this module
      will have available all actions of <em>Print</em> controller (to generate
      PDF reports and export to Excel) and <em>CRUD</em> controller (to Create,
      Read, Update and Delete)<br/>
      You can use inheritance to refine the way a standard controller works, e.
      g. like this:<br/>
<pre><code class="language-xml">&lt;controller name="Family"&gt;
    &lt;extends controller="Typical" excluded-actions="refresh, delete"/&gt;
    &lt;action name="new" icon="library-plus"
        class="org.openxava.test.actions.CreateNewFamilyAction"&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since v4m2 --&gt;
    &lt;/action&gt;
&lt;/controller&gt;</code></pre>
      As you see the name of your action <em>new</em> matches with an action in
      <em>Typical</em> controller (in reality in <em>CRUD</em> controller from
      which extends <em>Typical</em>). In this case the original action is
      ignored and your action is used. Thus you can put your own logic to
      execute when a final user clicks the 'new' link. Also you can prevent that
      certain actions would be inherited using the <em>excluded-action</em>
      attribute <em>(new in v5.8)</em>, in this case <em>Family</em> will not
      include <em>refresh</em> and <em>delete</em>, normally available from <em>CRUD</em>
      via <em>Typical</em>.<br/>
<h2 id="toc9"><a name="Controllers-List mode actions"></a>List mode
        actions</h2>
      You can write actions that apply to several objects. These actions are
      usually shown in list mode only and normally have effects on the objects
      chosen by user only.<br/>
      An example can be:<br/>
<pre><code class="language-xml">&lt;action name="deleteSelected" mode="list"                    &lt;!-- 1 --&gt;
    confirm="true"                                           &lt;!-- 2 --&gt;
    class="org.openxava.actions.DeleteSelectedAction"&gt;
&lt;/action&gt;</code></pre>
      You set <em>mode=”list”</em> in order to show it only in list mode (1).
      Since this action deletes records you require that the user must confirm
      explicitly before the action is executed (2). It's not needed to include a
      <em>&lt;use-object/&gt;</em> for <em>xava_tab</em> <em>(new in v2.1.4)</em>.<br/>
      The action source code:<br/>
<pre><code class="language-java">package org.openxava.actions;
 
import java.util.*;
 
import org.openxava.model.*;
import org.openxava.validators.*;
 
/**
* @author Javier Paniza
*/
 
public class DeleteSelectedAction extends TabBaseAction implements IModelAction {     // 1
    private String model;
 
    public void execute() throws Exception {
        // int [] selectedOnes = getTab().getSelected();                              // 2
        // int [] selectedOnes = getSelected();  // New in v4m4. Deprecated in v4.7   // 2
        Map [] selectedOnes = getSelectedKeys(); // New in 4.7                        // 2
        if (selectedOnes != null) {
            for (int i = 0; i &lt; selectedOnes.length; i++) {
                Map key = selectedOnes[i];
                try {
                    MapFacade.remove(model, key);                                     // 3
                }
                catch (ValidationException ex) {
                    addError("no_delete_row", new Integer(i), key);                   // 4
                    addErrors(ex.getErrors());
                }
                catch (Exception ex) {
                    addError("no_delete_row", new Integer(i), key);
                }
            }
            getTab().deselectAll();                                                  // 5
            resetDescriptionsCache();                                                // 6
        }
    }
 
    public void setModel(String modelName) {                                         // 7
        this.model = modelName;
    }
}</code></pre>
      This action is a standard action of OpenXava, but it allows you to see the
      things that you can do within an action in list mode. You can observe (1)
      how the action extends from <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/TabBaseAction.html" rel="nofollow">TabBaseAction</a></em> and implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IModelAction.html" rel="nofollow">IModelAction</a></em>. Since it extends from <em>TabBaseAction</em>
<em>(new in v2.1.4)</em> it has a group of utilities and you don't need to
      implement all methods of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAction.html" rel="nofollow">IAction</a></em>; and as it implements <em>IModelAction</em>
      this action has a method called <em>setModel()</em> (7) that receives the
      model name (the name of OpenXava component) before executing it.<br/>
      You can access to the <em>Tab</em> using the <em>getTab()</em> method
      (2); this method is implemented in <em>TabBaseAction</em> and it allows
      you to access to the <em>xava_tab</em> session object. By means of <em>getTab()</em>
      you are allowed to manage the list of displayed objects. For example, with
      <em>getTab().getSelected()</em> (2) you obtain the indexes of selected
      rows, though since v4m4 is better to use <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/TabBaseAction.html#getSelected%28%29" rel="nofollow">getSelected()</a></em> instead which is a method from <em>TabBaseAction.</em>
      Since v4.7 <em>getSelected()</em> is <strong>deprecated</strong> instead
      we use <em>getSelectedKeys()</em> that returns the keys map. With <em>getTab().getTableModel()</em>
      a table model to access to data, and with <em>getTab().deselectAll()</em>
      you deselect the rows. You can take a look of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/tab/Tab.html" rel="nofollow">org.openxava.tab.Tab</a></em> JavaDoc for more details
      on its possibilities.<br/>
      Something very interesting you can see in this example is the use of <em>MapFacade</em>
      (3). <em>MapFacade</em> allows you to access the data model using Java
      maps (<em><a class="wiki_link_ext" href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html" rel="nofollow">java.util.Map</a></em>). This is useful, if you get
      data from <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/tab/Tab.html" rel="nofollow">Tab</a></em> or <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">View</a></em> in <em>Map</em> format and you want to
      update the model (and therefore the database) with it, or vice versa. All
      generic classes of OpenXava use <em>MapFacade</em> to manage the model
      and you also can use <em>MapFacade</em>. As general design tip: working
      with maps is useful in the case of generic logic, but if you need to
      program specific things it is better to use directly the object of model
      layer. For more details have a look at the JavaDoc of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/model/MapFacade.html" rel="nofollow">org.openxava.model.MapFacade</a></em>.<br/>
      You see here how to display messages to the user with <em>addError()</em>.
      The <em>addError()</em> method receives the id of an entry in your i18n
      files and the argument to send to the message. The added messages are
      displayed to the user as errors. If you want to add warning or informative
      messages you can use <em>addMessage(), addInfo() (new in v4.3) or
        addWarning() (new in v4.3)</em> whose behavior is like <em>addError()</em>.
      The i18n files that hold errors and messages must be called <em>MyProject-messages.properties</em>
      and the language sufix (_en, _ca, _es, _it, etc). You can see the examples
      in <a href="https://github.com/openxava/openxava/tree/master/openxavatest/src/main/resources/i18n"><i>openxavatest/src/main/resources/i18n</i></a>
      (in <em>OpenXavaTest/i18n</em> for v6 or older). All not caught
      exceptions produces a generic error messages, except if the not caught
      exception is of the type <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/validators/ValidationException.html" rel="nofollow">ValidationException</a></em>. In this case the message
      exception is displayed.<br/>
      The <em>resetDescriptionsCache()</em> (6) method deletes all cache
      entries used by OpenXava to display descriptions list (combos). It's a
      good idea to call it whenever data is updated.<br/>
      You can see more possibilities in <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">org.openxava.actions.BaseAction</a></em> and <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/TabBaseAction.html" rel="nofollow">org.openxava.actions.TabBaseAction</a></em> JavaDoc.<br/>
      Since v2.1.4 this type of actions <a class="wiki_link" href="view_en.html#toc22">can
        also be used as @ListAction</a> for <i>@OneToMany</i> and <i>@Condition</i>
      collections, but not for calculated collections, <i>@ManyToMany</i> or <i>@OrderColumn</i>
      lists.<br/>
<h2 id="toc10"><a name="Controllers-Optional actions"></a>Optional actions <i>(new in v5.9)</i></h2>
      You can create actions that are available or hidden based on a programmatic condition. 
      These actions implement the <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAvailableAction.html" rel="nofollow">IAvailableAction</a></em> interface, which defines a method 
      <em>isAvailable()</em> that returns a boolean indicating if the action should be displayed 
      or not.<br/>
      The <em>IAvailableAction</em> interface can be implemented by any type of action (detail, list, collection, etc.).
      When OpenXava is about to display an action, it checks if the action implements <em>IAvailableAction</em>
      and if so, it calls the <em>isAvailable()</em> method. If the method returns <em>false</em>, the action
      is not displayed.<br/>
      Let's see an example of a list action that is only available for specific rows depending on their content. In this case, the action will only be displayed for rows where the carrier's name is not already in uppercase:<br/>
<pre><code class="language-java">package org.openxava.test.actions;

import java.util.*;

import org.apache.commons.logging.*;
import org.openxava.actions.*;
import org.openxava.model.*;
import org.openxava.test.model.*;

/**
 * Action to convert the selected items in a list to uppercase.
 * @author Javier Paniza
 */
public class CarrierToUpperCaseAction extends TabBaseAction implements IAvailableAction {   // 1

	private static Log log = LogFactory.getLog(CarrierToUpperCaseAction.class);

	@Override
	@SuppressWarnings("unchecked")
	public void execute() throws Exception {
		Map<string, object="">[] selectedOnes = getSelectedKeys();
		for (int i = 0; i &lt; selectedOnes.length; i++) {
			Carrier carrier = (Carrier) MapFacade.findEntity("Carrier", selectedOnes[i]);
			carrier.setName(carrier.getName().toUpperCase());
		}
	}

	@Override
	@SuppressWarnings("unchecked")
	public boolean isAvailable() {                                                         // 2
		try {
			if (getRow() &lt; 0) return false;                                                // 3
			Map<string, object=""> key = getSelectedKeys()[0];
			Carrier carrier = (Carrier) MapFacade.findEntity("Carrier", key);
			return !carrier.getName().equals(carrier.getName().toUpperCase());             // 4
		}
		catch (Exception ex) {
			log.error("Error checking if CarrierToUpperCaseAction is available", ex);
			return false;
		}
	}
}</string,></string,></code></pre>
      This action converts to uppercase the names of the selected carriers. The action extends from <em>TabBaseAction</em> 
      and implements <em>IAvailableAction</em> (1), which forces it to implement the <em>isAvailable()</em> method (2). 
      The <em>isAvailable()</em> method first checks if there is a selected row (3), and then verifies if the carrier's 
      name is not already in uppercase (4). The action will only be displayed for rows that meet these conditions.<br/>
      Note that from the <em>isAvailable()</em> method you have access to the same resources as from the <em>execute()</em> method, such as <em>getRow()</em> or <em>getSelectedKeys()</em>, which allows you to implement complex logic to determine when an action should be available.
      <h2 id="toc11"><a name="Controllers-Overwriting default search"></a>Overwriting
        default search</h2>
      When a module is shown in list mode and the user clicks to display a
      detail, then OpenXava searches the corresponding object and displays it in
      detail. Now, if in detail mode the user fills the key fields and clicks on
      search (the binoculars), it also does the same. And when the user
      navigates by the records clicking the next or previous buttons then it
      does the same search. How can you customize this search? Let's see that:<br/>
      You only need to define the module in <em>src/main/resources/xava/application.xml</em>
      (just in <i>xava</i> folder for v6 or older) this way:<br/>
<pre><code class="language-xml">&lt;module name="Deliveries"&gt;
    &lt;env-var name="XAVA_SEARCH_ACTION" value="Deliveries.search"/&gt;
    &lt;model name="Delivery"/&gt;
    &lt;controller name="Typical"/&gt;
    &lt;controller name="Remarks"/&gt;
    &lt;controller name="Deliveries"/&gt;
&lt;/module&gt;</code></pre>
      You see how it is necessary to define an environment variable named
      XAVA_SEARCH_ACTION that contains the action that you want to use for
      searching. This action is defined in <em>controllers.xml</em>:<br/>
<pre><code class="language-xml">&lt;controller name="Deliveries"&gt;
    &lt;action name="search" mode="detail"
        by-default="if-possible" hidden="true"
        class="org.openxava.test.actions.SearchDeliveryAction"
        keystroke="F8"&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since v4m2 --&gt;
    &lt;/action&gt;
    ...
&lt;/controller&gt;</code></pre>
      And its code:<br/>
<pre><code class="language-java">package org.openxava.test.actions;
 
import java.util.*;
 
import org.openxava.actions.*;
import org.openxava.util.*;
 
/**
 * @author Javier Paniza
 */
 
public class SearchDeliveryAction extends SearchByViewKeyAction {      // 1
 
    public void execute() throws Exception {
        super.execute();                                               // 2
        if (!Is.emptyString(getView().getValueString("employee"))) {
            getView().setValue("deliveredBy", new Integer(1));
            getView().setHidden("carrier", true);
            getView().setHidden("employee", false);
        }
        else {
            Map carrier = (Map) getView().getValue("carrier");
            if (!(carrier == null || carrier.isEmpty())) {
                getView().setValue("deliveredBy", new Integer(2));
                getView().setHidden("carrier", false);
                getView().setHidden("employee", true);
            }
            else {
                getView().setHidden("carrier", true);
                getView().setHidden("employee", true);
            }
        }
    }
 
}</code></pre>
      In this action you have to search the database (or through EJB2, EJB3 JPA
      or Hibernate) and fill the view. Most times it is better that it extends <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/SearchByViewKeyAction.html" rel="nofollow">SearchByViewKeyAction</a></em> (1) and within <em>execute()</em>
      write a <em>super.execute()</em> (2).<br/>
      OpenXava comes with 3 predefined search actions:<br/>
<ul>
<li><strong>CRUD.searchByViewKey</strong>: This is the default one. It
          does a search using the key values in the view, it executes no event.</li>
<li><strong>CRUD.searchExecutingOnChange</strong>: Works as <em>searchByViewKey</em>
          but it executes the <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html" rel="nofollow">@OnChange</a>/on-change</em> actions after search
          data.</li>
<li><strong>CRUD.searchReadOnly</strong>: Works as <em>searchByViewKey</em>
          but it set the detail view to not editable state on searching. Useful
          for creating <a class="wiki_link" href="application_en.html#toc6">read
            only modules</a>.</li>
</ul>
      If you want that the <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/OnChange.html" rel="nofollow">@OnChange</a>/on-change</em> actions will be executed
      on search then you must define your module this way:<br/>
<pre><code class="language-xml">&lt;module name="Products3ChangeActionsOnSearch"&gt;
    &lt;env-var name="XAVA_SEARCH_ACTION" value="CRUD.searchExecutingOnChange"/&gt;
    &lt;model name="Product3"/&gt;
    &lt;view name="WithDescriptionsList"/&gt;
    &lt;controller name="Typical"/&gt;
    &lt;controller name="Products3"/&gt;
&lt;/module&gt;</code></pre>
      As you see, simply by setting the value of the XAVA_SEARCH_ACTION
      environment variable.<br/>
<h2 id="toc11"><a name="Controllers-Initialize a module with an action"></a>Initialize
        a module with an action</h2>
      By setting <em>on-init=”true”</em> when you define an action, you
      configure that this action will be executed automatically when the module
      is executed for the first time. This is a chance to initialize the module.
      Let's see an example. In your <em>controllers.xml</em> you write:<br/>
<pre><code class="language-xml">&lt;controller name="Invoices2002"&gt;
    &lt;action name="init" on-init="true" hidden="true"
        class="org.openxava.test.actions.InitDefaultYearTo2002Action"&gt;
        &lt;!-- &lt;use-object name="xavatest_defaultYear"/&gt;
           Since v4m2 you can use @Inject instead --&gt;
        &lt;!-- &lt;use-object name="xava_tab"/&gt;
           Since v4m2 you can use @Inject instead --&gt;
    &lt;/action&gt;
    ...
&lt;/controller&gt;</code></pre>
      And in your action:<br/>
<pre><code class="language-java">package org.openxava.test.actions;
 
import javax.inject.*;
import org.openxava.actions.*;
import org.openxava.tab.*;
 
/**
 * @author Javier Paniza
 */
 
public class InitDefaultYearTo2002Action extends BaseAction {
 
    @Inject  // Since 4m2, if you do not use &lt;use-object /&gt;
    private int defaultYear;
 
    @Inject  // Since 4m2, if you do not use &lt;use-object /&gt;
    private Tab tab;
 
    public void execute() throws Exception {
        setDefaultYear(2002);                     // 1
        tab.setTitleVisible(true);                // 2
        tab.setTitleArgument(new Integer(2002));  // 3
    }
 
    public int getDefaultYear() {
        return defaultYear;
    }
 
    public void setDefaultYear(int i) {
        defaultYear = i;
    }
 
    public Tab getTab() {
        return tab;
    }
 
    public void setTab(Tab tab) {
        this.tab = tab;
    }
 
}</code></pre>
      In this action you set the default year to 2002 (1), you make the title
      list visible (2) and you assign a value as an argument to that title (3).
      The list title is defined in the i18n files, usually it's used for
      reports, but you can show it in list mode too.<br/>
<h2 id="toc12"><a name="Controllers-Calling another module"></a>Calling
        another module</h2>
      Sometimes it's convenient to call programmatically one module from another
      one. For example, imagine that you want to show a list of customers and
      when the user clicks on one customer, then a list of its invoices is
      displayed and the user can choose an invoice to edit. One way to obtain
      this effect is to have a module with only list mode and when the user
      clicks on a detail, the user is directed to an invoices module that shows
      only the invoices of the chosen customer. Let's see it. First you need to
      define the module in <em>application.xml</em> this way:<br/>
<pre><code class="language-xml">&lt;module name="InvoicesFromCustomers"&gt;
    &lt;env-var name="XAVA_LIST_ACTION" value="Invoices.listOfCustomer"/&gt;  &lt;!-- 1 --&gt;
    &lt;model name="Customer"/&gt;
    &lt;controller name="Print"/&gt;
    &lt;controller name="ListOnly"/&gt;                                       &lt;!-- 2  Not needed since v6.0 --&gt;
    &lt;mode-controller name="Void"/&gt;                                      &lt;!-- 3  Not needed since v6.0 --&gt;
&lt;/module&gt;</code></pre>
      In this module only the list is shown (without detail part), for this you
      set the mode controller to <em>Void</em> (3) thus 'detail' and 'list'
      links are not displayed; and also you add a controller called <em>ListOnly</em>
      (2) in order to show the list mode, and only the list mode (if you only
      set the mode controller to Void the detail, and only the detail is
      displayed). Since v6.0 is not needed to use <i>ListOnly</i> and <i>Void</i>
      because the mode buttons no longer exist, in any module. </div>
<div class="wiki" style="display: block;">Moreover you declare the variable
      XAVA_LIST_ACTION to define your custom action. When the user clicks the
      link in each row, then your own action will be executed. You must declare
      this action in <em>controllers.xml</em>:<br/>
<pre><code class="language-xml">&lt;controller name="Invoices"&gt;
    &lt;action name="listOfCustomer" hidden="true"
        class="org.openxava.test.actions.ListCustomerInvoicesAction"&gt;
        &lt;!-- &lt;use-object name="xava_tab"/&gt;
          Since v4m2 you can use @Inject instead --&gt;
    &lt;/action&gt;
    ...
&lt;/controller&gt;</code></pre>
      And the action code:<br/>
<pre><code class="language-java">package org.openxava.test.actions;
 
import java.util.*;
 
import org.openxava.actions.*;
import org.openxava.controller.*;
import org.openxava.tab.*;
 
/**
 * @author Javier Paniza
 */
public class ListCustomerInvoicesAction extends BaseAction
    implements IChangeModuleAction,                                           // 1
               IModuleContextAction {                                         // 2
 
    private int row;                                                          // 3
 
    @Inject  // Since v4m2, if you do not use &lt;use-object /&gt;
    private Tab tab;
    private ModuleContext context;
 
    public void execute() throws Exception {
        Map customerKey = (Map) tab.getTableModel().getObjectAt(row);         // 4
        int customerNumber = ((Integer) customerKey.get("number")).intValue();
        Tab invoiceTab = (Tab)
        context.get("OpenXavaTest", getNextModule(), "xava_tab");             // 5
        invoiceTab.setBaseCondition("${customer.number} = "+customerNumber);  // 6
    }
 
    public int getRow() {                                                     // 3
        return row;
    }
    public void setRow(int row) {                                             // 3
        this.row = row;
    }
 
    public Tab getTab() {
        return tab;
    }
    public void setTab(Tab tab) {
        this.tab = tab;
    }
 
    public String getNextModule() {                                           // 7
        return "CustomerInvoices";
    }
 
    public void setContext(ModuleContext context) {                           // 8
        this.context = context;
    }
 
    public boolean hasReinitNextModule() {                                    // 9
        return true;
    }
 
}</code></pre>
      In order to change to another module the action implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IChangeModuleAction.html" rel="nofollow">IChangeModuleAction</a></em> (1) thus forces the action
      to have a method called <em>getNextModule()</em> (7). This will indicate
      to which module OpenXava will switch after executing this action. The
      method <em>hasReinitNextModule()</em> (9) indicates, whether you want
      that the target module has re-initiated on changing to it.<br/>
      On the other hand this action implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IModuleContextAction.html" rel="nofollow">IModuleContextAction</a></em> (2) too and therefore it
      receives an object of type <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/controller/ModuleContext.html" rel="nofollow">ModuleContext</a></em> with the method <em>setContext()</em>
      (8). <em>ModuleContext</em> allows you to access the session objects of
      others modules. This is useful to configure the target module before
      changing to it.<br/>
      Since v4m1 <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> implements <em>IModuleContextAction</em>,
      so you only need to use <em>getContext()</em> from your <em>execute()</em>
      method:<br/>
<pre><code class="language-java">public class ListCustomerInvoicesAction extends BaseAction
    implements IChangeModuleAction,
//           IModuleContextAction { // Not needed since v4m1
 
...
// private ModuleContext context; // Not needed since v4m1
 
public void execute() throws Exception {
    ...
    Tab invoiceTab = (Tab)
    getContext().  // You can use getContext() from BaseAction
        get("OpenXavaTest", getNextModule(), "xava_tab");
    ...
}
...
// public void setContext(ModuleContext context) {  // Not needed since v4m1
//    this.context = context;
// }
...
}</code></pre>
      Another detail is that the action specified in XAVA_LIST_ACTION must have
      a property named <em>row</em> (3); before executing the action this
      property is filled with the row number that user has clicked.<br/>
      If you keep in mind the above details it is easy to understand the action:<br/>
<ul>
<li>Gets the key of the object associated to the clicked row (4), to do
          this it uses the tab of the current module.</li>
<li>Accesses to the tab of the target module using context (5).</li>
<li>Sets the base condition of the tab of target module using the key
          obtained from current tab.</li>
</ul>
<h2 id="toc13"><a name="Controllers-Showing a new view (new in v4m2)"></a>Showing
        a new view <em>(new in v4m2)</em></h2>
      As an alternative to change the module you can choose to show a new view.
      This is easy, you only need to use the APIs available from <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ViewBaseAction.html" rel="nofollow">View</a></em>. There are methods such as <em>showNewView()</em>,
      <em>showView()</em> and <em>returnToPreviousView()</em>. An example:<br/>
<pre><code class="language-java">public class ViewCustomerFromInvoiceAction extends ViewBaseAction {
 
    public void execute() throws Exception {
        try {
            Object number = getView().getValue("customer.number"); // 1
            Map key = new HashMap();
            key.put("number", number);
            showNewView();                                         // 2
            getView().setModelName("Customer");                    // 3
            getView().setValues(key);                              // 4
            getView().findObject();                                // 5
            getView().setKeyEditable(false);
            getView().setEditable(false);
            setControllers("Return");                              // 6
        }
        catch (ObjectNotFoundException ex) {
            getView().clear();
            addError("object_not_found");
        }
        catch (Exception ex) {
            ex.printStackTrace();
            addError("system_error");
        }
    }
 
}</code></pre>
      This is the code of an action that allows to visualize an object of
      another type. First you have to memorize the key of of the object to read
      (1). After this, you show a new view (2) by means of <em>showNewView()</em>.
      It creates a new view and set it as the default one, so it is displayed.
      After it any reference to <em>getView()</em> will be for the new one (3).
      Finally you fill the key values (4) and use <em>findObject()</em> (5) to
      load all data in the view. Also we use <em>setControllers()</em> (6) to
      set a new group of actions to show.<br/>
      When using <em>showNewView()</em> the current view is stored in a stack,
      and it would be back to the user interface calling to <em>returnToPreviousView()</em>
      method.<br/>
<h2 id="toc14"><a name="Controllers-Changing the model of current view"></a>Changing
        the model of current view</h2>
      If you work with an OX version older than v4m2 an alternative to show a
      new view is changing the model of the current view. This is easy, you only
      need to use the APIs available in <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">View</a></em>. An example:<br/>
<pre><code class="language-java">public void execute() throws Exception {
    try {
        setInvoiceValues(getView().getValues());               // 1
        Object number = getView().getValue("product.number");
        Map key = new HashMap();
        key.put("number", number);
        getView().setModelName("Product");                     // 2
        getView().setValues(key);                              // 3
        getView().findObject();                                // 4
        getView().setKeyEditable(false);
        getView().setEditable(false);
    }
    catch (ObjectNotFoundException ex) {
        getView().clear();
        addError("object_not_found");
    }
    catch (Exception ex) {
        ex.printStackTrace();
        addError("system_error");
    }
}</code></pre>
      This is an extract of an action that allows to visualize an object of
      another type. First you need to memorize the current displayed data (1),
      to restore it on returning. After this, you change the model of view (2),
      this is the important part. Finally you fill the key values (3) and use <em>findObject()</em>
      (4) to load all data in the view.<br/>
      When you use this technique you have to keep in mind that each module has
      only one <em>xava_view</em> object active at a time, thus if you wish to
      go back you have the responsibility of restoring the original model in the
      view and restoring the original data.<br/>
<h2 id="toc15"><a name="Controllers-Go to a JSP page"></a>Go to a JSP page</h2>
      The automatic view generator of OpenXava is good for most cases, but it
      can be required to display a JSP page hand-written by you. You can do this
      with an action like this:<br/>
<pre><code class="language-java">package org.openxava.test.actions;
 
import org.openxava.actions.*;
 
/**
 * @author Javier Paniza
 */
public class MySearchAction extends BaseAction implements INavigationAction {  // 1
 
    public void execute() throws Exception {
    }
 
    public String[] getNextControllers() {                                     // 2
        return new String [] { "MyReference" } ;
    }
 
    public String getCustomView() {                                            // 3
        return "doYouWishSearch.jsp";
    }
 
    public void setKeyProperty(String s) {
    }
 
}</code></pre>
      In order to go to a custom view (in this case a JSP page) your action has
      to implement <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/INavigationAction.html" rel="nofollow">INavigationAction</a></em> (<em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ICustomViewAction.html" rel="nofollow">ICustomViewAction</a></em> is enough). This way you can
      indicate with <em>getNextControllers()</em> (2) the next controllers to
      use and with <em>getCustomView()</em> (3) the JSP page to display (3).<br/>
<h2 id="toc16"><a name="Controllers-Generating a custom report with JasperReports"></a>Generating
        a custom report with JasperReports</h2>
      By default, OpenXava includes actions that allow end-users to generate PDF
      reports and export to Excel, as well as generate their own reports from
      the list model by filtering, ordering, adding/removing fields, changing
      the positions of the fields and then generating a PDF report from the
      list.<br/>
      Note that these actions are executed in a browser pop-up. If your browser
      is configured to block pop-ups, you must add the hostname of your OpenXava
      instance to your browser's list of pop-up exceptions (usually 'localhost'
      or '127.0.0.1'), otherwise the actions will not execute.<br/>
      These actions are sufficient for simple reporting requirements, but in all
      non-trivial business applications you need to create your own customised
      reports using JasperReports and then integrating the reports into your
      OpenXava application using <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/JasperReportBaseAction.html" rel="nofollow">JasperReportBaseAction</a></em>.<br/>
      You can use iReport Designer, an excellent report development tool for
      JasperReports, to create the JRXML file that contains the definition of
      the report layout, then write your action to print the report like this:<br/>
<pre><code class="language-java">package org.openxava.test.actions;
 
import java.util.*;
 
import net.sf.jasperreports.engine.*;
import net.sf.jasperreports.engine.data.*;
 
import org.openxava.actions.*;
import org.openxava.model.*;
import org.openxava.test.model.*;
import org.openxava.util.*;
import org.openxava.validators.*;
 
/**
 * Report of products of the selected subfamily. &lt;p&gt;
 *
 * Uses JasperReports. &lt;br&gt;
 *
 * @author Javier Paniza
 */
public class FamilyProductsReportAction extends JasperReportBaseAction {           // 1
 
    private Subfamily subfamily;
 
    public Map getParameters() throws Exception  {                                 // 2
        Messages errors =
            MapFacade.validate("FilterBySubfamily", getView().getValues());
        if (errors.contains()) throw new ValidationException(errors);              // 3
        Map parameters = new HashMap();
        parameters.put("family", getSubfamily().getFamily().getDescription());
        parameters.put("subfamily", getSubfamily().getDescription());
        return parameters;
    }
 
    protected JRDataSource getDataSource() throws Exception {                      // 4
        return new JRBeanCollectionDataSource(getSubfamily().getProductsValues());
    }
 
    protected String getJRXML() {                                                  // 5
        return "Products.jrxml"; // To read from classpath
        // return "/home/javi/Products.jrxml"; // To read from file system
    }
 
    private Subfamily getSubfamily() throws Exception {
        if (subfamily == null) {
            int subfamilyNumber = getView().getValueInt("subfamily.number");
            subfamily = XPersistence.getManager().find(
                Subfamily.class, subfamilyNumber);
        }
        return subfamily;
    }
 
}</code></pre>
      Your action has to extend <em>JasperReportBaseAction</em> (1) and it has
      to overwrite the next three method:<br/>
<ul>
<li><strong>getParameters()</strong> (2): A <em>Map</em> with the
          parameters to send to the report, in this case we validate the input
          data (using <em>MapFacade.validate()</em>) before (3).</li>
<li><strong>getDataSource()</strong> (4): A <em><a class="wiki_link_ext" href="http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JRDataSource.html" rel="nofollow">JRDataSource</a></em> with data to print. In this
          case it is a collection of JavaBeans obtained calling a method of the
          model object. If you use EJB CMP2 Entities be careful and do not loop
          over an EJB2 Entity collection inside this method, as in this case is
          better only one EJB call to obtain all data.</li>
<li><strong>getJRXML()</strong> (5): The XML with the JasperReports
          design, this file can be in the classpath. You should put these file
          in <i>src/main/resources/reports</i> in your project <i>(new in
            v7.0)</i>. Before v7.0 you may have a source code folder called <i>reports</i>
          in your project to hold these files. Other option is put this file in
          the file system <em>(new in v2.0.3)</em>, this is achieved by
          specifying the full path of file, for example: <em>/home/javi/Products.jrxml</em>
          or <em>c:\\reports\\Products.jrxml</em> (starting with windows driver
          letter recognized as absolute path <em>since v3.0.3</em>).</li>
</ul>
      By default the report is displayed in a popup window, but if you wish the
      report in the current window, then you can overwrite the method <em>inNewWindow()</em>.<br/>
      You can merge several reports in one PDF <em>(new in v5.0)</em>. Your
      action has to extend <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/JasperConcatReportBaseAction.html" rel="nofollow">JasperConcatReportBaseAction</a></em>. Useful when you
      need to concatenate several reports with different page formats
      (landscape, portrait).<br/>
      You can find more examples of JasperReport actions in the <em>OpenXavaTest</em>
      project, as <em>InvoiceReportAction</em> for printing an Invoice and <em>MovieReportAction</em>
      to concatenate reports.</div>
<div class="wiki" style="display: block;">You can also follow our reporting
      course <a href="report-course-my-first-report_en.html">here</a>.<br/>
<h2 id="toc17"><a name="uploading-file-ajax"></a>Uploading and processing
        a file from client (AJAX) <i>(new in v6.2)</i></h2>
      This feature allows you to process in your OpenXava application a binary
      file provided by the client, without page reloading and using drag &amp;
      drop.</div>
<div class="wiki" style="display: block;">The first step is to create a
      transient class that includes a property of type <i>org.apache.commons.fileupload.FileItem</i>:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-java">package com.yourcompany.uploadtest.model;

import java.time.*;
import org.apache.commons.fileupload.*;
import org.openxava.annotations.*;

public class ShowFile {
		
    @FileItemUpload(acceptFileTypes="text/plain", maxFileSizeInKb=200) // Since v6.6
    private FileItem file;
	
    private LocalDate date;

    public FileItem getFile() {
        return file;
    }

    public void setFile(FileItem file) {
        this.file = file;
    }

    public LocalDate getDate() {
        return date;
    }

    public void setDate(LocalDate date) {
        this.date = date;
    }

}
</code></pre> </div>
<div class="wiki" style="display: block;">Note as you can have more
      properties apart from <i>file</i>, such a date property in this case.
      Since v6.6 you can annotate your <i>FileItem</i> property with <a href="https://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/annotations/FileItemUpload.html"><i>@FileItemUpload</i></a>
      to limit the files to upload, in <i>acceptFileTypes</i> you put a <a href="https://docs.w3cub.com/http/basics_of_http/mime_types/complete_list_of_mime_types">list
        of mime types</a> separated by commas and you can use wildcards, and
      with <i>maxFileSizeInKb</i> you limit the size of the file. In this case
      only plain text files of 200 Kb at most can be uploaded.</div>
<div class="wiki" style="display: block;">Now you have to define a module in
      <i>application.xml</i> because transient classes are not automatically
      recognized as modules:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-xml">&lt;module name="ShowFile"&gt;
	&lt;model name="ShowFile"/&gt;
	&lt;controller name="ShowFile"/&gt;
&lt;/module&gt;
</code></pre> </div>
<div class="wiki" style="display: block;">Then you have to define the
      controller with the action to process the file. Add it in <i>controllers.xml</i>:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-xml">&lt;controller name="ShowFile"&gt;
	&lt;action name="showFile"
		class="com.yourcompany.uploadtest.actions.ShowFileAction"/&gt;    
&lt;/controller&gt;
</code></pre> </div>
<div class="wiki" style="display: block;">Finally, the logic that process
      the uploaded file in your action:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-java">package com.yourcompany.uploadtest.actions;

import java.time.*;

import org.apache.commons.fileupload.*;
import org.openxava.actions.*;

public class ShowFileAction extends ViewBaseAction {

	public void execute() throws Exception {
		FileItem file = (FileItem) getView().getValue("file");
		LocalDate date = (LocalDate) getView().getValue("date");
		addMessage(file.getName() + " shown on: " + date);
		addMessage(file.getName() + " content: " + file.getString());
	}
	
}
</code></pre> </div>
<div class="wiki" style="display: block;">In this case we just display the
      content as string in a message, but you can do whatever you want with the
      file using the <i>FileItem</i> API. Note as using the other properties of
      the view, <i>date</i> in this case, is done in the usual way.<br/>
<h2 id="toc17"><a name="Controllers-Uploading and processing a file from client (multipart form)"></a>Uploading
        and processing a file from client (multipart form)</h2>
<i>If you use v6.2 or better use FileItem instead of multipart forms, as
        explained in the above section</i></div>
<div class="wiki" style="display: block;"> This feature allows you to
      process in your OpenXava application a binary file (or several) provided
      by the client. This is implemented in a HTTP/HTML context using HTML
      multipart forms, although the OpenXava code is technologically neutral,
      hence your action will be portable to another environment with no
      recoding.<br/>
      In order to upload a file the first step is creating an action to direct
      to a form where the user can choose his file. This action must implements
      <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ILoadFileAction.html" rel="nofollow">ILoadFileAction</a></em> in this way:<br/>
<pre><code class="language-java">public class ChangeImageAction extends BaseAction implements ILoadFileAction {  // 1
    ...
    public void execute() throws Exception {                                    // 2
        showDialog();                                                           // 3
    }
 
    public String[] getNextControllers() {                                      // 4
        return new String [] { "LoadImage" };
    }
 
    public String getCustomView() {                                             // 5
        return "xava/editors/changeImage";
    }
 
    public boolean isLoadFile() {                                               // 6
        return true;
    }
 
    ...
}</code></pre>
      An <em>ILoadFileAction</em> (1) action is also an <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/INavigationAction.html" rel="nofollow">INavigationAction</a></em> action that allows you to
      navigate to another controller (4) and to a custom view (5). The new
      controller (4) usually will have an action of type <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IProcessLoadedFileAction.html" rel="nofollow">IProcessLoadedFileAction</a></em>. The method <em>isLoadFile()</em>
      (6) returns <em>true</em> in case that you want to navigate to the form
      to upload the file, you can use the logic in <em>execute()</em> (2) to
      determine this value. The custom view is (5) a JSP with your own form to
      upload the file. Optionally you can call <em>showDialog()</em> (3) if you
      want the form to choose files would be in a dialog.<br/>
      An example of a JSP for a custom view is:<br/>
<pre><code class="language-php">&lt;%@ include file="../imports.jsp"%&gt;
 
&lt;jsp:useBean id="style" class="org.openxava.web.style.Style" scope="request"/&gt;
 
&lt;table&gt;
    &lt;th align='left' class=&lt;%=style.getLabel()%&gt;&gt;
        &lt;fmt:message key="enter_new_image"/&gt;
    &lt;/th&gt;
    &lt;td&gt;
        &lt;input name = "newImage" class=&lt;%=style.getEditor()%&gt; type="file" size='60'/&gt;
    &lt;/td&gt;
&lt;/table&gt;</code></pre>
      As you see, the HTML form is not specified, because the OpenXava module
      already has the form.<br/>
      The last piece is the action for processing the uploaded files:<br/>
<pre><code class="language-java">public class LoadImageAction extends BaseAction
    implements INavigationAction, IProcessLoadedFileAction {          // 1
 
    private List fileItems;
    private View view;
    private String newImageProperty;
 
    public void execute() throws Exception {
        Iterator i = getFileItems().iterator();                       // 2
        while (i.hasNext()) {
            FileItem fi = (FileItem)i.next();                         // 3
            String fileName = fi.getName();
            if (!Is.emptyString(fileName)) {
                getView().setValue(getNewImageProperty(), fi.get());  // 4
            }
        }
    }
 
    public String[] getNextControllers() {
        return DEFAULT_CONTROLLERS;
    }
 
    public String getCustomView() {
        return DEFAULT_VIEW;
    }
 
    public List getFileItems() {
        return fileItems;
    }
 
    public void setFileItems(List fileItems) {                        // 5
        this.fileItems = fileItems;
    }
    ...
}</code></pre>
      The action implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IProcessLoadedFileAction.html" rel="nofollow">IProcessLoadedFileAction</a></em> (1), thus the action
      must have a method <em>setFileItem()</em> (5) to receive the list of
      uploaded files. This list can be processed in <em>execute()</em> (2). The
      elements of the collection are of type <em><a class="wiki_link_ext" href="http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html" rel="nofollow">org.apache.commons.fileupload.FileItem</a></em> (4)
      (from fileupload project of apache commons). Only calling to get() (4) in
      the file item you will access to the content of the uploaded file.<br/>
<h2 id="toc18"><a name="Controllers-Override the default controllers (new in v2.0.3)"></a>Override
        the default controllers <em>(new in v2.0.3)</em></h2>
      The controllers in <a href="https://github.com/openxava/openxava/blob/master/openxava/src/main/resources/xava/default-controllers.xml"><em>openxava/src/main/resources/xava/default-controllers.xml</em></a>
      (before v7.0 it was <em>OpenXava/xava/default-controllers.xml</em>,
      before v2.0.3 it was <em>OpenXava/xava/controllers.xml</em>) are used by
      OpenXava to give to application a default behavior. Many times the easier
      way to override the default behavior of OpenXava is creating our own
      controllers and use them in our applications, that is you can create a
      controller called <em>MyTypical</em>, and using it in your modules
      instead of <em>Typical</em> that comes with OpenXava.<br/>
      Another option is override a default controller of OpenXava. In order to
      override a default controller you only need to create in your application
      a controller with the same name of default one. For example, if you want
      refine the collections behavior for your application then you have to
      create a <em>Collection</em> controller in your <em>controllers.xml</em>,
      as following:<br/>
<pre><code class="language-xml">&lt;controller name="Collection"&gt;
    &lt;action name="new"
        class="org.openxava.actions.CreateNewElementInCollectionAction"/&gt;
    &lt;action name="hideDetail"                                               &lt;!-- 1 --&gt;
        class="org.openxava.test.actions.MyHideDetailElementInCollection"/&gt;
    &lt;action name="save"
        class="org.openxava.actions.SaveElementInCollectionAction"&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since 4m2 --&gt;
    &lt;/action&gt;
    &lt;action name="remove"
        class="org.openxava.actions.RemoveElementFromCollectionAction"&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since 4m2 --&gt;
    &lt;/action&gt;
    &lt;action name="edit"
        class="org.openxava.actions.EditElementInCollectionAction"&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since 4m2 --&gt;
    &lt;/action&gt;
    &lt;action name="view"
        class="org.openxava.actions.EditElementInCollectionAction"&gt;
        &lt;use-object name="xava_view"/&gt;  &lt;!-- Not needed since 4m2 --&gt;
    &lt;/action&gt;
    &lt;action name="next" &lt;!-- New since v7.3 --&gt;
	image="next.gif"
	icon="skip-next"
	class="org.openxava.actions.EditElementInCollectionAction"&gt;
	&lt;set property="openDialog" value="false"/&gt; 
	&lt;set property="nextValue" value="1"/&gt; 
    &lt;/action&gt;	
    &lt;action name="previous" &lt;!-- New since v7.3 --&gt;
	image="previous.gif"
	icon="skip-previous"
	class="org.openxava.actions.EditElementInCollectionAction"&gt;
	&lt;set property="openDialog" value="false"/&gt; 
	&lt;set property="nextValue" value="-1"/&gt; 
    &lt;/action&gt;<br/>    &lt;action name="deleteSelected" &lt;!-- New since v7.4 --&gt;
	confirm="true"
	icon="delete" 
	image="delete.gif" 
	in-each-row="true"
	class="org.openxava.actions.DeleteSelectedInCollectionAction"/&gt;	
 &lt;/controller&gt;</code></pre>
      In this case we only override the behavior of <em>hideDetail</em> (1)
      action. But we must declare all actions of the original controller,
      because OpenXava rely on all these actions for working; we cannot remove
      or rename actions.</div>
<div class="wiki" style="display: block;">Starting from v7.5, if you are
      developing a library or framework instead of a final application, you can
      define your library's controllers in <i>default-controllers-ext.xml</i>
      (instead of <i>controllers.xml</i>). This way, in your library or
      framework, you can override an OpenXava controller, but the user of your
      library will also be able to override it if they wish, always respecting
      the following priority: first <i>controllers.xml</i> (application), then
      <i>default-controllers-ext.xml</i> (library/framework), and finally <i>default-controllers.xml</i>
      (OpenXava).<br/>
<h2 id="toc19"><a name="Controllers-Showing a modal dialog (new in v4m2)"></a>Showing
        a modal dialog <em>(new in v4m2)</em></h2>
      You can show a dialog calling to <em>showDialog()</em> method of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ViewBaseAction.html" rel="nofollow">ViewBaseAction</a></em>. We suppose the current view
      contains an address (embeddable), and we want an action to show a dialog
      to fill the full address in only one line.<br/>
      The action declaration in <em>controllers.xml</em> can be:<br/>
<pre><code class="language-xml">&lt;controller name="Address"&gt;
    &lt;action name="addFullAddress"
        class="org.openxava.test.actions.GoAddFullAddressAction"/&gt;
&lt;/controller&gt;</code></pre>
      Here you have the action code:<br/>
<pre><code class="language-java">public class GoAddFullAddressAction extends ViewBaseAction {  // 1
 
    public void execute() throws Exception {
        showDialog();                                         // 2
        getView().setTitleId("entry_full_address");           // 3
        // getView().setTitle("Entry the full address");      // 4
        getView().setModelName("OneLineAddress");             // 5
        setControllers("AddFullAddress", "Dialog");           // 6
        // addActions("AddFullAddress.add", "Dialog.cancel"); // 7
    }
 
}</code></pre>
      Basically, it shows a new view inside a dialog (2) , set its title (3),
      its content (5) and the dialog buttons (6).<br/>
      It must extend <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ViewBaseAction.html" rel="nofollow">ViewBaseAction</a></em> (1) to use <em>showDialog()</em>.<br/>
      The dialog buttons are specified by means of <em>setControllers</em> (6)
      or <em>addActions</em> (7). The 'Dialog' controller contains a default
      'cancel' action. Though you can specify your own cancel action, indeed if
      you have an action named 'cancel' it will be executed automatically when
      the user will close the dialog window.<br/>
      The title can be set using <em>View.setTitleId</em>() (3), in this case
      you indicate a id from i18n files (labels or messages), or you can use <em>View.setTitle()</em>
      (4) to put the title literally. If you do not specify title OpenXava
      generates one from the action description.<br/>
      To set the dialog content we use <em>View.setModelName()</em> to assign
      an entity or <a class="wiki_link" href="view_en.html#View-Transient%20class:%20Only%20for%20creating%20views">transient
        class</a> to de current view. In our case it's a transient class, <em>OneLineAddress</em>:<br/>
<pre><code class="language-java">public class OneLineAddress {
 
    private String fullAdress;
 
    public String getFullAdress() {
        return fullAdress;
    }
 
    public void setFullAdress(String fullAdress) {
        this.fullAdress = fullAdress;
    }
 
}</code></pre>
      Just one property. So the dialog will have only a label with a text field
      to entry the full address.<br/>
      Let's see the <em>AddFullAddress</em> controller that defines the dialog
      buttons:<br/>
<pre><code class="language-xml">&lt;controller name="AddFullAddress"&gt;
    &lt;action name="add"
        class="org.openxava.test.actions.AddFullAddressAction"/&gt;
&lt;/controller&gt;</code></pre>
      As you can see we declare the main action of the dialog, whose code is:<br/>
<pre><code class="language-java">public class AddFullAddressAction extends ViewBaseAction {
 
    public void execute() throws Exception {
        String fullAddress = getView().getValueString("fullAdress"); // 1
        String [] tokens = fullAddress.split(" ");
        View addressView = getPreviousView().getSubview("address");  // 2
        String [] properties = { "state.id", "city", "zipCode", "street" };
        int iTokens = tokens.length;
        for (int iProperties = 0; iProperties &lt; 4 &amp;&amp; iTokens &gt; 0; iProperties++) {
            addressView.setValue(properties[iProperties], tokens[--iTokens]);
        }
        StringBuffer street = new StringBuffer();
        for (int i = 0; i &lt;= iTokens; i++) {
            street.append(tokens[i]);
            street.append(' ');
        }
        addressView.setValue("street", street.toString().trim());
 
        closeDialog();                                      // 3
    }
 
}</code></pre>
      Note how using <em>getView()</em> (1) you can access to the dialog
      content, because now the current view is the dialog. Also you can access
      to the previous view (2) (the view back, the main view of the module in
      this case) to manage it, using <em>getPreviousView()</em>. To discard the
      dialog view and set as current view the previous one we call to <em>closeDialog()</em>
      (3).<br/>
<h2 id="toc20"><a name="Controllers-Showing a modal dialog (only in v4m1)"></a>Showing
        a modal dialog <em>(only in v4m1)</em></h2>
<em><strong>Note</strong>: <span style="color: #ff0000;">This way to use
          dialogs is not available since v4m2</span></em><br/>
      Showing a dialog is declarative. You can take any of your existing
      actions, marking it as <em>show-dialog="true"</em> in its <em>&lt;action
        /&gt;</em> declaration, and when the action will be executed a dialog
      will be shown.<br/>
      Let's make an example. We suppose the current view contains an address
      (embeddable), and we want an action to show a dialog to fill the full
      address in only one line.<br/>
      The action declaration in <em>controllers.xml</em> can be:<br/>
<pre><code class="language-xml">&lt;controller name="Address"&gt;
 
    &lt;action name="addFullAddress"
        show-dialog="true"                         &lt;!-- 1 --&gt;
        class="org.openxava.test.actions.GoAddFullAddressAction"&gt;
        &lt;use-object name="xava_view"/&gt;             &lt;!-- 2 --&gt;
        &lt;use-object name="xava_previousViews"/&gt;    &lt;!-- 3 --&gt;
    &lt;/action&gt;
 
&lt;/controller&gt;</code></pre>
      Just <em>show-dialog="true"</em> is enough to show the dialog. By default
      the dialog shows the current view, so we want to change the current view
      in order to define the dialog content, and when the dialog will be close
      we'll restore the original view. To do this we inject <em>xava_view</em>
      (2) to manager the current view and <em>xava_previousViews</em> to
      navigate to a new view and then return back.<br/>
      Here you have the action code:<br/>
<pre><code class="language-java">public class GoAddFullAddressAction
    extends ViewBaseAction                                // 1
    implements IChangeControllersAction {                 // 2
 
    public void execute() throws Exception {
        showNewView();                                    // 3
        getView().setTitleId("entry_full_address");       // 4
        // getView().setTitle("Entry the full address");
        getView().setModelName("OneLineAddress");         // 5
    }
 
    public String[] getNextControllers() throws Exception {
        return new String [] { "AddFullAddress" };        // 2
    }
 
}</code></pre>
      Basically, it shows a new view (3), set its title (4), its content (5) and
      the dialog buttons (1).<br/>
      It must extend <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ViewBaseAction.html" rel="nofollow">ViewBaseAction</a></em> (1) to use <em>showNewView()</em>
      (that uses <em>xava_previousViews</em>) and <em>getView()</em> (that
      uses <em>xava_view</em>), and it implements <em>IChangeControllersAction</em>
      (2) to define the action buttons, in this case the actions from <em>AddFullAddress</em>
      controller.<br/>
      The title can be set using <em>View.setTitleId</em>() (4) in this case
      you indicate a id from i18n files (labels or messages), or you can use <em>View.setTitle()</em>
      to put the title literally. If you do not specify title OpenXava generates
      one from the action description.<br/>
      To set the dialog content we use <em>View.setModelName()</em> to assign
      an entity or <a class="wiki_link" href="view_en.html#toc32">transient
        class</a> to de current view. In our case it's a transient class, <em>OneLineAddress</em>:<br/>
<pre><code class="language-java">public class OneLineAddress {
 
    private String fullAdress;
 
    public String getFullAdress() {
        return fullAdress;
    }
 
    public void setFullAdress(String fullAdress) {
        this.fullAdress = fullAdress;
    }
 
}</code></pre>
      Just one property. So the dialog will have only a label with a text editor
      to entry the full address.<br/>
      Let's see the <em>AddFullAddress</em> controller that defines the dialog
      buttons:<br/>
<pre><code class="language-xml">&lt;controller name="AddFullAddress"&gt;
 
    &lt;action name="add" hide-dialog="true"          &lt;!-- 1 --&gt;
        class="org.openxava.test.actions.AddFullAddressAction"&gt;
        &lt;use-object name="xava_previousViews"/&gt;      &lt;!-- 2 --&gt;
        &lt;use-object name="xava_view"/&gt;
    &lt;/action&gt;
 
    &lt;action name="cancel"                            &lt;!-- 3 --&gt;
        class="org.openxava.actions.CancelAction"&gt;
        &lt;use-object name="xava_previousViews"/&gt;      &lt;!-- 2 --&gt;
        &lt;use-object name="xava_view"/&gt;
    &lt;/action&gt;
 
&lt;/controller&gt;</code></pre>
      As you can see the dialog will have two buttons: "add" and "cancel". Both
      actions hide the dialog on finish, "add" because declare <em>hide-dialog="true"</em>
      and "cancel" because its name (3); actions named "cancel" hide by default
      the dialog. Both actions inject <em>xava_previousViews</em> (2) to return
      back to previous view.<br/>
      The <em>CancelAction</em> is included in OpenXava. The <em>AddFullAddressAction</em>
      code is as following:<br/>
<pre><code class="language-java">public class AddFullAddressAction extends ViewBaseAction {
 
    public void execute() throws Exception {
        String fullAddress = getView().getValueString("fullAdress"); // 1
        String [] tokens = fullAddress.split(" ");
        View addressView = getPreviousView().getSubview("address");  // 2
        String [] properties = { "state.id", "city", "zipCode", "street" };
        int iTokens = tokens.length;
        for (int iProperties = 0; iProperties &lt; 4 &amp;&amp; iTokens &gt; 0; iProperties++) {
            addressView.setValue(properties[iProperties], tokens[--iTokens]);
        }
        StringBuffer street = new StringBuffer();
        for (int i = 0; i &lt;= iTokens; i++) {
            street.append(tokens[i]);
            street.append(' ');
        }
        addressView.setValue("street", street.toString().trim());
 
        returnToPreviousView();                                      // 3
}
 </code></pre>
      Note how using <em>getView()</em> (1) you can access to the dialog
      content, because now the current view is the dialog. Also you can access
      to the previous view (2) (the view back, the main view of the module in
      this case) to manage it, using <em>getPreviousView()</em>. To discard the
      dialog view and set as current view the previous one we call to <em>returnToPreviousView()</em>
      (3).<br/>
      This view navigation logic is not specific for dialogs, indeed you can
      remove the <em>show-dialog="true"</em> and see how it works fine, but
      without dialog.</div>
<div class="wiki" style="display: block;"> <a name="overwriting-go-list-action"></a>
<h2>Overwriting go list action</h2>
      The action to go list from detail mode:</div>
<img alt="" src="files/controllers_en030.png"/>
<div class="wiki" style="display: block;"><br/>
</div>
<div class="wiki" style="display: block;">It's by default <i>Mode.list</i>.
      You can overwrite it defining your own <i>mode-controller</i> for your
      module. For that, define your module in <i>application.xml</i> (in <i>src/main/resources/xava</i>
      for v7 or better and just in <i>xava</i> folder for older versions) of
      your project in this way:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-xml">&lt;module name="Author"&gt;
	&lt;model name="Author"/&gt; 
	&lt;controller name="Typical"/&gt;
	&lt;mode-controller name="MyGoListMode"/&gt;
&lt;/module&gt;        </code></pre>
</div>
<div class="wiki" style="display: block;">Then you have to define the <i>MyGoListMode</i>
      controller in your <i>controllers.xml</i>, thus:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-xml">&lt;controller name="MyGoListMode"&gt;
	&lt;extends controller="Mode"/&gt;
	&lt;action name="list"
		icon="chevron-left"
		class="org.openxava.test.actions.MyGoListAction"
		keystroke="F9"/&gt;
&lt;/controller&gt;
</code></pre> </div>
<div class="wiki" style="display: block;">Note that we extends the <i>Mode</i>
      controller and overwrite <i>list</i> action. Now just remains writing the
      action code, it could be:</div>
<div class="wiki" style="display: block;">
<pre><code class="language-java">package org.openxava.test.actions;

import org.openxava.actions.*;

public class MyGoListAction extends GoListAction {
	
	public void execute() throws Exception {
		super.execute();
		addMessage("back_to_list"); 
	}

}
</code></pre> </div>
<div class="wiki" style="display: block;">The logic can be whatever you
      want, in this case we just refine the standard behavior extending <i>GoListAction</i>.<br/>
<h2 id="toc21"><a name="Controllers-All action types"></a>All action types</h2>
      You have seen until now that the behavior of your actions depends on which
      interfaces they implement. Next the available interfaces for actions are
      enumerated:<br/>
<ul>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAction.html" rel="nofollow"> IAction</a></strong>: Basic interface to be
          implemented by all actions.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAvailableAction.html" rel="nofollow"> IAvailableAction</a></strong>: <em>(New in v5.9)</em>
          The action can be available for the user or hidden, depend on a
          programmatic condition.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IChainAction.html" rel="nofollow"> IChainAction</a></strong>: Allows you to chain
          actions, that is when the execution of the action finishes, then the
          next action is executed immediately.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IChainActionWithArgv.html" rel="nofollow"> IChainActionWithArgv</a></strong>: <em>(New in
            v2.2)</em> It's a refinement of <em>IChainAction</em>. It allows to
          send as arguments values for filling properties of the chained action
          before execute it.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IChangeControllersAction.html" rel="nofollow"> IChangeControllersAction</a></strong>: To change
          the controller (the actions) available to user. <em>New in v4m2:</em>
          You can just use the <em>setControllers()</em>, <em>returnToPreviousControllers()</em>,
          <em>setDefaultControllers()</em>, <em>addActions()</em>, <em>removeActions()</em>
          and <em>clearActions()</em> methods of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> instead of implementing
          directly this interface.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IChangeModeAction.html" rel="nofollow"> IChangeModeAction</a></strong>: To change the
          mode, from list to detail or vice versa. <em>New in v4m1:</em> You
          can just use the <em>setNextMode()</em> method of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> instead of implementing
          directly this interface.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IChangeModuleAction.html" rel="nofollow"> IChangeModuleAction</a></strong>: To change the
          module.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ICustomViewAction.html" rel="nofollow"> ICustomViewAction</a></strong>: To use as view
          your custom JSP.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IForwardAction.html" rel="nofollow"> IForwardAction</a></strong>: Redirects to an
          internal URI in the same application, like a JSP or Servlet, or to an
          absolute URL in internet <em>(absolute URL new in v4m1)</em>. It is
          not like <em>ICustomViewAction</em>; <em>ICustomViewAction</em> puts
          your JSP inside the user interface generated by OpenXava (that can be
          inside a portal), while <em>IForwardAction</em> redirects completely
          to the specified URI.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IHideActionAction.html" rel="nofollow"> IHideActionAction</a></strong>, <strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IHideActionsAction.html" rel="nofollow">IHideActionsAction</a></strong>: Allows to hide an
          action or a group of actions in the User Interface <em>(new in v2.0)</em>.
          <em>New in v4m2:</em> You can just use the <em>removeActions()</em>
          and <em>clearActions()</em> methods of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> instead of implementing
          directly these interfaces. Another alternative to hide and show
          actions is that the action to be hidden implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAvailableAction.html" rel="nofollow">IAvailableAction</a></em> <em>(new in v5.9)</em>.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IJavaScriptPostAction.html" rel="nofollow"> IJavaScriptPostAction</a></strong>: Executes some
          JavaScript code after the regular action execution.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IJDBCAction.html" rel="nofollow"> IJDBCAction</a></strong>: Allows to use JDBC in an
          action directly. It receives an <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/util/IConnectionProvider.html" rel="nofollow">IConnectionProvider</a></em>. Works like an <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/calculators/IJDBCCalculator.html" rel="nofollow">IJDBCCalculator</a></em> (see chapter 3).</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/ILoadFileAction.html" rel="nofollow"> ILoadFileAction</a></strong>: Navigates to a view
          that allows the final user to load a file.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IModelAction.html" rel="nofollow"> IModelAction</a></strong>: An action that receives
          the model name.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IModuleContextAction.html" rel="nofollow"> IModuleContextAction</a></strong>: Gets a <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/controller/ModuleContext.html" rel="nofollow">ModuleContext</a></em> in order to access the
          session objects of other modules. <em>New in v4m1:</em> You can just
          use the <em>getContext()</em> method of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> instead of implementing
          directly this interface.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IMultipleForwardAction.html" rel="nofollow">IMultipleForwardAction</a></strong>: <em>(New in
            v4.3)</em> Redirects to several internal URIs in the same
          application, like JSPs or Servlets, or to several absolute URLs in
          internet.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/INavigationAction.html" rel="nofollow">INavigationAction</a></strong>: Extends from <em>IChangeControllersAction</em>
          and <em>ICustomViewAction</em>.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IOnChangePropertyAction.html" rel="nofollow"> IOnChangePropertyAction</a></strong>: This
          interface must be implemented by the actions that react to the value
          change event in the user interface.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IProcessLoadedFileAction.html" rel="nofollow"> IProcessLoadedFileAction</a></strong>: Processes a
          list of files uploaded from client to server.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IPropertyAction.html" rel="nofollow">IPropertyAction</a></strong>: This action is
          associated to an property (displayed in User Interface), before
          execute it the property name and the container view is injected <em>(new
            in v2.0.2)</em>.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IRequestAction.html" rel="nofollow"> IRequestAction</a></strong>: Receives a servlet
          request. This type of actions links your application to the
          Servlet/JSP technology, hence it is better avoiding it. But sometimes
          a little bit of flexibility is needed. <em>New in v4m1:</em> You can
          just use the <em>getRequest()</em> method of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> instead of implementing
          directly this interface.</li>
<li><strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IShowActionAction.html" rel="nofollow"> IShowActionAction</a></strong>, <strong><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IShowActionsAction.html" rel="nofollow">IShowActionsAction</a></strong>: Allows to show an
          action or a group of actions previously hidden in an <em>IHideAction(s)Action</em>
<em>(new in v2.0)</em>. <em>New in v4m2:</em> You can just use the <em>addActions()</em>
          method of <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> instead of implementing
          directly these interfaces. Another alternative to hide and show
          actions is that the action to be shown implements <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IAvailableAction.html" rel="nofollow">IAvailableAction</a></em> <em>(new in v5.9)</em>.</li>
</ul>
      Many times instead of implementing directly these interfaces your action
      can extend from a base action, such as <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/BaseAction.html" rel="nofollow">BaseAction</a></em> that already implement them.<br/>
      If you wish to learn more about actions the best thing you can do is to
      have a look at the JavaDoc API of the package <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/package-summary.html" rel="nofollow">org.openxava.actions</a></em> and to try out the
      examples of <em>OpenXavaTest</em> project.<br/>
<span style="display: block; height: 1px; left: -40px; overflow: hidden; position: absolute; top: 13271.5px; width: 1px;">excluded-actions</span>
</div>
</body>
</html>
